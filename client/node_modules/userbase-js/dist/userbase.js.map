{"version":3,"sources":["webpack://userbase/webpack/bootstrap","webpack://userbase/./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js","webpack://userbase/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://userbase/./node_modules/uuid/v4.js","webpack://userbase/(webpack)/buildin/global.js","webpack://userbase/./node_modules/buffer/index.js","webpack://userbase/./node_modules/bn.js/lib/bn.js","webpack://userbase/./node_modules/lz-string/libs/lz-string.js","webpack://userbase/./node_modules/diffie-hellman/lib/generatePrime.js","webpack://userbase/./node_modules/randombytes/browser.js","webpack://userbase/./node_modules/process/browser.js","webpack://userbase/./node_modules/miller-rabin/lib/mr.js","webpack://userbase/./node_modules/diffie-hellman/browser.js","webpack://userbase/./node_modules/scrypt-js/scrypt.js","webpack://userbase/./node_modules/sorted-array/sorted-array.js","webpack://userbase/./node_modules/uuid/lib/rng-browser.js","webpack://userbase/./node_modules/uuid/lib/bytesToUuid.js","webpack://userbase/./node_modules/base64-js/index.js","webpack://userbase/./node_modules/ieee754/index.js","webpack://userbase/./node_modules/isarray/index.js","webpack://userbase/./node_modules/safe-buffer/index.js","webpack://userbase/(webpack)/buildin/module.js","webpack://userbase/./node_modules/brorand/index.js","webpack://userbase/./node_modules/diffie-hellman/lib/dh.js","webpack://userbase/./node_modules/timers-browserify/main.js","webpack://userbase/./node_modules/setimmediate/setImmediate.js","webpack://userbase/./src/statusCodes.js","webpack://userbase/./src/errors/auth.js","webpack://userbase/./src/errors/db.js","webpack://userbase/./src/errors/config.js","webpack://userbase/./src/errors/payments.js","webpack://userbase/./src/errors/index.js","webpack://userbase/./src/config.js","webpack://userbase/./src/api/auth.js","webpack://userbase/./src/api/index.js","webpack://userbase/./src/localData.js","webpack://userbase/./src/Crypto/utils.js","webpack://userbase/./src/Crypto/sha-256.js","webpack://userbase/./src/Crypto/hkdf.js","webpack://userbase/./src/Crypto/aes-gcm.js","webpack://userbase/./src/Crypto/diffie-hellman.js","webpack://userbase/./src/Crypto/hmac.js","webpack://userbase/./src/Crypto/index.js","webpack://userbase/./src/Crypto/scrypt.js","webpack://userbase/./src/utils.js","webpack://userbase/./src/ws.js","webpack://userbase/./src/auth.js","webpack://userbase/./src/db.js","webpack://userbase/./src/payments.js","webpack://userbase/./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","chars","lookup","Uint8Array","length","charCodeAt","encode","arraybuffer","bytes","len","base64","substring","decode","encoded1","encoded2","encoded3","encoded4","bufferLength","ArrayBuffer","obj","configurable","writable","rng","bytesToUuid","options","buf","offset","Array","rnds","random","ii","g","this","Function","e","window","ieee754","isArray","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","__proto__","arg","encodingOrOffset","Error","allocUnsafe","from","TypeError","array","byteOffset","byteLength","undefined","fromArrayLike","fromArrayBuffer","string","encoding","isEncoding","actual","write","slice","fromString","isBuffer","checked","copy","buffer","val","type","data","fromObject","assertSize","size","toString","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","b","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","indexOf","lastIndexOf","arr","indexSize","arrLength","valLength","String","read","readUInt16BE","foundIndex","found","j","hexWrite","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","push","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","Math","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","fromCharCode","apply","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","global","foo","subarray","typedArraySupport","poolSize","_augment","species","fill","allocUnsafeSlow","_isBuffer","compare","a","x","y","concat","list","pos","swap16","swap32","swap64","arguments","equals","inspect","max","match","join","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","toHex","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","set","code","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","trim","replace","stringtrim","base64clean","src","dst","assert","msg","inherits","ctor","superCtor","super_","TempCtor","constructor","BN","number","base","endian","isBN","negative","words","red","_init","wordSize","parseHex","parseBase","num","left","right","cmp","_initNumber","_initArray","_parseHex","_parseBase","strip","toArray","ceil","w","off","limbLen","limbPow","total","mod","word","imuln","_iaddn","dest","clone","_expand","_normSign","zeros","groupSizes","groupBases","smallMulTo","self","carry","k","ncarry","rword","maxJ","padding","groupSize","groupBase","isZero","modn","idivn","toNumber","toBuffer","toArrayLike","ArrayType","reqLength","q","andln","iushrn","clz32","_countBits","_zeroBits","bitLength","zeroBits","toTwos","width","abs","inotn","iaddn","fromTwos","testn","notn","ineg","isNeg","neg","iuor","ior","or","uor","iuand","iand","and","uand","iuxor","ixor","xor","uxor","bytesNeeded","bitsLeft","setn","bit","wbit","iadd","isub","add","comb10MulTo","mid","a0","al0","ah0","a1","al1","ah1","a2","al2","ah2","a3","al3","ah3","a4","al4","ah4","a5","al5","ah5","a6","al6","ah6","a7","al7","ah7","a8","al8","ah8","a9","al9","ah9","b0","bl0","bh0","b1","bl1","bh1","b2","bl2","bh2","b3","bl3","bh3","b4","bl4","bh4","b5","bl5","bh5","b6","bl6","bh6","b7","bl7","bh7","b8","bl8","bh8","b9","bl9","bh9","w0","imul","w1","w2","w3","w4","w5","w6","w7","w8","w9","w10","w11","w12","w13","w14","w15","w16","w17","w18","jumboMulTo","FFTM","mulp","mulTo","hncarry","bigMulTo","makeRBT","N","revBin","rb","permute","rbt","rws","iws","rtws","itws","transform","rtwdf","cos","PI","itwdf","sin","rtwdf_","itwdf_","re","ie","ro","io","rx","guessLen13b","odd","conjugate","normalize13b","ws","round","convert13b","stub","ph","_","rwst","iwst","nrws","nrwst","niwst","rmws","mulf","muln","sqr","isqr","toBitArray","iushln","bits","carryMask","newCarry","ishln","hint","extended","h","mask","maskedWords","ishrn","shln","ushln","shrn","ushrn","imaskn","maskn","isubn","addn","subn","iabs","_ishlnsubmul","shift","_wordDiv","bhi","diff","qj","div","divmod","positive","divn","umod","divRound","dm","half","r2","acc","egcd","A","B","C","D","isEven","yp","xp","im","isOdd","jm","gcd","_invmp","x1","x2","delta","cmpn","invm","bincn","ucmp","gtn","gt","gten","gte","ltn","lt","lten","lte","eqn","eq","Red","toRed","ctx","convertTo","_forceRed","fromRed","convertFrom","forceRed","redAdd","redIAdd","redSub","redISub","redShl","shl","redMul","_verify2","redIMul","redSqr","_verify1","redISqr","redSqrt","sqrt","redInvm","redNeg","redPow","primes","k256","p224","p192","p25519","MPrime","tmp","_tmp","K256","P224","P192","P25519","prime","_prime","Mont","imod","rinv","minv","ireduce","rlen","split","imulK","input","output","outLen","prev","next","mod3","one","nOne","lpow","z","inv","wnd","current","currentLen","mont","u","LZString","f","keyStrBase64","keyStrUriSafe","baseReverseDic","getBaseValue","alphabet","character","charAt","compressToBase64","_compress","decompressFromBase64","_decompress","index","compressToUTF16","decompressFromUTF16","compressed","compressToUint8Array","uncompressed","compress","TotalLen","current_value","decompressFromUint8Array","decompress","result","forEach","compressToEncodedURIComponent","decompressFromEncodedURIComponent","bitsPerChar","getCharFromInt","context_dictionary","context_dictionaryToCreate","context_c","context_wc","context_w","context_enlargeIn","context_dictSize","context_numBits","context_data","context_data_val","context_data_position","resetValue","getNextValue","resb","maxpower","power","dictionary","enlargeIn","dictSize","numBits","entry","position","randomBytes","findPrime","simpleSieve","fermatTest","TWENTYFOUR","millerRabin","ONE","TWO","FIVE","TEN","THREE","ELEVEN","FOUR","_getPrimes","gen","n2","test","crypto","msCrypto","getRandomValues","cb","generated","process","nextTick","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","noop","args","title","browser","env","argv","version","versions","on","addListener","once","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","bn","brorand","MillerRabin","rand","Rand","_randbelow","min_bytes","generate","_randrange","stop","rone","n1","rn1","getDivisor","DH","ENCODINGS","DiffieHellmanGroup","createDiffieHellmanGroup","getDiffieHellman","createDiffieHellman","DiffieHellman","enc","generator","genc","generatePrime","root","SHA256","K","Uint32Array","h0","h1","h2","h3","h4","h5","h6","h7","blocks","t1","t2","bytesLeft","bitLenHi","bitLenLo","numZeros","PBKDF2_HMAC_SHA256_OneIter","password","salt","dkLen","innerLen","inner","outerKey","dk","incrementCounter","blockmix_salsa8","BY","Yi","_X","arraycopy","blockxor","salsa20_8","R","S","Si","srcPos","destPos","checkBufferish","v","ensureInteger","_scrypt","callback","XY","V","totalOps","i1","Bi","currentOp","lastPercent10","state","i0","setImmediate","incrementalSMix","steps","percent10","derivedKey","lib","scrypt","progressCallback","Promise","resolve","reject","lastProgress","error","progress","syncScrypt","SortedArray","compareDefault","insert","element","ordering","high","low","search","remove","splice","comparing","rnds8","byteToHex","bth","b64","lens","getLens","validLen","placeHoldersLen","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","parts","len2","encodeChunk","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","log","LN2","copyProps","SafeBuffer","webpackPolyfill","deprecate","paths","children","_rand","getBytes","getByte","SEVEN","setPublicKey","pub","_pub","setPrivateKey","priv","_priv","primeCache","malleable","setGenerator","__prime","_primeLen","_primeCode","formatReturnValue","hex","rem","checkPrime","__gen","generateKeys","_gen","getPublicKey","computeSecret","other","secret","getPrime","front","getPrivateKey","getGenerator","Timeout","id","clearFn","_id","_clearFn","scope","setInterval","clearInterval","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","registerImmediate","html","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","document","attachTo","getPrototypeOf","handle","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","event","port2","createElement","documentElement","script","onreadystatechange","removeChild","appendChild","source","addEventListener","attachEvent","task","UsernameAlreadyExists","params","super","message","status","statusCodes","UsernameMissing","UsernameCannotBeBlank","UsernameTooLong","maxLen","UsernameMustBeString","PasswordMissing","PasswordCannotBeBlank","PasswordTooShort","minLen","PasswordTooLong","PasswordMustBeString","PasswordAttemptLimitExceeded","delay","UsernameOrPasswordMismatch","UserAlreadySignedIn","username","UserPendingDeletion","AppIdNotValid","UserNotSignedIn","UserNotFound","UserEmailNotFound","EmailNotValid","ProfileMustBeObject","ProfileCannotBeEmpty","ProfileHasTooManyKeys","maxKeys","ProfileKeyTooLong","ProfileValueMustBeString","ProfileValueCannotBeBlank","ProfileValueTooLong","RememberMeValueNotValid","JSON","stringify","keys","ParamsMissing","TrialExceededLimit","CurrentPasswordMissing","CurrentPasswordIncorrect","KeyNotFound","DatabaseNameMissing","DatabaseNameCannotBeBlank","DatabaseNameMustBeString","DatabaseNameTooLong","maxLength","DatabaseAlreadyOpening","ChangeHandlerMissing","ChangeHandlerMustBeFunction","DatabaseNotOpen","ItemMissing","ItemInvalid","ItemTooLarge","maxKb","ItemIdMustBeString","ItemIdTooLong","ItemIdMissing","ItemIdCannotBeBlank","ItemAlreadyExists","ItemDoesNotExist","ItemUpdateConflict","OperationsMissing","OperationsMustBeArray","CommandNotRecognized","command","OperationsConflict","OperationsExceedLimit","AppIdAlreadySet","appId","AppIdMustBeString","AppIdMissing","AppIdCannotBeBlank","WebCryptoUnavailable","SuccessUrlMissing","SuccessUrlMustBeString","SuccessUrlInvalid","invalidProtocol","CancelUrlMissing","CancelUrlMustBeString","CancelUrlInvalid","StripeJsLibraryMissing","PaymentsDisabled","SubscriptionPlanNotSet","SubscriptionPlanAlreadyPurchased","StripeAccountNotConnected","SubscriptionNotFound","SubscribedToIncorrectPlan","SubscriptionInactive","subscriptionStatus","SubscriptionNotPurchased","SubscriptionAlreadyCanceled","TrialExpired","StripeError","AppIdNotSet","ServiceUnavailable","ParamsMustBeObject","TooManyRequests","retryDelay","retryDelaySeconds","InternalServerError","Reconnecting","UnknownServiceUnavailable","console","userbaseAppId","local","session","none","errors","_userbaseEndpoint","setAppId","isProduction","_USERBASE_STRIPE_PRODUCTION_PUBLISHABLE_KEY","_USERBASE_STRIPE_TEST_PUBLISHABLE_KEY","RequestError","statusText","response","TimeoutError","processXhr","xhr","onload","parse","handleResponse","onerror","ontimeout","signUp","passwordToken","publicKey","passwordSalts","keySalts","email","profile","passwordBasedBackup","XMLHttpRequest","url","config","open","setRequestHeader","send","getPasswordSalts","encodeURIComponent","signIn","async","signInWithSession","sessionId","getServerPublicKey","responseType","tryCatchWrapper","func","warn","_getSeedName","setCurrentSession","rememberMe","signedIn","creationDate","expirationDate","sessionString","localStorage","setItem","sessionStorage","signInSession","signOutSession","getCurrentSession","sessionStorageCurrentSessionString","getItem","localCurrentSessionString","localCurrentSession","localSessionString","saveSeedString","seedString","removeSeedString","seedName","removeItem","getSeedString","removeCurrentSession","stringToArrayBuffer","bufView","Uint16Array","hash","subtle","digest","BYTE_SIZE","HASH_ALGORITHM_NAME","hashBase64String","dataString","hashString","KEY_WILL_BE_USED_TO","importHkdfKey","importKey","seed","SALT_BYTE_SIZE","sha256","getParams","keyName","info","importHkdfKeyFromString","generateSalt","getPasswordToken","hkdfKey","passwordTokenBits","deriveBits","windowOrSelfObject","getEncryptionKeyParams","getKeyFromRawKey","rawKey","encrypt","plaintext","iv","buffer1","buffer2","appendBuffer","tagLength","encryptString","plaintextString","plaintextArrayBuffer","encrypted","decrypt","ivStartIndex","ciphertextArrayBuffer","decryptString","encryptedString","encryptedArrayBuffer","chunkSize","chunk","arrayBufferToString","importKeyFromMaster","masterKey","deriveKey","hkdf","generateKey","getKeyStringFromKey","exportKey","getKeyFromKeyString","keyString","getRawKeyFromKey","encryptJson","plaintextJson","decryptJson","encryptedJsonString","getPasswordBasedEncryptionKey","PRIME","hexString","halfHexStringLen","byteStartIndex","byte","byteAsInt","hexStringToArrayBuffer","GENERATOR","serverPublicKey","privateKey","diffieHellman","setPrivateKeyAndGenerateKeys","getSharedKey","otherPublicKey","sharedSecret","sharedRawKey","aesGcm","getSharedKeyWithServer","api","sign","signString","generateSeed","hmac","passwordString","passwordArrayBuffer","passwordHash","getProtocolFromEndpoint","endpoint","getWsUrl","host","removeProtocolFromEndpoint","byteSizeOfString","objectHasOwnProperty","Queue","getLength","isEmpty","enqueue","dequeue","peek","clientId","uuidv4","RequestFailed","action","WebSocketError","init","resolveConnection","rejectConnection","pingTimeout","connected","connectionResolved","authToken","salts","userData","stripeData","requests","databases","dbIdToHash","dbNameToHash","connect","reconnectDelay","timeoutToOpenWebSocket","reconnecting","WebSocket","onopen","route","heartbeat","encryptedValidationMessage","setKeys","dbId","dbNameHash","database","applyTransactionsQueue","startApplyingThisBatchOfTransactions","dbKey","dbKeyString","encryptionKey","bundle","bundleSeqNo","base64Bundle","compressedString","applyBundle","newTransactions","transactionLog","applyTransactions","receivedMessage","buildBundle","startApplyingNextBatchInQueue","requestId","request","promiseResolve","promiseReject","onclose","serviceRestart","clientDisconnected","wasClean","reconnect","reconnected","currentState","dbsToReopen","reopenDatabases","openDatabasePromises","reopenAtSeqNo","lastSeqNo","all","localData","encryptionKeySalt","dhPrivateKey","dhKeySalt","hmacKey","hmacKeySalt","validateKey","sharedKey","validationMessage","responseWatcher","watch","items","itemsIndex","itemKeyPromises","itemId","itemKeys","seqNo","_parseGenericErrors","_connectWebSocket","_parseGenericUsernamePasswordError","_parseUserResponseError","_validateUsername","_validatePassword","_validateSignUpOrSignInInput","_generatePasswordToken","passwordSalt","passwordHkdfKey","passwordTokenSalt","passwordBasedEncryptionKeySalt","passwordBasedEncryptionKey","passwordEncryptedSeed","_buildUserResult","userId","protectedProfile","usedTempPassword","paymentsMode","cancelSubscriptionAt","trialExpirationDate","_validateProfile","keyExists","_getPasswordSaltsOverWebSocket","_rebuildPasswordToken","currentSession","savedSeedString","Date","lastUsedUsername","apiSignInWithSessionResult","user","_validateSignUpInput","_generateKeysAndSignUp","signOut","_getPasswordSaltsOverRestEndpoint","apiSignInResult","_signInWrapper","seedStringFromBackup","seedFromBackup","_getSeedStringFromPasswordBasedBackup","updateUser","currentPassword","newPassword","_validateUpdatedUserInput","startingSeedString","finalParams","currentPasswordSalts","newPasswordPromise","currentPasswordToken","_buildUpdateUserParams","deleteUser","forgotPassword","keyNotFoundMessage","forgotPasswordWs","encryptedForgotPasswordToken","forgotPasswordToken","UnverifiedTransaction","startSeqNo","txSeqNo","transactions","getStartSeqNo","getIndex","setIndex","promise","verifyPromise","addTransaction","transaction","Database","changeHandler","onChange","operationIndex","unverifiedTransactions","transactionCode","applyTransaction","getItems","itemIndex","record","validateInsert","applyInsert","__v","validateUpdateOrDelete","applyUpdate","applyDelete","batch","operations","recordPromises","operation","records","validateBatchTransaction","applyBatchTransaction","getItemVersionNumber","itemExists","uniqueItemIds","registerUnverifiedTransaction","unverifiedTransaction","unregisterUnverifiedTransaction","pendingTransaction","_validateDbInput","dbName","databaseName","getOpenDb","_buildInsertParams","itemString","MAX_ITEM_KB","itemRecord","itemKey","encryptedItem","_buildUpdateParams","_buildDeleteParams","postTransaction","pendingTx","paramsWithDbData","sequenceNo","getResult","_buildDatabaseResult","db","encryptedDbKey","openDatabase","newDatabaseParams","encryptedDbName","_createDatabase","firstMessageFromWebSocket","currentReceivedMessage","_openDatabase","getDatabases","databasesResponse","databaseResults","map","nextPageToken","insertItem","insertParams","updateItem","updateParams","deleteItem","deleteParams","putTransaction","operationParamsPromises","operationParamsPromiseResults","operationParams","_validatePurchaseOrUpdate","stripeAccountId","successUrl","successUrlProtocol","cancelUrl","cancelUrlProtocol","_validateModifySubscriptionConditions","purchaseSubscription","stripeSessionId","stripePk","Stripe","stripeAccount","redirectToCheckout","cancelSubscription","cancelAt","resumeSubscription","updatePaymentMethod","auth","payments"],"mappings":"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","file":"userbase.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 28);\n","/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(){\n  \"use strict\";\n\n  var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\n  // Use a lookup table to find the index.\n  var lookup = new Uint8Array(256);\n  for (var i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n  }\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = lookup[base64.charCodeAt(i)];\n      encoded2 = lookup[base64.charCodeAt(i+1)];\n      encoded3 = lookup[base64.charCodeAt(i+2)];\n      encoded4 = lookup[base64.charCodeAt(i+3)];\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})();\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","(function (module, exports) {\n  'use strict';\n\n  // Utils\n  function assert (val, msg) {\n    if (!val) throw new Error(msg || 'Assertion failed');\n  }\n\n  // Could use `inherits` module, but don't want to move from single file\n  // architecture yet.\n  function inherits (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    var TempCtor = function () {};\n    TempCtor.prototype = superCtor.prototype;\n    ctor.prototype = new TempCtor();\n    ctor.prototype.constructor = ctor;\n  }\n\n  // BN\n\n  function BN (number, base, endian) {\n    if (BN.isBN(number)) {\n      return number;\n    }\n\n    this.negative = 0;\n    this.words = null;\n    this.length = 0;\n\n    // Reduction context\n    this.red = null;\n\n    if (number !== null) {\n      if (base === 'le' || base === 'be') {\n        endian = base;\n        base = 10;\n      }\n\n      this._init(number || 0, base || 10, endian || 'be');\n    }\n  }\n  if (typeof module === 'object') {\n    module.exports = BN;\n  } else {\n    exports.BN = BN;\n  }\n\n  BN.BN = BN;\n  BN.wordSize = 26;\n\n  var Buffer;\n  try {\n    Buffer = require('buffer').Buffer;\n  } catch (e) {\n  }\n\n  BN.isBN = function isBN (num) {\n    if (num instanceof BN) {\n      return true;\n    }\n\n    return num !== null && typeof num === 'object' &&\n      num.constructor.wordSize === BN.wordSize && Array.isArray(num.words);\n  };\n\n  BN.max = function max (left, right) {\n    if (left.cmp(right) > 0) return left;\n    return right;\n  };\n\n  BN.min = function min (left, right) {\n    if (left.cmp(right) < 0) return left;\n    return right;\n  };\n\n  BN.prototype._init = function init (number, base, endian) {\n    if (typeof number === 'number') {\n      return this._initNumber(number, base, endian);\n    }\n\n    if (typeof number === 'object') {\n      return this._initArray(number, base, endian);\n    }\n\n    if (base === 'hex') {\n      base = 16;\n    }\n    assert(base === (base | 0) && base >= 2 && base <= 36);\n\n    number = number.toString().replace(/\\s+/g, '');\n    var start = 0;\n    if (number[0] === '-') {\n      start++;\n    }\n\n    if (base === 16) {\n      this._parseHex(number, start);\n    } else {\n      this._parseBase(number, base, start);\n    }\n\n    if (number[0] === '-') {\n      this.negative = 1;\n    }\n\n    this.strip();\n\n    if (endian !== 'le') return;\n\n    this._initArray(this.toArray(), base, endian);\n  };\n\n  BN.prototype._initNumber = function _initNumber (number, base, endian) {\n    if (number < 0) {\n      this.negative = 1;\n      number = -number;\n    }\n    if (number < 0x4000000) {\n      this.words = [ number & 0x3ffffff ];\n      this.length = 1;\n    } else if (number < 0x10000000000000) {\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff\n      ];\n      this.length = 2;\n    } else {\n      assert(number < 0x20000000000000); // 2 ^ 53 (unsafe)\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff,\n        1\n      ];\n      this.length = 3;\n    }\n\n    if (endian !== 'le') return;\n\n    // Reverse the bytes\n    this._initArray(this.toArray(), base, endian);\n  };\n\n  BN.prototype._initArray = function _initArray (number, base, endian) {\n    // Perhaps a Uint8Array\n    assert(typeof number.length === 'number');\n    if (number.length <= 0) {\n      this.words = [ 0 ];\n      this.length = 1;\n      return this;\n    }\n\n    this.length = Math.ceil(number.length / 3);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    var j, w;\n    var off = 0;\n    if (endian === 'be') {\n      for (i = number.length - 1, j = 0; i >= 0; i -= 3) {\n        w = number[i] | (number[i - 1] << 8) | (number[i - 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    } else if (endian === 'le') {\n      for (i = 0, j = 0; i < number.length; i += 3) {\n        w = number[i] | (number[i + 1] << 8) | (number[i + 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    }\n    return this.strip();\n  };\n\n  function parseHex (str, start, end) {\n    var r = 0;\n    var len = Math.min(str.length, end);\n    for (var i = start; i < len; i++) {\n      var c = str.charCodeAt(i) - 48;\n\n      r <<= 4;\n\n      // 'a' - 'f'\n      if (c >= 49 && c <= 54) {\n        r |= c - 49 + 0xa;\n\n      // 'A' - 'F'\n      } else if (c >= 17 && c <= 22) {\n        r |= c - 17 + 0xa;\n\n      // '0' - '9'\n      } else {\n        r |= c & 0xf;\n      }\n    }\n    return r;\n  }\n\n  BN.prototype._parseHex = function _parseHex (number, start) {\n    // Create possibly bigger array to ensure that it fits the number\n    this.length = Math.ceil((number.length - start) / 6);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    var j, w;\n    // Scan 24-bit chunks and add them to the number\n    var off = 0;\n    for (i = number.length - 6, j = 0; i >= start; i -= 6) {\n      w = parseHex(number, i, i + 6);\n      this.words[j] |= (w << off) & 0x3ffffff;\n      // NOTE: `0x3fffff` is intentional here, 26bits max shift + 24bit hex limb\n      this.words[j + 1] |= w >>> (26 - off) & 0x3fffff;\n      off += 24;\n      if (off >= 26) {\n        off -= 26;\n        j++;\n      }\n    }\n    if (i + 6 !== start) {\n      w = parseHex(number, start, i + 6);\n      this.words[j] |= (w << off) & 0x3ffffff;\n      this.words[j + 1] |= w >>> (26 - off) & 0x3fffff;\n    }\n    this.strip();\n  };\n\n  function parseBase (str, start, end, mul) {\n    var r = 0;\n    var len = Math.min(str.length, end);\n    for (var i = start; i < len; i++) {\n      var c = str.charCodeAt(i) - 48;\n\n      r *= mul;\n\n      // 'a'\n      if (c >= 49) {\n        r += c - 49 + 0xa;\n\n      // 'A'\n      } else if (c >= 17) {\n        r += c - 17 + 0xa;\n\n      // '0' - '9'\n      } else {\n        r += c;\n      }\n    }\n    return r;\n  }\n\n  BN.prototype._parseBase = function _parseBase (number, base, start) {\n    // Initialize as zero\n    this.words = [ 0 ];\n    this.length = 1;\n\n    // Find length of limb in base\n    for (var limbLen = 0, limbPow = 1; limbPow <= 0x3ffffff; limbPow *= base) {\n      limbLen++;\n    }\n    limbLen--;\n    limbPow = (limbPow / base) | 0;\n\n    var total = number.length - start;\n    var mod = total % limbLen;\n    var end = Math.min(total, total - mod) + start;\n\n    var word = 0;\n    for (var i = start; i < end; i += limbLen) {\n      word = parseBase(number, i, i + limbLen, base);\n\n      this.imuln(limbPow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    if (mod !== 0) {\n      var pow = 1;\n      word = parseBase(number, i, number.length, base);\n\n      for (i = 0; i < mod; i++) {\n        pow *= base;\n      }\n\n      this.imuln(pow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n  };\n\n  BN.prototype.copy = function copy (dest) {\n    dest.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      dest.words[i] = this.words[i];\n    }\n    dest.length = this.length;\n    dest.negative = this.negative;\n    dest.red = this.red;\n  };\n\n  BN.prototype.clone = function clone () {\n    var r = new BN(null);\n    this.copy(r);\n    return r;\n  };\n\n  BN.prototype._expand = function _expand (size) {\n    while (this.length < size) {\n      this.words[this.length++] = 0;\n    }\n    return this;\n  };\n\n  // Remove leading `0` from `this`\n  BN.prototype.strip = function strip () {\n    while (this.length > 1 && this.words[this.length - 1] === 0) {\n      this.length--;\n    }\n    return this._normSign();\n  };\n\n  BN.prototype._normSign = function _normSign () {\n    // -0 = 0\n    if (this.length === 1 && this.words[0] === 0) {\n      this.negative = 0;\n    }\n    return this;\n  };\n\n  BN.prototype.inspect = function inspect () {\n    return (this.red ? '<BN-R: ' : '<BN: ') + this.toString(16) + '>';\n  };\n\n  /*\n\n  var zeros = [];\n  var groupSizes = [];\n  var groupBases = [];\n\n  var s = '';\n  var i = -1;\n  while (++i < BN.wordSize) {\n    zeros[i] = s;\n    s += '0';\n  }\n  groupSizes[0] = 0;\n  groupSizes[1] = 0;\n  groupBases[0] = 0;\n  groupBases[1] = 0;\n  var base = 2 - 1;\n  while (++base < 36 + 1) {\n    var groupSize = 0;\n    var groupBase = 1;\n    while (groupBase < (1 << BN.wordSize) / base) {\n      groupBase *= base;\n      groupSize += 1;\n    }\n    groupSizes[base] = groupSize;\n    groupBases[base] = groupBase;\n  }\n\n  */\n\n  var zeros = [\n    '',\n    '0',\n    '00',\n    '000',\n    '0000',\n    '00000',\n    '000000',\n    '0000000',\n    '00000000',\n    '000000000',\n    '0000000000',\n    '00000000000',\n    '000000000000',\n    '0000000000000',\n    '00000000000000',\n    '000000000000000',\n    '0000000000000000',\n    '00000000000000000',\n    '000000000000000000',\n    '0000000000000000000',\n    '00000000000000000000',\n    '000000000000000000000',\n    '0000000000000000000000',\n    '00000000000000000000000',\n    '000000000000000000000000',\n    '0000000000000000000000000'\n  ];\n\n  var groupSizes = [\n    0, 0,\n    25, 16, 12, 11, 10, 9, 8,\n    8, 7, 7, 7, 7, 6, 6,\n    6, 6, 6, 6, 6, 5, 5,\n    5, 5, 5, 5, 5, 5, 5,\n    5, 5, 5, 5, 5, 5, 5\n  ];\n\n  var groupBases = [\n    0, 0,\n    33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216,\n    43046721, 10000000, 19487171, 35831808, 62748517, 7529536, 11390625,\n    16777216, 24137569, 34012224, 47045881, 64000000, 4084101, 5153632,\n    6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149,\n    24300000, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176\n  ];\n\n  BN.prototype.toString = function toString (base, padding) {\n    base = base || 10;\n    padding = padding | 0 || 1;\n\n    var out;\n    if (base === 16 || base === 'hex') {\n      out = '';\n      var off = 0;\n      var carry = 0;\n      for (var i = 0; i < this.length; i++) {\n        var w = this.words[i];\n        var word = (((w << off) | carry) & 0xffffff).toString(16);\n        carry = (w >>> (24 - off)) & 0xffffff;\n        if (carry !== 0 || i !== this.length - 1) {\n          out = zeros[6 - word.length] + word + out;\n        } else {\n          out = word + out;\n        }\n        off += 2;\n        if (off >= 26) {\n          off -= 26;\n          i--;\n        }\n      }\n      if (carry !== 0) {\n        out = carry.toString(16) + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    if (base === (base | 0) && base >= 2 && base <= 36) {\n      // var groupSize = Math.floor(BN.wordSize * Math.LN2 / Math.log(base));\n      var groupSize = groupSizes[base];\n      // var groupBase = Math.pow(base, groupSize);\n      var groupBase = groupBases[base];\n      out = '';\n      var c = this.clone();\n      c.negative = 0;\n      while (!c.isZero()) {\n        var r = c.modn(groupBase).toString(base);\n        c = c.idivn(groupBase);\n\n        if (!c.isZero()) {\n          out = zeros[groupSize - r.length] + r + out;\n        } else {\n          out = r + out;\n        }\n      }\n      if (this.isZero()) {\n        out = '0' + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    assert(false, 'Base should be between 2 and 36');\n  };\n\n  BN.prototype.toNumber = function toNumber () {\n    var ret = this.words[0];\n    if (this.length === 2) {\n      ret += this.words[1] * 0x4000000;\n    } else if (this.length === 3 && this.words[2] === 0x01) {\n      // NOTE: at this stage it is known that the top bit is set\n      ret += 0x10000000000000 + (this.words[1] * 0x4000000);\n    } else if (this.length > 2) {\n      assert(false, 'Number can only safely store up to 53 bits');\n    }\n    return (this.negative !== 0) ? -ret : ret;\n  };\n\n  BN.prototype.toJSON = function toJSON () {\n    return this.toString(16);\n  };\n\n  BN.prototype.toBuffer = function toBuffer (endian, length) {\n    assert(typeof Buffer !== 'undefined');\n    return this.toArrayLike(Buffer, endian, length);\n  };\n\n  BN.prototype.toArray = function toArray (endian, length) {\n    return this.toArrayLike(Array, endian, length);\n  };\n\n  BN.prototype.toArrayLike = function toArrayLike (ArrayType, endian, length) {\n    var byteLength = this.byteLength();\n    var reqLength = length || Math.max(1, byteLength);\n    assert(byteLength <= reqLength, 'byte array longer than desired length');\n    assert(reqLength > 0, 'Requested array length <= 0');\n\n    this.strip();\n    var littleEndian = endian === 'le';\n    var res = new ArrayType(reqLength);\n\n    var b, i;\n    var q = this.clone();\n    if (!littleEndian) {\n      // Assume big-endian\n      for (i = 0; i < reqLength - byteLength; i++) {\n        res[i] = 0;\n      }\n\n      for (i = 0; !q.isZero(); i++) {\n        b = q.andln(0xff);\n        q.iushrn(8);\n\n        res[reqLength - i - 1] = b;\n      }\n    } else {\n      for (i = 0; !q.isZero(); i++) {\n        b = q.andln(0xff);\n        q.iushrn(8);\n\n        res[i] = b;\n      }\n\n      for (; i < reqLength; i++) {\n        res[i] = 0;\n      }\n    }\n\n    return res;\n  };\n\n  if (Math.clz32) {\n    BN.prototype._countBits = function _countBits (w) {\n      return 32 - Math.clz32(w);\n    };\n  } else {\n    BN.prototype._countBits = function _countBits (w) {\n      var t = w;\n      var r = 0;\n      if (t >= 0x1000) {\n        r += 13;\n        t >>>= 13;\n      }\n      if (t >= 0x40) {\n        r += 7;\n        t >>>= 7;\n      }\n      if (t >= 0x8) {\n        r += 4;\n        t >>>= 4;\n      }\n      if (t >= 0x02) {\n        r += 2;\n        t >>>= 2;\n      }\n      return r + t;\n    };\n  }\n\n  BN.prototype._zeroBits = function _zeroBits (w) {\n    // Short-cut\n    if (w === 0) return 26;\n\n    var t = w;\n    var r = 0;\n    if ((t & 0x1fff) === 0) {\n      r += 13;\n      t >>>= 13;\n    }\n    if ((t & 0x7f) === 0) {\n      r += 7;\n      t >>>= 7;\n    }\n    if ((t & 0xf) === 0) {\n      r += 4;\n      t >>>= 4;\n    }\n    if ((t & 0x3) === 0) {\n      r += 2;\n      t >>>= 2;\n    }\n    if ((t & 0x1) === 0) {\n      r++;\n    }\n    return r;\n  };\n\n  // Return number of used bits in a BN\n  BN.prototype.bitLength = function bitLength () {\n    var w = this.words[this.length - 1];\n    var hi = this._countBits(w);\n    return (this.length - 1) * 26 + hi;\n  };\n\n  function toBitArray (num) {\n    var w = new Array(num.bitLength());\n\n    for (var bit = 0; bit < w.length; bit++) {\n      var off = (bit / 26) | 0;\n      var wbit = bit % 26;\n\n      w[bit] = (num.words[off] & (1 << wbit)) >>> wbit;\n    }\n\n    return w;\n  }\n\n  // Number of trailing zero bits\n  BN.prototype.zeroBits = function zeroBits () {\n    if (this.isZero()) return 0;\n\n    var r = 0;\n    for (var i = 0; i < this.length; i++) {\n      var b = this._zeroBits(this.words[i]);\n      r += b;\n      if (b !== 26) break;\n    }\n    return r;\n  };\n\n  BN.prototype.byteLength = function byteLength () {\n    return Math.ceil(this.bitLength() / 8);\n  };\n\n  BN.prototype.toTwos = function toTwos (width) {\n    if (this.negative !== 0) {\n      return this.abs().inotn(width).iaddn(1);\n    }\n    return this.clone();\n  };\n\n  BN.prototype.fromTwos = function fromTwos (width) {\n    if (this.testn(width - 1)) {\n      return this.notn(width).iaddn(1).ineg();\n    }\n    return this.clone();\n  };\n\n  BN.prototype.isNeg = function isNeg () {\n    return this.negative !== 0;\n  };\n\n  // Return negative clone of `this`\n  BN.prototype.neg = function neg () {\n    return this.clone().ineg();\n  };\n\n  BN.prototype.ineg = function ineg () {\n    if (!this.isZero()) {\n      this.negative ^= 1;\n    }\n\n    return this;\n  };\n\n  // Or `num` with `this` in-place\n  BN.prototype.iuor = function iuor (num) {\n    while (this.length < num.length) {\n      this.words[this.length++] = 0;\n    }\n\n    for (var i = 0; i < num.length; i++) {\n      this.words[i] = this.words[i] | num.words[i];\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.ior = function ior (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuor(num);\n  };\n\n  // Or `num` with `this`\n  BN.prototype.or = function or (num) {\n    if (this.length > num.length) return this.clone().ior(num);\n    return num.clone().ior(this);\n  };\n\n  BN.prototype.uor = function uor (num) {\n    if (this.length > num.length) return this.clone().iuor(num);\n    return num.clone().iuor(this);\n  };\n\n  // And `num` with `this` in-place\n  BN.prototype.iuand = function iuand (num) {\n    // b = min-length(num, this)\n    var b;\n    if (this.length > num.length) {\n      b = num;\n    } else {\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = this.words[i] & num.words[i];\n    }\n\n    this.length = b.length;\n\n    return this.strip();\n  };\n\n  BN.prototype.iand = function iand (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuand(num);\n  };\n\n  // And `num` with `this`\n  BN.prototype.and = function and (num) {\n    if (this.length > num.length) return this.clone().iand(num);\n    return num.clone().iand(this);\n  };\n\n  BN.prototype.uand = function uand (num) {\n    if (this.length > num.length) return this.clone().iuand(num);\n    return num.clone().iuand(this);\n  };\n\n  // Xor `num` with `this` in-place\n  BN.prototype.iuxor = function iuxor (num) {\n    // a.length > b.length\n    var a;\n    var b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = a.words[i] ^ b.words[i];\n    }\n\n    if (this !== a) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = a.length;\n\n    return this.strip();\n  };\n\n  BN.prototype.ixor = function ixor (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuxor(num);\n  };\n\n  // Xor `num` with `this`\n  BN.prototype.xor = function xor (num) {\n    if (this.length > num.length) return this.clone().ixor(num);\n    return num.clone().ixor(this);\n  };\n\n  BN.prototype.uxor = function uxor (num) {\n    if (this.length > num.length) return this.clone().iuxor(num);\n    return num.clone().iuxor(this);\n  };\n\n  // Not ``this`` with ``width`` bitwidth\n  BN.prototype.inotn = function inotn (width) {\n    assert(typeof width === 'number' && width >= 0);\n\n    var bytesNeeded = Math.ceil(width / 26) | 0;\n    var bitsLeft = width % 26;\n\n    // Extend the buffer with leading zeroes\n    this._expand(bytesNeeded);\n\n    if (bitsLeft > 0) {\n      bytesNeeded--;\n    }\n\n    // Handle complete words\n    for (var i = 0; i < bytesNeeded; i++) {\n      this.words[i] = ~this.words[i] & 0x3ffffff;\n    }\n\n    // Handle the residue\n    if (bitsLeft > 0) {\n      this.words[i] = ~this.words[i] & (0x3ffffff >> (26 - bitsLeft));\n    }\n\n    // And remove leading zeroes\n    return this.strip();\n  };\n\n  BN.prototype.notn = function notn (width) {\n    return this.clone().inotn(width);\n  };\n\n  // Set `bit` of `this`\n  BN.prototype.setn = function setn (bit, val) {\n    assert(typeof bit === 'number' && bit >= 0);\n\n    var off = (bit / 26) | 0;\n    var wbit = bit % 26;\n\n    this._expand(off + 1);\n\n    if (val) {\n      this.words[off] = this.words[off] | (1 << wbit);\n    } else {\n      this.words[off] = this.words[off] & ~(1 << wbit);\n    }\n\n    return this.strip();\n  };\n\n  // Add `num` to `this` in-place\n  BN.prototype.iadd = function iadd (num) {\n    var r;\n\n    // negative + positive\n    if (this.negative !== 0 && num.negative === 0) {\n      this.negative = 0;\n      r = this.isub(num);\n      this.negative ^= 1;\n      return this._normSign();\n\n    // positive + negative\n    } else if (this.negative === 0 && num.negative !== 0) {\n      num.negative = 0;\n      r = this.isub(num);\n      num.negative = 1;\n      return r._normSign();\n    }\n\n    // a.length > b.length\n    var a, b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) + (b.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n\n    this.length = a.length;\n    if (carry !== 0) {\n      this.words[this.length] = carry;\n      this.length++;\n    // Copy the rest of the words\n    } else if (a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    return this;\n  };\n\n  // Add `num` to `this`\n  BN.prototype.add = function add (num) {\n    var res;\n    if (num.negative !== 0 && this.negative === 0) {\n      num.negative = 0;\n      res = this.sub(num);\n      num.negative ^= 1;\n      return res;\n    } else if (num.negative === 0 && this.negative !== 0) {\n      this.negative = 0;\n      res = num.sub(this);\n      this.negative = 1;\n      return res;\n    }\n\n    if (this.length > num.length) return this.clone().iadd(num);\n\n    return num.clone().iadd(this);\n  };\n\n  // Subtract `num` from `this` in-place\n  BN.prototype.isub = function isub (num) {\n    // this - (-num) = this + num\n    if (num.negative !== 0) {\n      num.negative = 0;\n      var r = this.iadd(num);\n      num.negative = 1;\n      return r._normSign();\n\n    // -this - num = -(this + num)\n    } else if (this.negative !== 0) {\n      this.negative = 0;\n      this.iadd(num);\n      this.negative = 1;\n      return this._normSign();\n    }\n\n    // At this point both numbers are positive\n    var cmp = this.cmp(num);\n\n    // Optimization - zeroify\n    if (cmp === 0) {\n      this.negative = 0;\n      this.length = 1;\n      this.words[0] = 0;\n      return this;\n    }\n\n    // a > b\n    var a, b;\n    if (cmp > 0) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) - (b.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n\n    // Copy rest of the words\n    if (carry === 0 && i < a.length && a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = Math.max(this.length, i);\n\n    if (a !== this) {\n      this.negative = 1;\n    }\n\n    return this.strip();\n  };\n\n  // Subtract `num` from `this`\n  BN.prototype.sub = function sub (num) {\n    return this.clone().isub(num);\n  };\n\n  function smallMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    var len = (self.length + num.length) | 0;\n    out.length = len;\n    len = (len - 1) | 0;\n\n    // Peel one iteration (compiler can't do it, because of code complexity)\n    var a = self.words[0] | 0;\n    var b = num.words[0] | 0;\n    var r = a * b;\n\n    var lo = r & 0x3ffffff;\n    var carry = (r / 0x4000000) | 0;\n    out.words[0] = lo;\n\n    for (var k = 1; k < len; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = carry >>> 26;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = (k - j) | 0;\n        a = self.words[i] | 0;\n        b = num.words[j] | 0;\n        r = a * b + rword;\n        ncarry += (r / 0x4000000) | 0;\n        rword = r & 0x3ffffff;\n      }\n      out.words[k] = rword | 0;\n      carry = ncarry | 0;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry | 0;\n    } else {\n      out.length--;\n    }\n\n    return out.strip();\n  }\n\n  // TODO(indutny): it may be reasonable to omit it for users who don't need\n  // to work with 256-bit numbers, otherwise it gives 20% improvement for 256-bit\n  // multiplication (like elliptic secp256k1).\n  var comb10MulTo = function comb10MulTo (self, num, out) {\n    var a = self.words;\n    var b = num.words;\n    var o = out.words;\n    var c = 0;\n    var lo;\n    var mid;\n    var hi;\n    var a0 = a[0] | 0;\n    var al0 = a0 & 0x1fff;\n    var ah0 = a0 >>> 13;\n    var a1 = a[1] | 0;\n    var al1 = a1 & 0x1fff;\n    var ah1 = a1 >>> 13;\n    var a2 = a[2] | 0;\n    var al2 = a2 & 0x1fff;\n    var ah2 = a2 >>> 13;\n    var a3 = a[3] | 0;\n    var al3 = a3 & 0x1fff;\n    var ah3 = a3 >>> 13;\n    var a4 = a[4] | 0;\n    var al4 = a4 & 0x1fff;\n    var ah4 = a4 >>> 13;\n    var a5 = a[5] | 0;\n    var al5 = a5 & 0x1fff;\n    var ah5 = a5 >>> 13;\n    var a6 = a[6] | 0;\n    var al6 = a6 & 0x1fff;\n    var ah6 = a6 >>> 13;\n    var a7 = a[7] | 0;\n    var al7 = a7 & 0x1fff;\n    var ah7 = a7 >>> 13;\n    var a8 = a[8] | 0;\n    var al8 = a8 & 0x1fff;\n    var ah8 = a8 >>> 13;\n    var a9 = a[9] | 0;\n    var al9 = a9 & 0x1fff;\n    var ah9 = a9 >>> 13;\n    var b0 = b[0] | 0;\n    var bl0 = b0 & 0x1fff;\n    var bh0 = b0 >>> 13;\n    var b1 = b[1] | 0;\n    var bl1 = b1 & 0x1fff;\n    var bh1 = b1 >>> 13;\n    var b2 = b[2] | 0;\n    var bl2 = b2 & 0x1fff;\n    var bh2 = b2 >>> 13;\n    var b3 = b[3] | 0;\n    var bl3 = b3 & 0x1fff;\n    var bh3 = b3 >>> 13;\n    var b4 = b[4] | 0;\n    var bl4 = b4 & 0x1fff;\n    var bh4 = b4 >>> 13;\n    var b5 = b[5] | 0;\n    var bl5 = b5 & 0x1fff;\n    var bh5 = b5 >>> 13;\n    var b6 = b[6] | 0;\n    var bl6 = b6 & 0x1fff;\n    var bh6 = b6 >>> 13;\n    var b7 = b[7] | 0;\n    var bl7 = b7 & 0x1fff;\n    var bh7 = b7 >>> 13;\n    var b8 = b[8] | 0;\n    var bl8 = b8 & 0x1fff;\n    var bh8 = b8 >>> 13;\n    var b9 = b[9] | 0;\n    var bl9 = b9 & 0x1fff;\n    var bh9 = b9 >>> 13;\n\n    out.negative = self.negative ^ num.negative;\n    out.length = 19;\n    /* k = 0 */\n    lo = Math.imul(al0, bl0);\n    mid = Math.imul(al0, bh0);\n    mid = (mid + Math.imul(ah0, bl0)) | 0;\n    hi = Math.imul(ah0, bh0);\n    var w0 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w0 >>> 26)) | 0;\n    w0 &= 0x3ffffff;\n    /* k = 1 */\n    lo = Math.imul(al1, bl0);\n    mid = Math.imul(al1, bh0);\n    mid = (mid + Math.imul(ah1, bl0)) | 0;\n    hi = Math.imul(ah1, bh0);\n    lo = (lo + Math.imul(al0, bl1)) | 0;\n    mid = (mid + Math.imul(al0, bh1)) | 0;\n    mid = (mid + Math.imul(ah0, bl1)) | 0;\n    hi = (hi + Math.imul(ah0, bh1)) | 0;\n    var w1 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w1 >>> 26)) | 0;\n    w1 &= 0x3ffffff;\n    /* k = 2 */\n    lo = Math.imul(al2, bl0);\n    mid = Math.imul(al2, bh0);\n    mid = (mid + Math.imul(ah2, bl0)) | 0;\n    hi = Math.imul(ah2, bh0);\n    lo = (lo + Math.imul(al1, bl1)) | 0;\n    mid = (mid + Math.imul(al1, bh1)) | 0;\n    mid = (mid + Math.imul(ah1, bl1)) | 0;\n    hi = (hi + Math.imul(ah1, bh1)) | 0;\n    lo = (lo + Math.imul(al0, bl2)) | 0;\n    mid = (mid + Math.imul(al0, bh2)) | 0;\n    mid = (mid + Math.imul(ah0, bl2)) | 0;\n    hi = (hi + Math.imul(ah0, bh2)) | 0;\n    var w2 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w2 >>> 26)) | 0;\n    w2 &= 0x3ffffff;\n    /* k = 3 */\n    lo = Math.imul(al3, bl0);\n    mid = Math.imul(al3, bh0);\n    mid = (mid + Math.imul(ah3, bl0)) | 0;\n    hi = Math.imul(ah3, bh0);\n    lo = (lo + Math.imul(al2, bl1)) | 0;\n    mid = (mid + Math.imul(al2, bh1)) | 0;\n    mid = (mid + Math.imul(ah2, bl1)) | 0;\n    hi = (hi + Math.imul(ah2, bh1)) | 0;\n    lo = (lo + Math.imul(al1, bl2)) | 0;\n    mid = (mid + Math.imul(al1, bh2)) | 0;\n    mid = (mid + Math.imul(ah1, bl2)) | 0;\n    hi = (hi + Math.imul(ah1, bh2)) | 0;\n    lo = (lo + Math.imul(al0, bl3)) | 0;\n    mid = (mid + Math.imul(al0, bh3)) | 0;\n    mid = (mid + Math.imul(ah0, bl3)) | 0;\n    hi = (hi + Math.imul(ah0, bh3)) | 0;\n    var w3 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w3 >>> 26)) | 0;\n    w3 &= 0x3ffffff;\n    /* k = 4 */\n    lo = Math.imul(al4, bl0);\n    mid = Math.imul(al4, bh0);\n    mid = (mid + Math.imul(ah4, bl0)) | 0;\n    hi = Math.imul(ah4, bh0);\n    lo = (lo + Math.imul(al3, bl1)) | 0;\n    mid = (mid + Math.imul(al3, bh1)) | 0;\n    mid = (mid + Math.imul(ah3, bl1)) | 0;\n    hi = (hi + Math.imul(ah3, bh1)) | 0;\n    lo = (lo + Math.imul(al2, bl2)) | 0;\n    mid = (mid + Math.imul(al2, bh2)) | 0;\n    mid = (mid + Math.imul(ah2, bl2)) | 0;\n    hi = (hi + Math.imul(ah2, bh2)) | 0;\n    lo = (lo + Math.imul(al1, bl3)) | 0;\n    mid = (mid + Math.imul(al1, bh3)) | 0;\n    mid = (mid + Math.imul(ah1, bl3)) | 0;\n    hi = (hi + Math.imul(ah1, bh3)) | 0;\n    lo = (lo + Math.imul(al0, bl4)) | 0;\n    mid = (mid + Math.imul(al0, bh4)) | 0;\n    mid = (mid + Math.imul(ah0, bl4)) | 0;\n    hi = (hi + Math.imul(ah0, bh4)) | 0;\n    var w4 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w4 >>> 26)) | 0;\n    w4 &= 0x3ffffff;\n    /* k = 5 */\n    lo = Math.imul(al5, bl0);\n    mid = Math.imul(al5, bh0);\n    mid = (mid + Math.imul(ah5, bl0)) | 0;\n    hi = Math.imul(ah5, bh0);\n    lo = (lo + Math.imul(al4, bl1)) | 0;\n    mid = (mid + Math.imul(al4, bh1)) | 0;\n    mid = (mid + Math.imul(ah4, bl1)) | 0;\n    hi = (hi + Math.imul(ah4, bh1)) | 0;\n    lo = (lo + Math.imul(al3, bl2)) | 0;\n    mid = (mid + Math.imul(al3, bh2)) | 0;\n    mid = (mid + Math.imul(ah3, bl2)) | 0;\n    hi = (hi + Math.imul(ah3, bh2)) | 0;\n    lo = (lo + Math.imul(al2, bl3)) | 0;\n    mid = (mid + Math.imul(al2, bh3)) | 0;\n    mid = (mid + Math.imul(ah2, bl3)) | 0;\n    hi = (hi + Math.imul(ah2, bh3)) | 0;\n    lo = (lo + Math.imul(al1, bl4)) | 0;\n    mid = (mid + Math.imul(al1, bh4)) | 0;\n    mid = (mid + Math.imul(ah1, bl4)) | 0;\n    hi = (hi + Math.imul(ah1, bh4)) | 0;\n    lo = (lo + Math.imul(al0, bl5)) | 0;\n    mid = (mid + Math.imul(al0, bh5)) | 0;\n    mid = (mid + Math.imul(ah0, bl5)) | 0;\n    hi = (hi + Math.imul(ah0, bh5)) | 0;\n    var w5 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w5 >>> 26)) | 0;\n    w5 &= 0x3ffffff;\n    /* k = 6 */\n    lo = Math.imul(al6, bl0);\n    mid = Math.imul(al6, bh0);\n    mid = (mid + Math.imul(ah6, bl0)) | 0;\n    hi = Math.imul(ah6, bh0);\n    lo = (lo + Math.imul(al5, bl1)) | 0;\n    mid = (mid + Math.imul(al5, bh1)) | 0;\n    mid = (mid + Math.imul(ah5, bl1)) | 0;\n    hi = (hi + Math.imul(ah5, bh1)) | 0;\n    lo = (lo + Math.imul(al4, bl2)) | 0;\n    mid = (mid + Math.imul(al4, bh2)) | 0;\n    mid = (mid + Math.imul(ah4, bl2)) | 0;\n    hi = (hi + Math.imul(ah4, bh2)) | 0;\n    lo = (lo + Math.imul(al3, bl3)) | 0;\n    mid = (mid + Math.imul(al3, bh3)) | 0;\n    mid = (mid + Math.imul(ah3, bl3)) | 0;\n    hi = (hi + Math.imul(ah3, bh3)) | 0;\n    lo = (lo + Math.imul(al2, bl4)) | 0;\n    mid = (mid + Math.imul(al2, bh4)) | 0;\n    mid = (mid + Math.imul(ah2, bl4)) | 0;\n    hi = (hi + Math.imul(ah2, bh4)) | 0;\n    lo = (lo + Math.imul(al1, bl5)) | 0;\n    mid = (mid + Math.imul(al1, bh5)) | 0;\n    mid = (mid + Math.imul(ah1, bl5)) | 0;\n    hi = (hi + Math.imul(ah1, bh5)) | 0;\n    lo = (lo + Math.imul(al0, bl6)) | 0;\n    mid = (mid + Math.imul(al0, bh6)) | 0;\n    mid = (mid + Math.imul(ah0, bl6)) | 0;\n    hi = (hi + Math.imul(ah0, bh6)) | 0;\n    var w6 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w6 >>> 26)) | 0;\n    w6 &= 0x3ffffff;\n    /* k = 7 */\n    lo = Math.imul(al7, bl0);\n    mid = Math.imul(al7, bh0);\n    mid = (mid + Math.imul(ah7, bl0)) | 0;\n    hi = Math.imul(ah7, bh0);\n    lo = (lo + Math.imul(al6, bl1)) | 0;\n    mid = (mid + Math.imul(al6, bh1)) | 0;\n    mid = (mid + Math.imul(ah6, bl1)) | 0;\n    hi = (hi + Math.imul(ah6, bh1)) | 0;\n    lo = (lo + Math.imul(al5, bl2)) | 0;\n    mid = (mid + Math.imul(al5, bh2)) | 0;\n    mid = (mid + Math.imul(ah5, bl2)) | 0;\n    hi = (hi + Math.imul(ah5, bh2)) | 0;\n    lo = (lo + Math.imul(al4, bl3)) | 0;\n    mid = (mid + Math.imul(al4, bh3)) | 0;\n    mid = (mid + Math.imul(ah4, bl3)) | 0;\n    hi = (hi + Math.imul(ah4, bh3)) | 0;\n    lo = (lo + Math.imul(al3, bl4)) | 0;\n    mid = (mid + Math.imul(al3, bh4)) | 0;\n    mid = (mid + Math.imul(ah3, bl4)) | 0;\n    hi = (hi + Math.imul(ah3, bh4)) | 0;\n    lo = (lo + Math.imul(al2, bl5)) | 0;\n    mid = (mid + Math.imul(al2, bh5)) | 0;\n    mid = (mid + Math.imul(ah2, bl5)) | 0;\n    hi = (hi + Math.imul(ah2, bh5)) | 0;\n    lo = (lo + Math.imul(al1, bl6)) | 0;\n    mid = (mid + Math.imul(al1, bh6)) | 0;\n    mid = (mid + Math.imul(ah1, bl6)) | 0;\n    hi = (hi + Math.imul(ah1, bh6)) | 0;\n    lo = (lo + Math.imul(al0, bl7)) | 0;\n    mid = (mid + Math.imul(al0, bh7)) | 0;\n    mid = (mid + Math.imul(ah0, bl7)) | 0;\n    hi = (hi + Math.imul(ah0, bh7)) | 0;\n    var w7 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w7 >>> 26)) | 0;\n    w7 &= 0x3ffffff;\n    /* k = 8 */\n    lo = Math.imul(al8, bl0);\n    mid = Math.imul(al8, bh0);\n    mid = (mid + Math.imul(ah8, bl0)) | 0;\n    hi = Math.imul(ah8, bh0);\n    lo = (lo + Math.imul(al7, bl1)) | 0;\n    mid = (mid + Math.imul(al7, bh1)) | 0;\n    mid = (mid + Math.imul(ah7, bl1)) | 0;\n    hi = (hi + Math.imul(ah7, bh1)) | 0;\n    lo = (lo + Math.imul(al6, bl2)) | 0;\n    mid = (mid + Math.imul(al6, bh2)) | 0;\n    mid = (mid + Math.imul(ah6, bl2)) | 0;\n    hi = (hi + Math.imul(ah6, bh2)) | 0;\n    lo = (lo + Math.imul(al5, bl3)) | 0;\n    mid = (mid + Math.imul(al5, bh3)) | 0;\n    mid = (mid + Math.imul(ah5, bl3)) | 0;\n    hi = (hi + Math.imul(ah5, bh3)) | 0;\n    lo = (lo + Math.imul(al4, bl4)) | 0;\n    mid = (mid + Math.imul(al4, bh4)) | 0;\n    mid = (mid + Math.imul(ah4, bl4)) | 0;\n    hi = (hi + Math.imul(ah4, bh4)) | 0;\n    lo = (lo + Math.imul(al3, bl5)) | 0;\n    mid = (mid + Math.imul(al3, bh5)) | 0;\n    mid = (mid + Math.imul(ah3, bl5)) | 0;\n    hi = (hi + Math.imul(ah3, bh5)) | 0;\n    lo = (lo + Math.imul(al2, bl6)) | 0;\n    mid = (mid + Math.imul(al2, bh6)) | 0;\n    mid = (mid + Math.imul(ah2, bl6)) | 0;\n    hi = (hi + Math.imul(ah2, bh6)) | 0;\n    lo = (lo + Math.imul(al1, bl7)) | 0;\n    mid = (mid + Math.imul(al1, bh7)) | 0;\n    mid = (mid + Math.imul(ah1, bl7)) | 0;\n    hi = (hi + Math.imul(ah1, bh7)) | 0;\n    lo = (lo + Math.imul(al0, bl8)) | 0;\n    mid = (mid + Math.imul(al0, bh8)) | 0;\n    mid = (mid + Math.imul(ah0, bl8)) | 0;\n    hi = (hi + Math.imul(ah0, bh8)) | 0;\n    var w8 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w8 >>> 26)) | 0;\n    w8 &= 0x3ffffff;\n    /* k = 9 */\n    lo = Math.imul(al9, bl0);\n    mid = Math.imul(al9, bh0);\n    mid = (mid + Math.imul(ah9, bl0)) | 0;\n    hi = Math.imul(ah9, bh0);\n    lo = (lo + Math.imul(al8, bl1)) | 0;\n    mid = (mid + Math.imul(al8, bh1)) | 0;\n    mid = (mid + Math.imul(ah8, bl1)) | 0;\n    hi = (hi + Math.imul(ah8, bh1)) | 0;\n    lo = (lo + Math.imul(al7, bl2)) | 0;\n    mid = (mid + Math.imul(al7, bh2)) | 0;\n    mid = (mid + Math.imul(ah7, bl2)) | 0;\n    hi = (hi + Math.imul(ah7, bh2)) | 0;\n    lo = (lo + Math.imul(al6, bl3)) | 0;\n    mid = (mid + Math.imul(al6, bh3)) | 0;\n    mid = (mid + Math.imul(ah6, bl3)) | 0;\n    hi = (hi + Math.imul(ah6, bh3)) | 0;\n    lo = (lo + Math.imul(al5, bl4)) | 0;\n    mid = (mid + Math.imul(al5, bh4)) | 0;\n    mid = (mid + Math.imul(ah5, bl4)) | 0;\n    hi = (hi + Math.imul(ah5, bh4)) | 0;\n    lo = (lo + Math.imul(al4, bl5)) | 0;\n    mid = (mid + Math.imul(al4, bh5)) | 0;\n    mid = (mid + Math.imul(ah4, bl5)) | 0;\n    hi = (hi + Math.imul(ah4, bh5)) | 0;\n    lo = (lo + Math.imul(al3, bl6)) | 0;\n    mid = (mid + Math.imul(al3, bh6)) | 0;\n    mid = (mid + Math.imul(ah3, bl6)) | 0;\n    hi = (hi + Math.imul(ah3, bh6)) | 0;\n    lo = (lo + Math.imul(al2, bl7)) | 0;\n    mid = (mid + Math.imul(al2, bh7)) | 0;\n    mid = (mid + Math.imul(ah2, bl7)) | 0;\n    hi = (hi + Math.imul(ah2, bh7)) | 0;\n    lo = (lo + Math.imul(al1, bl8)) | 0;\n    mid = (mid + Math.imul(al1, bh8)) | 0;\n    mid = (mid + Math.imul(ah1, bl8)) | 0;\n    hi = (hi + Math.imul(ah1, bh8)) | 0;\n    lo = (lo + Math.imul(al0, bl9)) | 0;\n    mid = (mid + Math.imul(al0, bh9)) | 0;\n    mid = (mid + Math.imul(ah0, bl9)) | 0;\n    hi = (hi + Math.imul(ah0, bh9)) | 0;\n    var w9 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w9 >>> 26)) | 0;\n    w9 &= 0x3ffffff;\n    /* k = 10 */\n    lo = Math.imul(al9, bl1);\n    mid = Math.imul(al9, bh1);\n    mid = (mid + Math.imul(ah9, bl1)) | 0;\n    hi = Math.imul(ah9, bh1);\n    lo = (lo + Math.imul(al8, bl2)) | 0;\n    mid = (mid + Math.imul(al8, bh2)) | 0;\n    mid = (mid + Math.imul(ah8, bl2)) | 0;\n    hi = (hi + Math.imul(ah8, bh2)) | 0;\n    lo = (lo + Math.imul(al7, bl3)) | 0;\n    mid = (mid + Math.imul(al7, bh3)) | 0;\n    mid = (mid + Math.imul(ah7, bl3)) | 0;\n    hi = (hi + Math.imul(ah7, bh3)) | 0;\n    lo = (lo + Math.imul(al6, bl4)) | 0;\n    mid = (mid + Math.imul(al6, bh4)) | 0;\n    mid = (mid + Math.imul(ah6, bl4)) | 0;\n    hi = (hi + Math.imul(ah6, bh4)) | 0;\n    lo = (lo + Math.imul(al5, bl5)) | 0;\n    mid = (mid + Math.imul(al5, bh5)) | 0;\n    mid = (mid + Math.imul(ah5, bl5)) | 0;\n    hi = (hi + Math.imul(ah5, bh5)) | 0;\n    lo = (lo + Math.imul(al4, bl6)) | 0;\n    mid = (mid + Math.imul(al4, bh6)) | 0;\n    mid = (mid + Math.imul(ah4, bl6)) | 0;\n    hi = (hi + Math.imul(ah4, bh6)) | 0;\n    lo = (lo + Math.imul(al3, bl7)) | 0;\n    mid = (mid + Math.imul(al3, bh7)) | 0;\n    mid = (mid + Math.imul(ah3, bl7)) | 0;\n    hi = (hi + Math.imul(ah3, bh7)) | 0;\n    lo = (lo + Math.imul(al2, bl8)) | 0;\n    mid = (mid + Math.imul(al2, bh8)) | 0;\n    mid = (mid + Math.imul(ah2, bl8)) | 0;\n    hi = (hi + Math.imul(ah2, bh8)) | 0;\n    lo = (lo + Math.imul(al1, bl9)) | 0;\n    mid = (mid + Math.imul(al1, bh9)) | 0;\n    mid = (mid + Math.imul(ah1, bl9)) | 0;\n    hi = (hi + Math.imul(ah1, bh9)) | 0;\n    var w10 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w10 >>> 26)) | 0;\n    w10 &= 0x3ffffff;\n    /* k = 11 */\n    lo = Math.imul(al9, bl2);\n    mid = Math.imul(al9, bh2);\n    mid = (mid + Math.imul(ah9, bl2)) | 0;\n    hi = Math.imul(ah9, bh2);\n    lo = (lo + Math.imul(al8, bl3)) | 0;\n    mid = (mid + Math.imul(al8, bh3)) | 0;\n    mid = (mid + Math.imul(ah8, bl3)) | 0;\n    hi = (hi + Math.imul(ah8, bh3)) | 0;\n    lo = (lo + Math.imul(al7, bl4)) | 0;\n    mid = (mid + Math.imul(al7, bh4)) | 0;\n    mid = (mid + Math.imul(ah7, bl4)) | 0;\n    hi = (hi + Math.imul(ah7, bh4)) | 0;\n    lo = (lo + Math.imul(al6, bl5)) | 0;\n    mid = (mid + Math.imul(al6, bh5)) | 0;\n    mid = (mid + Math.imul(ah6, bl5)) | 0;\n    hi = (hi + Math.imul(ah6, bh5)) | 0;\n    lo = (lo + Math.imul(al5, bl6)) | 0;\n    mid = (mid + Math.imul(al5, bh6)) | 0;\n    mid = (mid + Math.imul(ah5, bl6)) | 0;\n    hi = (hi + Math.imul(ah5, bh6)) | 0;\n    lo = (lo + Math.imul(al4, bl7)) | 0;\n    mid = (mid + Math.imul(al4, bh7)) | 0;\n    mid = (mid + Math.imul(ah4, bl7)) | 0;\n    hi = (hi + Math.imul(ah4, bh7)) | 0;\n    lo = (lo + Math.imul(al3, bl8)) | 0;\n    mid = (mid + Math.imul(al3, bh8)) | 0;\n    mid = (mid + Math.imul(ah3, bl8)) | 0;\n    hi = (hi + Math.imul(ah3, bh8)) | 0;\n    lo = (lo + Math.imul(al2, bl9)) | 0;\n    mid = (mid + Math.imul(al2, bh9)) | 0;\n    mid = (mid + Math.imul(ah2, bl9)) | 0;\n    hi = (hi + Math.imul(ah2, bh9)) | 0;\n    var w11 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w11 >>> 26)) | 0;\n    w11 &= 0x3ffffff;\n    /* k = 12 */\n    lo = Math.imul(al9, bl3);\n    mid = Math.imul(al9, bh3);\n    mid = (mid + Math.imul(ah9, bl3)) | 0;\n    hi = Math.imul(ah9, bh3);\n    lo = (lo + Math.imul(al8, bl4)) | 0;\n    mid = (mid + Math.imul(al8, bh4)) | 0;\n    mid = (mid + Math.imul(ah8, bl4)) | 0;\n    hi = (hi + Math.imul(ah8, bh4)) | 0;\n    lo = (lo + Math.imul(al7, bl5)) | 0;\n    mid = (mid + Math.imul(al7, bh5)) | 0;\n    mid = (mid + Math.imul(ah7, bl5)) | 0;\n    hi = (hi + Math.imul(ah7, bh5)) | 0;\n    lo = (lo + Math.imul(al6, bl6)) | 0;\n    mid = (mid + Math.imul(al6, bh6)) | 0;\n    mid = (mid + Math.imul(ah6, bl6)) | 0;\n    hi = (hi + Math.imul(ah6, bh6)) | 0;\n    lo = (lo + Math.imul(al5, bl7)) | 0;\n    mid = (mid + Math.imul(al5, bh7)) | 0;\n    mid = (mid + Math.imul(ah5, bl7)) | 0;\n    hi = (hi + Math.imul(ah5, bh7)) | 0;\n    lo = (lo + Math.imul(al4, bl8)) | 0;\n    mid = (mid + Math.imul(al4, bh8)) | 0;\n    mid = (mid + Math.imul(ah4, bl8)) | 0;\n    hi = (hi + Math.imul(ah4, bh8)) | 0;\n    lo = (lo + Math.imul(al3, bl9)) | 0;\n    mid = (mid + Math.imul(al3, bh9)) | 0;\n    mid = (mid + Math.imul(ah3, bl9)) | 0;\n    hi = (hi + Math.imul(ah3, bh9)) | 0;\n    var w12 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w12 >>> 26)) | 0;\n    w12 &= 0x3ffffff;\n    /* k = 13 */\n    lo = Math.imul(al9, bl4);\n    mid = Math.imul(al9, bh4);\n    mid = (mid + Math.imul(ah9, bl4)) | 0;\n    hi = Math.imul(ah9, bh4);\n    lo = (lo + Math.imul(al8, bl5)) | 0;\n    mid = (mid + Math.imul(al8, bh5)) | 0;\n    mid = (mid + Math.imul(ah8, bl5)) | 0;\n    hi = (hi + Math.imul(ah8, bh5)) | 0;\n    lo = (lo + Math.imul(al7, bl6)) | 0;\n    mid = (mid + Math.imul(al7, bh6)) | 0;\n    mid = (mid + Math.imul(ah7, bl6)) | 0;\n    hi = (hi + Math.imul(ah7, bh6)) | 0;\n    lo = (lo + Math.imul(al6, bl7)) | 0;\n    mid = (mid + Math.imul(al6, bh7)) | 0;\n    mid = (mid + Math.imul(ah6, bl7)) | 0;\n    hi = (hi + Math.imul(ah6, bh7)) | 0;\n    lo = (lo + Math.imul(al5, bl8)) | 0;\n    mid = (mid + Math.imul(al5, bh8)) | 0;\n    mid = (mid + Math.imul(ah5, bl8)) | 0;\n    hi = (hi + Math.imul(ah5, bh8)) | 0;\n    lo = (lo + Math.imul(al4, bl9)) | 0;\n    mid = (mid + Math.imul(al4, bh9)) | 0;\n    mid = (mid + Math.imul(ah4, bl9)) | 0;\n    hi = (hi + Math.imul(ah4, bh9)) | 0;\n    var w13 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w13 >>> 26)) | 0;\n    w13 &= 0x3ffffff;\n    /* k = 14 */\n    lo = Math.imul(al9, bl5);\n    mid = Math.imul(al9, bh5);\n    mid = (mid + Math.imul(ah9, bl5)) | 0;\n    hi = Math.imul(ah9, bh5);\n    lo = (lo + Math.imul(al8, bl6)) | 0;\n    mid = (mid + Math.imul(al8, bh6)) | 0;\n    mid = (mid + Math.imul(ah8, bl6)) | 0;\n    hi = (hi + Math.imul(ah8, bh6)) | 0;\n    lo = (lo + Math.imul(al7, bl7)) | 0;\n    mid = (mid + Math.imul(al7, bh7)) | 0;\n    mid = (mid + Math.imul(ah7, bl7)) | 0;\n    hi = (hi + Math.imul(ah7, bh7)) | 0;\n    lo = (lo + Math.imul(al6, bl8)) | 0;\n    mid = (mid + Math.imul(al6, bh8)) | 0;\n    mid = (mid + Math.imul(ah6, bl8)) | 0;\n    hi = (hi + Math.imul(ah6, bh8)) | 0;\n    lo = (lo + Math.imul(al5, bl9)) | 0;\n    mid = (mid + Math.imul(al5, bh9)) | 0;\n    mid = (mid + Math.imul(ah5, bl9)) | 0;\n    hi = (hi + Math.imul(ah5, bh9)) | 0;\n    var w14 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w14 >>> 26)) | 0;\n    w14 &= 0x3ffffff;\n    /* k = 15 */\n    lo = Math.imul(al9, bl6);\n    mid = Math.imul(al9, bh6);\n    mid = (mid + Math.imul(ah9, bl6)) | 0;\n    hi = Math.imul(ah9, bh6);\n    lo = (lo + Math.imul(al8, bl7)) | 0;\n    mid = (mid + Math.imul(al8, bh7)) | 0;\n    mid = (mid + Math.imul(ah8, bl7)) | 0;\n    hi = (hi + Math.imul(ah8, bh7)) | 0;\n    lo = (lo + Math.imul(al7, bl8)) | 0;\n    mid = (mid + Math.imul(al7, bh8)) | 0;\n    mid = (mid + Math.imul(ah7, bl8)) | 0;\n    hi = (hi + Math.imul(ah7, bh8)) | 0;\n    lo = (lo + Math.imul(al6, bl9)) | 0;\n    mid = (mid + Math.imul(al6, bh9)) | 0;\n    mid = (mid + Math.imul(ah6, bl9)) | 0;\n    hi = (hi + Math.imul(ah6, bh9)) | 0;\n    var w15 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w15 >>> 26)) | 0;\n    w15 &= 0x3ffffff;\n    /* k = 16 */\n    lo = Math.imul(al9, bl7);\n    mid = Math.imul(al9, bh7);\n    mid = (mid + Math.imul(ah9, bl7)) | 0;\n    hi = Math.imul(ah9, bh7);\n    lo = (lo + Math.imul(al8, bl8)) | 0;\n    mid = (mid + Math.imul(al8, bh8)) | 0;\n    mid = (mid + Math.imul(ah8, bl8)) | 0;\n    hi = (hi + Math.imul(ah8, bh8)) | 0;\n    lo = (lo + Math.imul(al7, bl9)) | 0;\n    mid = (mid + Math.imul(al7, bh9)) | 0;\n    mid = (mid + Math.imul(ah7, bl9)) | 0;\n    hi = (hi + Math.imul(ah7, bh9)) | 0;\n    var w16 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w16 >>> 26)) | 0;\n    w16 &= 0x3ffffff;\n    /* k = 17 */\n    lo = Math.imul(al9, bl8);\n    mid = Math.imul(al9, bh8);\n    mid = (mid + Math.imul(ah9, bl8)) | 0;\n    hi = Math.imul(ah9, bh8);\n    lo = (lo + Math.imul(al8, bl9)) | 0;\n    mid = (mid + Math.imul(al8, bh9)) | 0;\n    mid = (mid + Math.imul(ah8, bl9)) | 0;\n    hi = (hi + Math.imul(ah8, bh9)) | 0;\n    var w17 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w17 >>> 26)) | 0;\n    w17 &= 0x3ffffff;\n    /* k = 18 */\n    lo = Math.imul(al9, bl9);\n    mid = Math.imul(al9, bh9);\n    mid = (mid + Math.imul(ah9, bl9)) | 0;\n    hi = Math.imul(ah9, bh9);\n    var w18 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w18 >>> 26)) | 0;\n    w18 &= 0x3ffffff;\n    o[0] = w0;\n    o[1] = w1;\n    o[2] = w2;\n    o[3] = w3;\n    o[4] = w4;\n    o[5] = w5;\n    o[6] = w6;\n    o[7] = w7;\n    o[8] = w8;\n    o[9] = w9;\n    o[10] = w10;\n    o[11] = w11;\n    o[12] = w12;\n    o[13] = w13;\n    o[14] = w14;\n    o[15] = w15;\n    o[16] = w16;\n    o[17] = w17;\n    o[18] = w18;\n    if (c !== 0) {\n      o[19] = c;\n      out.length++;\n    }\n    return out;\n  };\n\n  // Polyfill comb\n  if (!Math.imul) {\n    comb10MulTo = smallMulTo;\n  }\n\n  function bigMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    out.length = self.length + num.length;\n\n    var carry = 0;\n    var hncarry = 0;\n    for (var k = 0; k < out.length - 1; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = hncarry;\n      hncarry = 0;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = k - j;\n        var a = self.words[i] | 0;\n        var b = num.words[j] | 0;\n        var r = a * b;\n\n        var lo = r & 0x3ffffff;\n        ncarry = (ncarry + ((r / 0x4000000) | 0)) | 0;\n        lo = (lo + rword) | 0;\n        rword = lo & 0x3ffffff;\n        ncarry = (ncarry + (lo >>> 26)) | 0;\n\n        hncarry += ncarry >>> 26;\n        ncarry &= 0x3ffffff;\n      }\n      out.words[k] = rword;\n      carry = ncarry;\n      ncarry = hncarry;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry;\n    } else {\n      out.length--;\n    }\n\n    return out.strip();\n  }\n\n  function jumboMulTo (self, num, out) {\n    var fftm = new FFTM();\n    return fftm.mulp(self, num, out);\n  }\n\n  BN.prototype.mulTo = function mulTo (num, out) {\n    var res;\n    var len = this.length + num.length;\n    if (this.length === 10 && num.length === 10) {\n      res = comb10MulTo(this, num, out);\n    } else if (len < 63) {\n      res = smallMulTo(this, num, out);\n    } else if (len < 1024) {\n      res = bigMulTo(this, num, out);\n    } else {\n      res = jumboMulTo(this, num, out);\n    }\n\n    return res;\n  };\n\n  // Cooley-Tukey algorithm for FFT\n  // slightly revisited to rely on looping instead of recursion\n\n  function FFTM (x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  FFTM.prototype.makeRBT = function makeRBT (N) {\n    var t = new Array(N);\n    var l = BN.prototype._countBits(N) - 1;\n    for (var i = 0; i < N; i++) {\n      t[i] = this.revBin(i, l, N);\n    }\n\n    return t;\n  };\n\n  // Returns binary-reversed representation of `x`\n  FFTM.prototype.revBin = function revBin (x, l, N) {\n    if (x === 0 || x === N - 1) return x;\n\n    var rb = 0;\n    for (var i = 0; i < l; i++) {\n      rb |= (x & 1) << (l - i - 1);\n      x >>= 1;\n    }\n\n    return rb;\n  };\n\n  // Performs \"tweedling\" phase, therefore 'emulating'\n  // behaviour of the recursive algorithm\n  FFTM.prototype.permute = function permute (rbt, rws, iws, rtws, itws, N) {\n    for (var i = 0; i < N; i++) {\n      rtws[i] = rws[rbt[i]];\n      itws[i] = iws[rbt[i]];\n    }\n  };\n\n  FFTM.prototype.transform = function transform (rws, iws, rtws, itws, N, rbt) {\n    this.permute(rbt, rws, iws, rtws, itws, N);\n\n    for (var s = 1; s < N; s <<= 1) {\n      var l = s << 1;\n\n      var rtwdf = Math.cos(2 * Math.PI / l);\n      var itwdf = Math.sin(2 * Math.PI / l);\n\n      for (var p = 0; p < N; p += l) {\n        var rtwdf_ = rtwdf;\n        var itwdf_ = itwdf;\n\n        for (var j = 0; j < s; j++) {\n          var re = rtws[p + j];\n          var ie = itws[p + j];\n\n          var ro = rtws[p + j + s];\n          var io = itws[p + j + s];\n\n          var rx = rtwdf_ * ro - itwdf_ * io;\n\n          io = rtwdf_ * io + itwdf_ * ro;\n          ro = rx;\n\n          rtws[p + j] = re + ro;\n          itws[p + j] = ie + io;\n\n          rtws[p + j + s] = re - ro;\n          itws[p + j + s] = ie - io;\n\n          /* jshint maxdepth : false */\n          if (j !== l) {\n            rx = rtwdf * rtwdf_ - itwdf * itwdf_;\n\n            itwdf_ = rtwdf * itwdf_ + itwdf * rtwdf_;\n            rtwdf_ = rx;\n          }\n        }\n      }\n    }\n  };\n\n  FFTM.prototype.guessLen13b = function guessLen13b (n, m) {\n    var N = Math.max(m, n) | 1;\n    var odd = N & 1;\n    var i = 0;\n    for (N = N / 2 | 0; N; N = N >>> 1) {\n      i++;\n    }\n\n    return 1 << i + 1 + odd;\n  };\n\n  FFTM.prototype.conjugate = function conjugate (rws, iws, N) {\n    if (N <= 1) return;\n\n    for (var i = 0; i < N / 2; i++) {\n      var t = rws[i];\n\n      rws[i] = rws[N - i - 1];\n      rws[N - i - 1] = t;\n\n      t = iws[i];\n\n      iws[i] = -iws[N - i - 1];\n      iws[N - i - 1] = -t;\n    }\n  };\n\n  FFTM.prototype.normalize13b = function normalize13b (ws, N) {\n    var carry = 0;\n    for (var i = 0; i < N / 2; i++) {\n      var w = Math.round(ws[2 * i + 1] / N) * 0x2000 +\n        Math.round(ws[2 * i] / N) +\n        carry;\n\n      ws[i] = w & 0x3ffffff;\n\n      if (w < 0x4000000) {\n        carry = 0;\n      } else {\n        carry = w / 0x4000000 | 0;\n      }\n    }\n\n    return ws;\n  };\n\n  FFTM.prototype.convert13b = function convert13b (ws, len, rws, N) {\n    var carry = 0;\n    for (var i = 0; i < len; i++) {\n      carry = carry + (ws[i] | 0);\n\n      rws[2 * i] = carry & 0x1fff; carry = carry >>> 13;\n      rws[2 * i + 1] = carry & 0x1fff; carry = carry >>> 13;\n    }\n\n    // Pad with zeroes\n    for (i = 2 * len; i < N; ++i) {\n      rws[i] = 0;\n    }\n\n    assert(carry === 0);\n    assert((carry & ~0x1fff) === 0);\n  };\n\n  FFTM.prototype.stub = function stub (N) {\n    var ph = new Array(N);\n    for (var i = 0; i < N; i++) {\n      ph[i] = 0;\n    }\n\n    return ph;\n  };\n\n  FFTM.prototype.mulp = function mulp (x, y, out) {\n    var N = 2 * this.guessLen13b(x.length, y.length);\n\n    var rbt = this.makeRBT(N);\n\n    var _ = this.stub(N);\n\n    var rws = new Array(N);\n    var rwst = new Array(N);\n    var iwst = new Array(N);\n\n    var nrws = new Array(N);\n    var nrwst = new Array(N);\n    var niwst = new Array(N);\n\n    var rmws = out.words;\n    rmws.length = N;\n\n    this.convert13b(x.words, x.length, rws, N);\n    this.convert13b(y.words, y.length, nrws, N);\n\n    this.transform(rws, _, rwst, iwst, N, rbt);\n    this.transform(nrws, _, nrwst, niwst, N, rbt);\n\n    for (var i = 0; i < N; i++) {\n      var rx = rwst[i] * nrwst[i] - iwst[i] * niwst[i];\n      iwst[i] = rwst[i] * niwst[i] + iwst[i] * nrwst[i];\n      rwst[i] = rx;\n    }\n\n    this.conjugate(rwst, iwst, N);\n    this.transform(rwst, iwst, rmws, _, N, rbt);\n    this.conjugate(rmws, _, N);\n    this.normalize13b(rmws, N);\n\n    out.negative = x.negative ^ y.negative;\n    out.length = x.length + y.length;\n    return out.strip();\n  };\n\n  // Multiply `this` by `num`\n  BN.prototype.mul = function mul (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return this.mulTo(num, out);\n  };\n\n  // Multiply employing FFT\n  BN.prototype.mulf = function mulf (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return jumboMulTo(this, num, out);\n  };\n\n  // In-place Multiplication\n  BN.prototype.imul = function imul (num) {\n    return this.clone().mulTo(num, this);\n  };\n\n  BN.prototype.imuln = function imuln (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n\n    // Carry\n    var carry = 0;\n    for (var i = 0; i < this.length; i++) {\n      var w = (this.words[i] | 0) * num;\n      var lo = (w & 0x3ffffff) + (carry & 0x3ffffff);\n      carry >>= 26;\n      carry += (w / 0x4000000) | 0;\n      // NOTE: lo is 27bit maximum\n      carry += lo >>> 26;\n      this.words[i] = lo & 0x3ffffff;\n    }\n\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n\n    return this;\n  };\n\n  BN.prototype.muln = function muln (num) {\n    return this.clone().imuln(num);\n  };\n\n  // `this` * `this`\n  BN.prototype.sqr = function sqr () {\n    return this.mul(this);\n  };\n\n  // `this` * `this` in-place\n  BN.prototype.isqr = function isqr () {\n    return this.imul(this.clone());\n  };\n\n  // Math.pow(`this`, `num`)\n  BN.prototype.pow = function pow (num) {\n    var w = toBitArray(num);\n    if (w.length === 0) return new BN(1);\n\n    // Skip leading zeroes\n    var res = this;\n    for (var i = 0; i < w.length; i++, res = res.sqr()) {\n      if (w[i] !== 0) break;\n    }\n\n    if (++i < w.length) {\n      for (var q = res.sqr(); i < w.length; i++, q = q.sqr()) {\n        if (w[i] === 0) continue;\n\n        res = res.mul(q);\n      }\n    }\n\n    return res;\n  };\n\n  // Shift-left in-place\n  BN.prototype.iushln = function iushln (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n    var carryMask = (0x3ffffff >>> (26 - r)) << (26 - r);\n    var i;\n\n    if (r !== 0) {\n      var carry = 0;\n\n      for (i = 0; i < this.length; i++) {\n        var newCarry = this.words[i] & carryMask;\n        var c = ((this.words[i] | 0) - newCarry) << r;\n        this.words[i] = c | carry;\n        carry = newCarry >>> (26 - r);\n      }\n\n      if (carry) {\n        this.words[i] = carry;\n        this.length++;\n      }\n    }\n\n    if (s !== 0) {\n      for (i = this.length - 1; i >= 0; i--) {\n        this.words[i + s] = this.words[i];\n      }\n\n      for (i = 0; i < s; i++) {\n        this.words[i] = 0;\n      }\n\n      this.length += s;\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.ishln = function ishln (bits) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushln(bits);\n  };\n\n  // Shift-right in-place\n  // NOTE: `hint` is a lowest bit before trailing zeroes\n  // NOTE: if `extended` is present - it will be filled with destroyed bits\n  BN.prototype.iushrn = function iushrn (bits, hint, extended) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var h;\n    if (hint) {\n      h = (hint - (hint % 26)) / 26;\n    } else {\n      h = 0;\n    }\n\n    var r = bits % 26;\n    var s = Math.min((bits - r) / 26, this.length);\n    var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n    var maskedWords = extended;\n\n    h -= s;\n    h = Math.max(0, h);\n\n    // Extended mode, copy masked part\n    if (maskedWords) {\n      for (var i = 0; i < s; i++) {\n        maskedWords.words[i] = this.words[i];\n      }\n      maskedWords.length = s;\n    }\n\n    if (s === 0) {\n      // No-op, we should not move anything at all\n    } else if (this.length > s) {\n      this.length -= s;\n      for (i = 0; i < this.length; i++) {\n        this.words[i] = this.words[i + s];\n      }\n    } else {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    var carry = 0;\n    for (i = this.length - 1; i >= 0 && (carry !== 0 || i >= h); i--) {\n      var word = this.words[i] | 0;\n      this.words[i] = (carry << (26 - r)) | (word >>> r);\n      carry = word & mask;\n    }\n\n    // Push carried bits as a mask\n    if (maskedWords && carry !== 0) {\n      maskedWords.words[maskedWords.length++] = carry;\n    }\n\n    if (this.length === 0) {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.ishrn = function ishrn (bits, hint, extended) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushrn(bits, hint, extended);\n  };\n\n  // Shift-left\n  BN.prototype.shln = function shln (bits) {\n    return this.clone().ishln(bits);\n  };\n\n  BN.prototype.ushln = function ushln (bits) {\n    return this.clone().iushln(bits);\n  };\n\n  // Shift-right\n  BN.prototype.shrn = function shrn (bits) {\n    return this.clone().ishrn(bits);\n  };\n\n  BN.prototype.ushrn = function ushrn (bits) {\n    return this.clone().iushrn(bits);\n  };\n\n  // Test if n bit is set\n  BN.prototype.testn = function testn (bit) {\n    assert(typeof bit === 'number' && bit >= 0);\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) return false;\n\n    // Check bit and return\n    var w = this.words[s];\n\n    return !!(w & q);\n  };\n\n  // Return only lowers bits of number (in-place)\n  BN.prototype.imaskn = function imaskn (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n\n    assert(this.negative === 0, 'imaskn works only with positive numbers');\n\n    if (this.length <= s) {\n      return this;\n    }\n\n    if (r !== 0) {\n      s++;\n    }\n    this.length = Math.min(s, this.length);\n\n    if (r !== 0) {\n      var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n      this.words[this.length - 1] &= mask;\n    }\n\n    return this.strip();\n  };\n\n  // Return only lowers bits of number\n  BN.prototype.maskn = function maskn (bits) {\n    return this.clone().imaskn(bits);\n  };\n\n  // Add plain number `num` to `this`\n  BN.prototype.iaddn = function iaddn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.isubn(-num);\n\n    // Possible sign change\n    if (this.negative !== 0) {\n      if (this.length === 1 && (this.words[0] | 0) < num) {\n        this.words[0] = num - (this.words[0] | 0);\n        this.negative = 0;\n        return this;\n      }\n\n      this.negative = 0;\n      this.isubn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    // Add without checks\n    return this._iaddn(num);\n  };\n\n  BN.prototype._iaddn = function _iaddn (num) {\n    this.words[0] += num;\n\n    // Carry\n    for (var i = 0; i < this.length && this.words[i] >= 0x4000000; i++) {\n      this.words[i] -= 0x4000000;\n      if (i === this.length - 1) {\n        this.words[i + 1] = 1;\n      } else {\n        this.words[i + 1]++;\n      }\n    }\n    this.length = Math.max(this.length, i + 1);\n\n    return this;\n  };\n\n  // Subtract plain number `num` from `this`\n  BN.prototype.isubn = function isubn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.iaddn(-num);\n\n    if (this.negative !== 0) {\n      this.negative = 0;\n      this.iaddn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    this.words[0] -= num;\n\n    if (this.length === 1 && this.words[0] < 0) {\n      this.words[0] = -this.words[0];\n      this.negative = 1;\n    } else {\n      // Carry\n      for (var i = 0; i < this.length && this.words[i] < 0; i++) {\n        this.words[i] += 0x4000000;\n        this.words[i + 1] -= 1;\n      }\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.addn = function addn (num) {\n    return this.clone().iaddn(num);\n  };\n\n  BN.prototype.subn = function subn (num) {\n    return this.clone().isubn(num);\n  };\n\n  BN.prototype.iabs = function iabs () {\n    this.negative = 0;\n\n    return this;\n  };\n\n  BN.prototype.abs = function abs () {\n    return this.clone().iabs();\n  };\n\n  BN.prototype._ishlnsubmul = function _ishlnsubmul (num, mul, shift) {\n    var len = num.length + shift;\n    var i;\n\n    this._expand(len);\n\n    var w;\n    var carry = 0;\n    for (i = 0; i < num.length; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      var right = (num.words[i] | 0) * mul;\n      w -= right & 0x3ffffff;\n      carry = (w >> 26) - ((right / 0x4000000) | 0);\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n    for (; i < this.length - shift; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      carry = w >> 26;\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n\n    if (carry === 0) return this.strip();\n\n    // Subtraction overflow\n    assert(carry === -1);\n    carry = 0;\n    for (i = 0; i < this.length; i++) {\n      w = -(this.words[i] | 0) + carry;\n      carry = w >> 26;\n      this.words[i] = w & 0x3ffffff;\n    }\n    this.negative = 1;\n\n    return this.strip();\n  };\n\n  BN.prototype._wordDiv = function _wordDiv (num, mode) {\n    var shift = this.length - num.length;\n\n    var a = this.clone();\n    var b = num;\n\n    // Normalize\n    var bhi = b.words[b.length - 1] | 0;\n    var bhiBits = this._countBits(bhi);\n    shift = 26 - bhiBits;\n    if (shift !== 0) {\n      b = b.ushln(shift);\n      a.iushln(shift);\n      bhi = b.words[b.length - 1] | 0;\n    }\n\n    // Initialize quotient\n    var m = a.length - b.length;\n    var q;\n\n    if (mode !== 'mod') {\n      q = new BN(null);\n      q.length = m + 1;\n      q.words = new Array(q.length);\n      for (var i = 0; i < q.length; i++) {\n        q.words[i] = 0;\n      }\n    }\n\n    var diff = a.clone()._ishlnsubmul(b, 1, m);\n    if (diff.negative === 0) {\n      a = diff;\n      if (q) {\n        q.words[m] = 1;\n      }\n    }\n\n    for (var j = m - 1; j >= 0; j--) {\n      var qj = (a.words[b.length + j] | 0) * 0x4000000 +\n        (a.words[b.length + j - 1] | 0);\n\n      // NOTE: (qj / bhi) is (0x3ffffff * 0x4000000 + 0x3ffffff) / 0x2000000 max\n      // (0x7ffffff)\n      qj = Math.min((qj / bhi) | 0, 0x3ffffff);\n\n      a._ishlnsubmul(b, qj, j);\n      while (a.negative !== 0) {\n        qj--;\n        a.negative = 0;\n        a._ishlnsubmul(b, 1, j);\n        if (!a.isZero()) {\n          a.negative ^= 1;\n        }\n      }\n      if (q) {\n        q.words[j] = qj;\n      }\n    }\n    if (q) {\n      q.strip();\n    }\n    a.strip();\n\n    // Denormalize\n    if (mode !== 'div' && shift !== 0) {\n      a.iushrn(shift);\n    }\n\n    return {\n      div: q || null,\n      mod: a\n    };\n  };\n\n  // NOTE: 1) `mode` can be set to `mod` to request mod only,\n  //       to `div` to request div only, or be absent to\n  //       request both div & mod\n  //       2) `positive` is true if unsigned mod is requested\n  BN.prototype.divmod = function divmod (num, mode, positive) {\n    assert(!num.isZero());\n\n    if (this.isZero()) {\n      return {\n        div: new BN(0),\n        mod: new BN(0)\n      };\n    }\n\n    var div, mod, res;\n    if (this.negative !== 0 && num.negative === 0) {\n      res = this.neg().divmod(num, mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.iadd(num);\n        }\n      }\n\n      return {\n        div: div,\n        mod: mod\n      };\n    }\n\n    if (this.negative === 0 && num.negative !== 0) {\n      res = this.divmod(num.neg(), mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      return {\n        div: div,\n        mod: res.mod\n      };\n    }\n\n    if ((this.negative & num.negative) !== 0) {\n      res = this.neg().divmod(num.neg(), mode);\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.isub(num);\n        }\n      }\n\n      return {\n        div: res.div,\n        mod: mod\n      };\n    }\n\n    // Both numbers are positive at this point\n\n    // Strip both numbers to approximate shift value\n    if (num.length > this.length || this.cmp(num) < 0) {\n      return {\n        div: new BN(0),\n        mod: this\n      };\n    }\n\n    // Very short reduction\n    if (num.length === 1) {\n      if (mode === 'div') {\n        return {\n          div: this.divn(num.words[0]),\n          mod: null\n        };\n      }\n\n      if (mode === 'mod') {\n        return {\n          div: null,\n          mod: new BN(this.modn(num.words[0]))\n        };\n      }\n\n      return {\n        div: this.divn(num.words[0]),\n        mod: new BN(this.modn(num.words[0]))\n      };\n    }\n\n    return this._wordDiv(num, mode);\n  };\n\n  // Find `this` / `num`\n  BN.prototype.div = function div (num) {\n    return this.divmod(num, 'div', false).div;\n  };\n\n  // Find `this` % `num`\n  BN.prototype.mod = function mod (num) {\n    return this.divmod(num, 'mod', false).mod;\n  };\n\n  BN.prototype.umod = function umod (num) {\n    return this.divmod(num, 'mod', true).mod;\n  };\n\n  // Find Round(`this` / `num`)\n  BN.prototype.divRound = function divRound (num) {\n    var dm = this.divmod(num);\n\n    // Fast case - exact division\n    if (dm.mod.isZero()) return dm.div;\n\n    var mod = dm.div.negative !== 0 ? dm.mod.isub(num) : dm.mod;\n\n    var half = num.ushrn(1);\n    var r2 = num.andln(1);\n    var cmp = mod.cmp(half);\n\n    // Round down\n    if (cmp < 0 || r2 === 1 && cmp === 0) return dm.div;\n\n    // Round up\n    return dm.div.negative !== 0 ? dm.div.isubn(1) : dm.div.iaddn(1);\n  };\n\n  BN.prototype.modn = function modn (num) {\n    assert(num <= 0x3ffffff);\n    var p = (1 << 26) % num;\n\n    var acc = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      acc = (p * acc + (this.words[i] | 0)) % num;\n    }\n\n    return acc;\n  };\n\n  // In-place division by number\n  BN.prototype.idivn = function idivn (num) {\n    assert(num <= 0x3ffffff);\n\n    var carry = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var w = (this.words[i] | 0) + carry * 0x4000000;\n      this.words[i] = (w / num) | 0;\n      carry = w % num;\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.divn = function divn (num) {\n    return this.clone().idivn(num);\n  };\n\n  BN.prototype.egcd = function egcd (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var x = this;\n    var y = p.clone();\n\n    if (x.negative !== 0) {\n      x = x.umod(p);\n    } else {\n      x = x.clone();\n    }\n\n    // A * x + B * y = x\n    var A = new BN(1);\n    var B = new BN(0);\n\n    // C * x + D * y = y\n    var C = new BN(0);\n    var D = new BN(1);\n\n    var g = 0;\n\n    while (x.isEven() && y.isEven()) {\n      x.iushrn(1);\n      y.iushrn(1);\n      ++g;\n    }\n\n    var yp = y.clone();\n    var xp = x.clone();\n\n    while (!x.isZero()) {\n      for (var i = 0, im = 1; (x.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        x.iushrn(i);\n        while (i-- > 0) {\n          if (A.isOdd() || B.isOdd()) {\n            A.iadd(yp);\n            B.isub(xp);\n          }\n\n          A.iushrn(1);\n          B.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (y.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        y.iushrn(j);\n        while (j-- > 0) {\n          if (C.isOdd() || D.isOdd()) {\n            C.iadd(yp);\n            D.isub(xp);\n          }\n\n          C.iushrn(1);\n          D.iushrn(1);\n        }\n      }\n\n      if (x.cmp(y) >= 0) {\n        x.isub(y);\n        A.isub(C);\n        B.isub(D);\n      } else {\n        y.isub(x);\n        C.isub(A);\n        D.isub(B);\n      }\n    }\n\n    return {\n      a: C,\n      b: D,\n      gcd: y.iushln(g)\n    };\n  };\n\n  // This is reduced incarnation of the binary EEA\n  // above, designated to invert members of the\n  // _prime_ fields F(p) at a maximal speed\n  BN.prototype._invmp = function _invmp (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var a = this;\n    var b = p.clone();\n\n    if (a.negative !== 0) {\n      a = a.umod(p);\n    } else {\n      a = a.clone();\n    }\n\n    var x1 = new BN(1);\n    var x2 = new BN(0);\n\n    var delta = b.clone();\n\n    while (a.cmpn(1) > 0 && b.cmpn(1) > 0) {\n      for (var i = 0, im = 1; (a.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        a.iushrn(i);\n        while (i-- > 0) {\n          if (x1.isOdd()) {\n            x1.iadd(delta);\n          }\n\n          x1.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (b.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        b.iushrn(j);\n        while (j-- > 0) {\n          if (x2.isOdd()) {\n            x2.iadd(delta);\n          }\n\n          x2.iushrn(1);\n        }\n      }\n\n      if (a.cmp(b) >= 0) {\n        a.isub(b);\n        x1.isub(x2);\n      } else {\n        b.isub(a);\n        x2.isub(x1);\n      }\n    }\n\n    var res;\n    if (a.cmpn(1) === 0) {\n      res = x1;\n    } else {\n      res = x2;\n    }\n\n    if (res.cmpn(0) < 0) {\n      res.iadd(p);\n    }\n\n    return res;\n  };\n\n  BN.prototype.gcd = function gcd (num) {\n    if (this.isZero()) return num.abs();\n    if (num.isZero()) return this.abs();\n\n    var a = this.clone();\n    var b = num.clone();\n    a.negative = 0;\n    b.negative = 0;\n\n    // Remove common factor of two\n    for (var shift = 0; a.isEven() && b.isEven(); shift++) {\n      a.iushrn(1);\n      b.iushrn(1);\n    }\n\n    do {\n      while (a.isEven()) {\n        a.iushrn(1);\n      }\n      while (b.isEven()) {\n        b.iushrn(1);\n      }\n\n      var r = a.cmp(b);\n      if (r < 0) {\n        // Swap `a` and `b` to make `a` always bigger than `b`\n        var t = a;\n        a = b;\n        b = t;\n      } else if (r === 0 || b.cmpn(1) === 0) {\n        break;\n      }\n\n      a.isub(b);\n    } while (true);\n\n    return b.iushln(shift);\n  };\n\n  // Invert number in the field F(num)\n  BN.prototype.invm = function invm (num) {\n    return this.egcd(num).a.umod(num);\n  };\n\n  BN.prototype.isEven = function isEven () {\n    return (this.words[0] & 1) === 0;\n  };\n\n  BN.prototype.isOdd = function isOdd () {\n    return (this.words[0] & 1) === 1;\n  };\n\n  // And first word and num\n  BN.prototype.andln = function andln (num) {\n    return this.words[0] & num;\n  };\n\n  // Increment at the bit position in-line\n  BN.prototype.bincn = function bincn (bit) {\n    assert(typeof bit === 'number');\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) {\n      this._expand(s + 1);\n      this.words[s] |= q;\n      return this;\n    }\n\n    // Add bit and propagate, if needed\n    var carry = q;\n    for (var i = s; carry !== 0 && i < this.length; i++) {\n      var w = this.words[i] | 0;\n      w += carry;\n      carry = w >>> 26;\n      w &= 0x3ffffff;\n      this.words[i] = w;\n    }\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n    return this;\n  };\n\n  BN.prototype.isZero = function isZero () {\n    return this.length === 1 && this.words[0] === 0;\n  };\n\n  BN.prototype.cmpn = function cmpn (num) {\n    var negative = num < 0;\n\n    if (this.negative !== 0 && !negative) return -1;\n    if (this.negative === 0 && negative) return 1;\n\n    this.strip();\n\n    var res;\n    if (this.length > 1) {\n      res = 1;\n    } else {\n      if (negative) {\n        num = -num;\n      }\n\n      assert(num <= 0x3ffffff, 'Number is too big');\n\n      var w = this.words[0] | 0;\n      res = w === num ? 0 : w < num ? -1 : 1;\n    }\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Compare two numbers and return:\n  // 1 - if `this` > `num`\n  // 0 - if `this` == `num`\n  // -1 - if `this` < `num`\n  BN.prototype.cmp = function cmp (num) {\n    if (this.negative !== 0 && num.negative === 0) return -1;\n    if (this.negative === 0 && num.negative !== 0) return 1;\n\n    var res = this.ucmp(num);\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Unsigned comparison\n  BN.prototype.ucmp = function ucmp (num) {\n    // At this point both numbers have the same sign\n    if (this.length > num.length) return 1;\n    if (this.length < num.length) return -1;\n\n    var res = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var a = this.words[i] | 0;\n      var b = num.words[i] | 0;\n\n      if (a === b) continue;\n      if (a < b) {\n        res = -1;\n      } else if (a > b) {\n        res = 1;\n      }\n      break;\n    }\n    return res;\n  };\n\n  BN.prototype.gtn = function gtn (num) {\n    return this.cmpn(num) === 1;\n  };\n\n  BN.prototype.gt = function gt (num) {\n    return this.cmp(num) === 1;\n  };\n\n  BN.prototype.gten = function gten (num) {\n    return this.cmpn(num) >= 0;\n  };\n\n  BN.prototype.gte = function gte (num) {\n    return this.cmp(num) >= 0;\n  };\n\n  BN.prototype.ltn = function ltn (num) {\n    return this.cmpn(num) === -1;\n  };\n\n  BN.prototype.lt = function lt (num) {\n    return this.cmp(num) === -1;\n  };\n\n  BN.prototype.lten = function lten (num) {\n    return this.cmpn(num) <= 0;\n  };\n\n  BN.prototype.lte = function lte (num) {\n    return this.cmp(num) <= 0;\n  };\n\n  BN.prototype.eqn = function eqn (num) {\n    return this.cmpn(num) === 0;\n  };\n\n  BN.prototype.eq = function eq (num) {\n    return this.cmp(num) === 0;\n  };\n\n  //\n  // A reduce context, could be using montgomery or something better, depending\n  // on the `m` itself.\n  //\n  BN.red = function red (num) {\n    return new Red(num);\n  };\n\n  BN.prototype.toRed = function toRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    assert(this.negative === 0, 'red works only with positives');\n    return ctx.convertTo(this)._forceRed(ctx);\n  };\n\n  BN.prototype.fromRed = function fromRed () {\n    assert(this.red, 'fromRed works only with numbers in reduction context');\n    return this.red.convertFrom(this);\n  };\n\n  BN.prototype._forceRed = function _forceRed (ctx) {\n    this.red = ctx;\n    return this;\n  };\n\n  BN.prototype.forceRed = function forceRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    return this._forceRed(ctx);\n  };\n\n  BN.prototype.redAdd = function redAdd (num) {\n    assert(this.red, 'redAdd works only with red numbers');\n    return this.red.add(this, num);\n  };\n\n  BN.prototype.redIAdd = function redIAdd (num) {\n    assert(this.red, 'redIAdd works only with red numbers');\n    return this.red.iadd(this, num);\n  };\n\n  BN.prototype.redSub = function redSub (num) {\n    assert(this.red, 'redSub works only with red numbers');\n    return this.red.sub(this, num);\n  };\n\n  BN.prototype.redISub = function redISub (num) {\n    assert(this.red, 'redISub works only with red numbers');\n    return this.red.isub(this, num);\n  };\n\n  BN.prototype.redShl = function redShl (num) {\n    assert(this.red, 'redShl works only with red numbers');\n    return this.red.shl(this, num);\n  };\n\n  BN.prototype.redMul = function redMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.mul(this, num);\n  };\n\n  BN.prototype.redIMul = function redIMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.imul(this, num);\n  };\n\n  BN.prototype.redSqr = function redSqr () {\n    assert(this.red, 'redSqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqr(this);\n  };\n\n  BN.prototype.redISqr = function redISqr () {\n    assert(this.red, 'redISqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.isqr(this);\n  };\n\n  // Square root over p\n  BN.prototype.redSqrt = function redSqrt () {\n    assert(this.red, 'redSqrt works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqrt(this);\n  };\n\n  BN.prototype.redInvm = function redInvm () {\n    assert(this.red, 'redInvm works only with red numbers');\n    this.red._verify1(this);\n    return this.red.invm(this);\n  };\n\n  // Return negative clone of `this` % `red modulo`\n  BN.prototype.redNeg = function redNeg () {\n    assert(this.red, 'redNeg works only with red numbers');\n    this.red._verify1(this);\n    return this.red.neg(this);\n  };\n\n  BN.prototype.redPow = function redPow (num) {\n    assert(this.red && !num.red, 'redPow(normalNum)');\n    this.red._verify1(this);\n    return this.red.pow(this, num);\n  };\n\n  // Prime numbers with efficient reduction\n  var primes = {\n    k256: null,\n    p224: null,\n    p192: null,\n    p25519: null\n  };\n\n  // Pseudo-Mersenne prime\n  function MPrime (name, p) {\n    // P = 2 ^ N - K\n    this.name = name;\n    this.p = new BN(p, 16);\n    this.n = this.p.bitLength();\n    this.k = new BN(1).iushln(this.n).isub(this.p);\n\n    this.tmp = this._tmp();\n  }\n\n  MPrime.prototype._tmp = function _tmp () {\n    var tmp = new BN(null);\n    tmp.words = new Array(Math.ceil(this.n / 13));\n    return tmp;\n  };\n\n  MPrime.prototype.ireduce = function ireduce (num) {\n    // Assumes that `num` is less than `P^2`\n    // num = HI * (2 ^ N - K) + HI * K + LO = HI * K + LO (mod P)\n    var r = num;\n    var rlen;\n\n    do {\n      this.split(r, this.tmp);\n      r = this.imulK(r);\n      r = r.iadd(this.tmp);\n      rlen = r.bitLength();\n    } while (rlen > this.n);\n\n    var cmp = rlen < this.n ? -1 : r.ucmp(this.p);\n    if (cmp === 0) {\n      r.words[0] = 0;\n      r.length = 1;\n    } else if (cmp > 0) {\n      r.isub(this.p);\n    } else {\n      r.strip();\n    }\n\n    return r;\n  };\n\n  MPrime.prototype.split = function split (input, out) {\n    input.iushrn(this.n, 0, out);\n  };\n\n  MPrime.prototype.imulK = function imulK (num) {\n    return num.imul(this.k);\n  };\n\n  function K256 () {\n    MPrime.call(\n      this,\n      'k256',\n      'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f');\n  }\n  inherits(K256, MPrime);\n\n  K256.prototype.split = function split (input, output) {\n    // 256 = 9 * 26 + 22\n    var mask = 0x3fffff;\n\n    var outLen = Math.min(input.length, 9);\n    for (var i = 0; i < outLen; i++) {\n      output.words[i] = input.words[i];\n    }\n    output.length = outLen;\n\n    if (input.length <= 9) {\n      input.words[0] = 0;\n      input.length = 1;\n      return;\n    }\n\n    // Shift by 9 limbs\n    var prev = input.words[9];\n    output.words[output.length++] = prev & mask;\n\n    for (i = 10; i < input.length; i++) {\n      var next = input.words[i] | 0;\n      input.words[i - 10] = ((next & mask) << 4) | (prev >>> 22);\n      prev = next;\n    }\n    prev >>>= 22;\n    input.words[i - 10] = prev;\n    if (prev === 0 && input.length > 10) {\n      input.length -= 10;\n    } else {\n      input.length -= 9;\n    }\n  };\n\n  K256.prototype.imulK = function imulK (num) {\n    // K = 0x1000003d1 = [ 0x40, 0x3d1 ]\n    num.words[num.length] = 0;\n    num.words[num.length + 1] = 0;\n    num.length += 2;\n\n    // bounded at: 0x40 * 0x3ffffff + 0x3d0 = 0x100000390\n    var lo = 0;\n    for (var i = 0; i < num.length; i++) {\n      var w = num.words[i] | 0;\n      lo += w * 0x3d1;\n      num.words[i] = lo & 0x3ffffff;\n      lo = w * 0x40 + ((lo / 0x4000000) | 0);\n    }\n\n    // Fast length reduction\n    if (num.words[num.length - 1] === 0) {\n      num.length--;\n      if (num.words[num.length - 1] === 0) {\n        num.length--;\n      }\n    }\n    return num;\n  };\n\n  function P224 () {\n    MPrime.call(\n      this,\n      'p224',\n      'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001');\n  }\n  inherits(P224, MPrime);\n\n  function P192 () {\n    MPrime.call(\n      this,\n      'p192',\n      'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff');\n  }\n  inherits(P192, MPrime);\n\n  function P25519 () {\n    // 2 ^ 255 - 19\n    MPrime.call(\n      this,\n      '25519',\n      '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed');\n  }\n  inherits(P25519, MPrime);\n\n  P25519.prototype.imulK = function imulK (num) {\n    // K = 0x13\n    var carry = 0;\n    for (var i = 0; i < num.length; i++) {\n      var hi = (num.words[i] | 0) * 0x13 + carry;\n      var lo = hi & 0x3ffffff;\n      hi >>>= 26;\n\n      num.words[i] = lo;\n      carry = hi;\n    }\n    if (carry !== 0) {\n      num.words[num.length++] = carry;\n    }\n    return num;\n  };\n\n  // Exported mostly for testing purposes, use plain name instead\n  BN._prime = function prime (name) {\n    // Cached version of prime\n    if (primes[name]) return primes[name];\n\n    var prime;\n    if (name === 'k256') {\n      prime = new K256();\n    } else if (name === 'p224') {\n      prime = new P224();\n    } else if (name === 'p192') {\n      prime = new P192();\n    } else if (name === 'p25519') {\n      prime = new P25519();\n    } else {\n      throw new Error('Unknown prime ' + name);\n    }\n    primes[name] = prime;\n\n    return prime;\n  };\n\n  //\n  // Base reduction engine\n  //\n  function Red (m) {\n    if (typeof m === 'string') {\n      var prime = BN._prime(m);\n      this.m = prime.p;\n      this.prime = prime;\n    } else {\n      assert(m.gtn(1), 'modulus must be greater than 1');\n      this.m = m;\n      this.prime = null;\n    }\n  }\n\n  Red.prototype._verify1 = function _verify1 (a) {\n    assert(a.negative === 0, 'red works only with positives');\n    assert(a.red, 'red works only with red numbers');\n  };\n\n  Red.prototype._verify2 = function _verify2 (a, b) {\n    assert((a.negative | b.negative) === 0, 'red works only with positives');\n    assert(a.red && a.red === b.red,\n      'red works only with red numbers');\n  };\n\n  Red.prototype.imod = function imod (a) {\n    if (this.prime) return this.prime.ireduce(a)._forceRed(this);\n    return a.umod(this.m)._forceRed(this);\n  };\n\n  Red.prototype.neg = function neg (a) {\n    if (a.isZero()) {\n      return a.clone();\n    }\n\n    return this.m.sub(a)._forceRed(this);\n  };\n\n  Red.prototype.add = function add (a, b) {\n    this._verify2(a, b);\n\n    var res = a.add(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.iadd = function iadd (a, b) {\n    this._verify2(a, b);\n\n    var res = a.iadd(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.sub = function sub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.sub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.isub = function isub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.isub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.shl = function shl (a, num) {\n    this._verify1(a);\n    return this.imod(a.ushln(num));\n  };\n\n  Red.prototype.imul = function imul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.imul(b));\n  };\n\n  Red.prototype.mul = function mul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.mul(b));\n  };\n\n  Red.prototype.isqr = function isqr (a) {\n    return this.imul(a, a.clone());\n  };\n\n  Red.prototype.sqr = function sqr (a) {\n    return this.mul(a, a);\n  };\n\n  Red.prototype.sqrt = function sqrt (a) {\n    if (a.isZero()) return a.clone();\n\n    var mod3 = this.m.andln(3);\n    assert(mod3 % 2 === 1);\n\n    // Fast case\n    if (mod3 === 3) {\n      var pow = this.m.add(new BN(1)).iushrn(2);\n      return this.pow(a, pow);\n    }\n\n    // Tonelli-Shanks algorithm (Totally unoptimized and slow)\n    //\n    // Find Q and S, that Q * 2 ^ S = (P - 1)\n    var q = this.m.subn(1);\n    var s = 0;\n    while (!q.isZero() && q.andln(1) === 0) {\n      s++;\n      q.iushrn(1);\n    }\n    assert(!q.isZero());\n\n    var one = new BN(1).toRed(this);\n    var nOne = one.redNeg();\n\n    // Find quadratic non-residue\n    // NOTE: Max is such because of generalized Riemann hypothesis.\n    var lpow = this.m.subn(1).iushrn(1);\n    var z = this.m.bitLength();\n    z = new BN(2 * z * z).toRed(this);\n\n    while (this.pow(z, lpow).cmp(nOne) !== 0) {\n      z.redIAdd(nOne);\n    }\n\n    var c = this.pow(z, q);\n    var r = this.pow(a, q.addn(1).iushrn(1));\n    var t = this.pow(a, q);\n    var m = s;\n    while (t.cmp(one) !== 0) {\n      var tmp = t;\n      for (var i = 0; tmp.cmp(one) !== 0; i++) {\n        tmp = tmp.redSqr();\n      }\n      assert(i < m);\n      var b = this.pow(c, new BN(1).iushln(m - i - 1));\n\n      r = r.redMul(b);\n      c = b.redSqr();\n      t = t.redMul(c);\n      m = i;\n    }\n\n    return r;\n  };\n\n  Red.prototype.invm = function invm (a) {\n    var inv = a._invmp(this.m);\n    if (inv.negative !== 0) {\n      inv.negative = 0;\n      return this.imod(inv).redNeg();\n    } else {\n      return this.imod(inv);\n    }\n  };\n\n  Red.prototype.pow = function pow (a, num) {\n    if (num.isZero()) return new BN(1).toRed(this);\n    if (num.cmpn(1) === 0) return a.clone();\n\n    var windowSize = 4;\n    var wnd = new Array(1 << windowSize);\n    wnd[0] = new BN(1).toRed(this);\n    wnd[1] = a;\n    for (var i = 2; i < wnd.length; i++) {\n      wnd[i] = this.mul(wnd[i - 1], a);\n    }\n\n    var res = wnd[0];\n    var current = 0;\n    var currentLen = 0;\n    var start = num.bitLength() % 26;\n    if (start === 0) {\n      start = 26;\n    }\n\n    for (i = num.length - 1; i >= 0; i--) {\n      var word = num.words[i];\n      for (var j = start - 1; j >= 0; j--) {\n        var bit = (word >> j) & 1;\n        if (res !== wnd[0]) {\n          res = this.sqr(res);\n        }\n\n        if (bit === 0 && current === 0) {\n          currentLen = 0;\n          continue;\n        }\n\n        current <<= 1;\n        current |= bit;\n        currentLen++;\n        if (currentLen !== windowSize && (i !== 0 || j !== 0)) continue;\n\n        res = this.mul(res, wnd[current]);\n        currentLen = 0;\n        current = 0;\n      }\n      start = 26;\n    }\n\n    return res;\n  };\n\n  Red.prototype.convertTo = function convertTo (num) {\n    var r = num.umod(this.m);\n\n    return r === num ? r.clone() : r;\n  };\n\n  Red.prototype.convertFrom = function convertFrom (num) {\n    var res = num.clone();\n    res.red = null;\n    return res;\n  };\n\n  //\n  // Montgomery method engine\n  //\n\n  BN.mont = function mont (num) {\n    return new Mont(num);\n  };\n\n  function Mont (m) {\n    Red.call(this, m);\n\n    this.shift = this.m.bitLength();\n    if (this.shift % 26 !== 0) {\n      this.shift += 26 - (this.shift % 26);\n    }\n\n    this.r = new BN(1).iushln(this.shift);\n    this.r2 = this.imod(this.r.sqr());\n    this.rinv = this.r._invmp(this.m);\n\n    this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);\n    this.minv = this.minv.umod(this.r);\n    this.minv = this.r.sub(this.minv);\n  }\n  inherits(Mont, Red);\n\n  Mont.prototype.convertTo = function convertTo (num) {\n    return this.imod(num.ushln(this.shift));\n  };\n\n  Mont.prototype.convertFrom = function convertFrom (num) {\n    var r = this.imod(num.mul(this.rinv));\n    r.red = null;\n    return r;\n  };\n\n  Mont.prototype.imul = function imul (a, b) {\n    if (a.isZero() || b.isZero()) {\n      a.words[0] = 0;\n      a.length = 1;\n      return a;\n    }\n\n    var t = a.imul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.mul = function mul (a, b) {\n    if (a.isZero() || b.isZero()) return new BN(0)._forceRed(this);\n\n    var t = a.mul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.invm = function invm (a) {\n    // (AR)^-1 * R^2 = (A^-1 * R^-1) * R^2 = A^-1 * R\n    var res = this.imod(a._invmp(this.m).mul(this.r2));\n    return res._forceRed(this);\n  };\n})(typeof module === 'undefined' || module, this);\n","// Copyright (c) 2013 Pieroxy <pieroxy@pieroxy.net>\n// This work is free. You can redistribute it and/or modify it\n// under the terms of the WTFPL, Version 2\n// For more information see LICENSE.txt or http://www.wtfpl.net/\n//\n// For more information, the home page:\n// http://pieroxy.net/blog/pages/lz-string/testing.html\n//\n// LZ-based compression algorithm, version 1.4.4\nvar LZString = (function() {\n\n// private property\nvar f = String.fromCharCode;\nvar keyStrBase64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\nvar keyStrUriSafe = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$\";\nvar baseReverseDic = {};\n\nfunction getBaseValue(alphabet, character) {\n  if (!baseReverseDic[alphabet]) {\n    baseReverseDic[alphabet] = {};\n    for (var i=0 ; i<alphabet.length ; i++) {\n      baseReverseDic[alphabet][alphabet.charAt(i)] = i;\n    }\n  }\n  return baseReverseDic[alphabet][character];\n}\n\nvar LZString = {\n  compressToBase64 : function (input) {\n    if (input == null) return \"\";\n    var res = LZString._compress(input, 6, function(a){return keyStrBase64.charAt(a);});\n    switch (res.length % 4) { // To produce valid Base64\n    default: // When could this happen ?\n    case 0 : return res;\n    case 1 : return res+\"===\";\n    case 2 : return res+\"==\";\n    case 3 : return res+\"=\";\n    }\n  },\n\n  decompressFromBase64 : function (input) {\n    if (input == null) return \"\";\n    if (input == \"\") return null;\n    return LZString._decompress(input.length, 32, function(index) { return getBaseValue(keyStrBase64, input.charAt(index)); });\n  },\n\n  compressToUTF16 : function (input) {\n    if (input == null) return \"\";\n    return LZString._compress(input, 15, function(a){return f(a+32);}) + \" \";\n  },\n\n  decompressFromUTF16: function (compressed) {\n    if (compressed == null) return \"\";\n    if (compressed == \"\") return null;\n    return LZString._decompress(compressed.length, 16384, function(index) { return compressed.charCodeAt(index) - 32; });\n  },\n\n  //compress into uint8array (UCS-2 big endian format)\n  compressToUint8Array: function (uncompressed) {\n    var compressed = LZString.compress(uncompressed);\n    var buf=new Uint8Array(compressed.length*2); // 2 bytes per character\n\n    for (var i=0, TotalLen=compressed.length; i<TotalLen; i++) {\n      var current_value = compressed.charCodeAt(i);\n      buf[i*2] = current_value >>> 8;\n      buf[i*2+1] = current_value % 256;\n    }\n    return buf;\n  },\n\n  //decompress from uint8array (UCS-2 big endian format)\n  decompressFromUint8Array:function (compressed) {\n    if (compressed===null || compressed===undefined){\n        return LZString.decompress(compressed);\n    } else {\n        var buf=new Array(compressed.length/2); // 2 bytes per character\n        for (var i=0, TotalLen=buf.length; i<TotalLen; i++) {\n          buf[i]=compressed[i*2]*256+compressed[i*2+1];\n        }\n\n        var result = [];\n        buf.forEach(function (c) {\n          result.push(f(c));\n        });\n        return LZString.decompress(result.join(''));\n\n    }\n\n  },\n\n\n  //compress into a string that is already URI encoded\n  compressToEncodedURIComponent: function (input) {\n    if (input == null) return \"\";\n    return LZString._compress(input, 6, function(a){return keyStrUriSafe.charAt(a);});\n  },\n\n  //decompress from an output of compressToEncodedURIComponent\n  decompressFromEncodedURIComponent:function (input) {\n    if (input == null) return \"\";\n    if (input == \"\") return null;\n    input = input.replace(/ /g, \"+\");\n    return LZString._decompress(input.length, 32, function(index) { return getBaseValue(keyStrUriSafe, input.charAt(index)); });\n  },\n\n  compress: function (uncompressed) {\n    return LZString._compress(uncompressed, 16, function(a){return f(a);});\n  },\n  _compress: function (uncompressed, bitsPerChar, getCharFromInt) {\n    if (uncompressed == null) return \"\";\n    var i, value,\n        context_dictionary= {},\n        context_dictionaryToCreate= {},\n        context_c=\"\",\n        context_wc=\"\",\n        context_w=\"\",\n        context_enlargeIn= 2, // Compensate for the first entry which should not count\n        context_dictSize= 3,\n        context_numBits= 2,\n        context_data=[],\n        context_data_val=0,\n        context_data_position=0,\n        ii;\n\n    for (ii = 0; ii < uncompressed.length; ii += 1) {\n      context_c = uncompressed.charAt(ii);\n      if (!Object.prototype.hasOwnProperty.call(context_dictionary,context_c)) {\n        context_dictionary[context_c] = context_dictSize++;\n        context_dictionaryToCreate[context_c] = true;\n      }\n\n      context_wc = context_w + context_c;\n      if (Object.prototype.hasOwnProperty.call(context_dictionary,context_wc)) {\n        context_w = context_wc;\n      } else {\n        if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)) {\n          if (context_w.charCodeAt(0)<256) {\n            for (i=0 ; i<context_numBits ; i++) {\n              context_data_val = (context_data_val << 1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n            }\n            value = context_w.charCodeAt(0);\n            for (i=0 ; i<8 ; i++) {\n              context_data_val = (context_data_val << 1) | (value&1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = value >> 1;\n            }\n          } else {\n            value = 1;\n            for (i=0 ; i<context_numBits ; i++) {\n              context_data_val = (context_data_val << 1) | value;\n              if (context_data_position ==bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = 0;\n            }\n            value = context_w.charCodeAt(0);\n            for (i=0 ; i<16 ; i++) {\n              context_data_val = (context_data_val << 1) | (value&1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = value >> 1;\n            }\n          }\n          context_enlargeIn--;\n          if (context_enlargeIn == 0) {\n            context_enlargeIn = Math.pow(2, context_numBits);\n            context_numBits++;\n          }\n          delete context_dictionaryToCreate[context_w];\n        } else {\n          value = context_dictionary[context_w];\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n\n\n        }\n        context_enlargeIn--;\n        if (context_enlargeIn == 0) {\n          context_enlargeIn = Math.pow(2, context_numBits);\n          context_numBits++;\n        }\n        // Add wc to the dictionary.\n        context_dictionary[context_wc] = context_dictSize++;\n        context_w = String(context_c);\n      }\n    }\n\n    // Output the code for w.\n    if (context_w !== \"\") {\n      if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)) {\n        if (context_w.charCodeAt(0)<256) {\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n          }\n          value = context_w.charCodeAt(0);\n          for (i=0 ; i<8 ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n        } else {\n          value = 1;\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1) | value;\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = 0;\n          }\n          value = context_w.charCodeAt(0);\n          for (i=0 ; i<16 ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n        }\n        context_enlargeIn--;\n        if (context_enlargeIn == 0) {\n          context_enlargeIn = Math.pow(2, context_numBits);\n          context_numBits++;\n        }\n        delete context_dictionaryToCreate[context_w];\n      } else {\n        value = context_dictionary[context_w];\n        for (i=0 ; i<context_numBits ; i++) {\n          context_data_val = (context_data_val << 1) | (value&1);\n          if (context_data_position == bitsPerChar-1) {\n            context_data_position = 0;\n            context_data.push(getCharFromInt(context_data_val));\n            context_data_val = 0;\n          } else {\n            context_data_position++;\n          }\n          value = value >> 1;\n        }\n\n\n      }\n      context_enlargeIn--;\n      if (context_enlargeIn == 0) {\n        context_enlargeIn = Math.pow(2, context_numBits);\n        context_numBits++;\n      }\n    }\n\n    // Mark the end of the stream\n    value = 2;\n    for (i=0 ; i<context_numBits ; i++) {\n      context_data_val = (context_data_val << 1) | (value&1);\n      if (context_data_position == bitsPerChar-1) {\n        context_data_position = 0;\n        context_data.push(getCharFromInt(context_data_val));\n        context_data_val = 0;\n      } else {\n        context_data_position++;\n      }\n      value = value >> 1;\n    }\n\n    // Flush the last char\n    while (true) {\n      context_data_val = (context_data_val << 1);\n      if (context_data_position == bitsPerChar-1) {\n        context_data.push(getCharFromInt(context_data_val));\n        break;\n      }\n      else context_data_position++;\n    }\n    return context_data.join('');\n  },\n\n  decompress: function (compressed) {\n    if (compressed == null) return \"\";\n    if (compressed == \"\") return null;\n    return LZString._decompress(compressed.length, 32768, function(index) { return compressed.charCodeAt(index); });\n  },\n\n  _decompress: function (length, resetValue, getNextValue) {\n    var dictionary = [],\n        next,\n        enlargeIn = 4,\n        dictSize = 4,\n        numBits = 3,\n        entry = \"\",\n        result = [],\n        i,\n        w,\n        bits, resb, maxpower, power,\n        c,\n        data = {val:getNextValue(0), position:resetValue, index:1};\n\n    for (i = 0; i < 3; i += 1) {\n      dictionary[i] = i;\n    }\n\n    bits = 0;\n    maxpower = Math.pow(2,2);\n    power=1;\n    while (power!=maxpower) {\n      resb = data.val & data.position;\n      data.position >>= 1;\n      if (data.position == 0) {\n        data.position = resetValue;\n        data.val = getNextValue(data.index++);\n      }\n      bits |= (resb>0 ? 1 : 0) * power;\n      power <<= 1;\n    }\n\n    switch (next = bits) {\n      case 0:\n          bits = 0;\n          maxpower = Math.pow(2,8);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n        c = f(bits);\n        break;\n      case 1:\n          bits = 0;\n          maxpower = Math.pow(2,16);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n        c = f(bits);\n        break;\n      case 2:\n        return \"\";\n    }\n    dictionary[3] = c;\n    w = c;\n    result.push(c);\n    while (true) {\n      if (data.index > length) {\n        return \"\";\n      }\n\n      bits = 0;\n      maxpower = Math.pow(2,numBits);\n      power=1;\n      while (power!=maxpower) {\n        resb = data.val & data.position;\n        data.position >>= 1;\n        if (data.position == 0) {\n          data.position = resetValue;\n          data.val = getNextValue(data.index++);\n        }\n        bits |= (resb>0 ? 1 : 0) * power;\n        power <<= 1;\n      }\n\n      switch (c = bits) {\n        case 0:\n          bits = 0;\n          maxpower = Math.pow(2,8);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n\n          dictionary[dictSize++] = f(bits);\n          c = dictSize-1;\n          enlargeIn--;\n          break;\n        case 1:\n          bits = 0;\n          maxpower = Math.pow(2,16);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n          dictionary[dictSize++] = f(bits);\n          c = dictSize-1;\n          enlargeIn--;\n          break;\n        case 2:\n          return result.join('');\n      }\n\n      if (enlargeIn == 0) {\n        enlargeIn = Math.pow(2, numBits);\n        numBits++;\n      }\n\n      if (dictionary[c]) {\n        entry = dictionary[c];\n      } else {\n        if (c === dictSize) {\n          entry = w + w.charAt(0);\n        } else {\n          return null;\n        }\n      }\n      result.push(entry);\n\n      // Add w+entry[0] to the dictionary.\n      dictionary[dictSize++] = w + entry.charAt(0);\n      enlargeIn--;\n\n      w = entry;\n\n      if (enlargeIn == 0) {\n        enlargeIn = Math.pow(2, numBits);\n        numBits++;\n      }\n\n    }\n  }\n};\n  return LZString;\n})();\n\nif (typeof define === 'function' && define.amd) {\n  define(function () { return LZString; });\n} else if( typeof module !== 'undefined' && module != null ) {\n  module.exports = LZString\n}\n","var randomBytes = require('randombytes');\nmodule.exports = findPrime;\nfindPrime.simpleSieve = simpleSieve;\nfindPrime.fermatTest = fermatTest;\nvar BN = require('bn.js');\nvar TWENTYFOUR = new BN(24);\nvar MillerRabin = require('miller-rabin');\nvar millerRabin = new MillerRabin();\nvar ONE = new BN(1);\nvar TWO = new BN(2);\nvar FIVE = new BN(5);\nvar SIXTEEN = new BN(16);\nvar EIGHT = new BN(8);\nvar TEN = new BN(10);\nvar THREE = new BN(3);\nvar SEVEN = new BN(7);\nvar ELEVEN = new BN(11);\nvar FOUR = new BN(4);\nvar TWELVE = new BN(12);\nvar primes = null;\n\nfunction _getPrimes() {\n  if (primes !== null)\n    return primes;\n\n  var limit = 0x100000;\n  var res = [];\n  res[0] = 2;\n  for (var i = 1, k = 3; k < limit; k += 2) {\n    var sqrt = Math.ceil(Math.sqrt(k));\n    for (var j = 0; j < i && res[j] <= sqrt; j++)\n      if (k % res[j] === 0)\n        break;\n\n    if (i !== j && res[j] <= sqrt)\n      continue;\n\n    res[i++] = k;\n  }\n  primes = res;\n  return res;\n}\n\nfunction simpleSieve(p) {\n  var primes = _getPrimes();\n\n  for (var i = 0; i < primes.length; i++)\n    if (p.modn(primes[i]) === 0) {\n      if (p.cmpn(primes[i]) === 0) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n\n  return true;\n}\n\nfunction fermatTest(p) {\n  var red = BN.mont(p);\n  return TWO.toRed(red).redPow(p.subn(1)).fromRed().cmpn(1) === 0;\n}\n\nfunction findPrime(bits, gen) {\n  if (bits < 16) {\n    // this is what openssl does\n    if (gen === 2 || gen === 5) {\n      return new BN([0x8c, 0x7b]);\n    } else {\n      return new BN([0x8c, 0x27]);\n    }\n  }\n  gen = new BN(gen);\n\n  var num, n2;\n\n  while (true) {\n    num = new BN(randomBytes(Math.ceil(bits / 8)));\n    while (num.bitLength() > bits) {\n      num.ishrn(1);\n    }\n    if (num.isEven()) {\n      num.iadd(ONE);\n    }\n    if (!num.testn(1)) {\n      num.iadd(TWO);\n    }\n    if (!gen.cmp(TWO)) {\n      while (num.mod(TWENTYFOUR).cmp(ELEVEN)) {\n        num.iadd(FOUR);\n      }\n    } else if (!gen.cmp(FIVE)) {\n      while (num.mod(TEN).cmp(THREE)) {\n        num.iadd(FOUR);\n      }\n    }\n    n2 = num.shrn(1);\n    if (simpleSieve(n2) && simpleSieve(num) &&\n      fermatTest(n2) && fermatTest(num) &&\n      millerRabin.test(n2) && millerRabin.test(num)) {\n      return num;\n    }\n  }\n\n}\n","'use strict'\n\n// limit of Crypto.getRandomValues()\n// https://developer.mozilla.org/en-US/docs/Web/API/Crypto/getRandomValues\nvar MAX_BYTES = 65536\n\n// Node supports requesting up to this number of bytes\n// https://github.com/nodejs/node/blob/master/lib/internal/crypto/random.js#L48\nvar MAX_UINT32 = 4294967295\n\nfunction oldBrowser () {\n  throw new Error('Secure random number generation is not supported by this browser.\\nUse Chrome, Firefox or Internet Explorer 11')\n}\n\nvar Buffer = require('safe-buffer').Buffer\nvar crypto = global.crypto || global.msCrypto\n\nif (crypto && crypto.getRandomValues) {\n  module.exports = randomBytes\n} else {\n  module.exports = oldBrowser\n}\n\nfunction randomBytes (size, cb) {\n  // phantomjs needs to throw\n  if (size > MAX_UINT32) throw new RangeError('requested too many random bytes')\n\n  var bytes = Buffer.allocUnsafe(size)\n\n  if (size > 0) {  // getRandomValues fails on IE if size == 0\n    if (size > MAX_BYTES) { // this is the max bytes crypto.getRandomValues\n      // can do at once see https://developer.mozilla.org/en-US/docs/Web/API/window.crypto.getRandomValues\n      for (var generated = 0; generated < size; generated += MAX_BYTES) {\n        // buffer.slice automatically checks if the end is past the end of\n        // the buffer so we don't have to here\n        crypto.getRandomValues(bytes.slice(generated, generated + MAX_BYTES))\n      }\n    } else {\n      crypto.getRandomValues(bytes)\n    }\n  }\n\n  if (typeof cb === 'function') {\n    return process.nextTick(function () {\n      cb(null, bytes)\n    })\n  }\n\n  return bytes\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var bn = require('bn.js');\nvar brorand = require('brorand');\n\nfunction MillerRabin(rand) {\n  this.rand = rand || new brorand.Rand();\n}\nmodule.exports = MillerRabin;\n\nMillerRabin.create = function create(rand) {\n  return new MillerRabin(rand);\n};\n\nMillerRabin.prototype._randbelow = function _randbelow(n) {\n  var len = n.bitLength();\n  var min_bytes = Math.ceil(len / 8);\n\n  // Generage random bytes until a number less than n is found.\n  // This ensures that 0..n-1 have an equal probability of being selected.\n  do\n    var a = new bn(this.rand.generate(min_bytes));\n  while (a.cmp(n) >= 0);\n\n  return a;\n};\n\nMillerRabin.prototype._randrange = function _randrange(start, stop) {\n  // Generate a random number greater than or equal to start and less than stop.\n  var size = stop.sub(start);\n  return start.add(this._randbelow(size));\n};\n\nMillerRabin.prototype.test = function test(n, k, cb) {\n  var len = n.bitLength();\n  var red = bn.mont(n);\n  var rone = new bn(1).toRed(red);\n\n  if (!k)\n    k = Math.max(1, (len / 48) | 0);\n\n  // Find d and s, (n - 1) = (2 ^ s) * d;\n  var n1 = n.subn(1);\n  for (var s = 0; !n1.testn(s); s++) {}\n  var d = n.shrn(s);\n\n  var rn1 = n1.toRed(red);\n\n  var prime = true;\n  for (; k > 0; k--) {\n    var a = this._randrange(new bn(2), n1);\n    if (cb)\n      cb(a);\n\n    var x = a.toRed(red).redPow(d);\n    if (x.cmp(rone) === 0 || x.cmp(rn1) === 0)\n      continue;\n\n    for (var i = 1; i < s; i++) {\n      x = x.redSqr();\n\n      if (x.cmp(rone) === 0)\n        return false;\n      if (x.cmp(rn1) === 0)\n        break;\n    }\n\n    if (i === s)\n      return false;\n  }\n\n  return prime;\n};\n\nMillerRabin.prototype.getDivisor = function getDivisor(n, k) {\n  var len = n.bitLength();\n  var red = bn.mont(n);\n  var rone = new bn(1).toRed(red);\n\n  if (!k)\n    k = Math.max(1, (len / 48) | 0);\n\n  // Find d and s, (n - 1) = (2 ^ s) * d;\n  var n1 = n.subn(1);\n  for (var s = 0; !n1.testn(s); s++) {}\n  var d = n.shrn(s);\n\n  var rn1 = n1.toRed(red);\n\n  for (; k > 0; k--) {\n    var a = this._randrange(new bn(2), n1);\n\n    var g = n.gcd(a);\n    if (g.cmpn(1) !== 0)\n      return g;\n\n    var x = a.toRed(red).redPow(d);\n    if (x.cmp(rone) === 0 || x.cmp(rn1) === 0)\n      continue;\n\n    for (var i = 1; i < s; i++) {\n      x = x.redSqr();\n\n      if (x.cmp(rone) === 0)\n        return x.fromRed().subn(1).gcd(n);\n      if (x.cmp(rn1) === 0)\n        break;\n    }\n\n    if (i === s) {\n      x = x.redSqr();\n      return x.fromRed().subn(1).gcd(n);\n    }\n  }\n\n  return false;\n};\n","var generatePrime = require('./lib/generatePrime')\nvar primes = require('./lib/primes.json')\n\nvar DH = require('./lib/dh')\n\nfunction getDiffieHellman (mod) {\n  var prime = new Buffer(primes[mod].prime, 'hex')\n  var gen = new Buffer(primes[mod].gen, 'hex')\n\n  return new DH(prime, gen)\n}\n\nvar ENCODINGS = {\n  'binary': true, 'hex': true, 'base64': true\n}\n\nfunction createDiffieHellman (prime, enc, generator, genc) {\n  if (Buffer.isBuffer(enc) || ENCODINGS[enc] === undefined) {\n    return createDiffieHellman(prime, 'binary', enc, generator)\n  }\n\n  enc = enc || 'binary'\n  genc = genc || 'binary'\n  generator = generator || new Buffer([2])\n\n  if (!Buffer.isBuffer(generator)) {\n    generator = new Buffer(generator, genc)\n  }\n\n  if (typeof prime === 'number') {\n    return new DH(generatePrime(prime, generator), generator, true)\n  }\n\n  if (!Buffer.isBuffer(prime)) {\n    prime = new Buffer(prime, enc)\n  }\n\n  return new DH(prime, generator, true)\n}\n\nexports.DiffieHellmanGroup = exports.createDiffieHellmanGroup = exports.getDiffieHellman = getDiffieHellman\nexports.createDiffieHellman = exports.DiffieHellman = createDiffieHellman\n","\"use strict\";\n\n(function(root) {\n    const MAX_VALUE = 0x7fffffff;\n\n    // The SHA256 and PBKDF2 implementation are from scrypt-async-js:\n    // See: https://github.com/dchest/scrypt-async-js\n    function SHA256(m) {\n        const K = new Uint32Array([\n           0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b,\n           0x59f111f1, 0x923f82a4, 0xab1c5ed5, 0xd807aa98, 0x12835b01,\n           0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7,\n           0xc19bf174, 0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc,\n           0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da, 0x983e5152,\n           0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147,\n           0x06ca6351, 0x14292967, 0x27b70a85, 0x2e1b2138, 0x4d2c6dfc,\n           0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n           0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819,\n           0xd6990624, 0xf40e3585, 0x106aa070, 0x19a4c116, 0x1e376c08,\n           0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f,\n           0x682e6ff3, 0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208,\n           0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n       ]);\n\n        let h0 = 0x6a09e667, h1 = 0xbb67ae85, h2 = 0x3c6ef372, h3 = 0xa54ff53a;\n        let h4 = 0x510e527f, h5 = 0x9b05688c, h6 = 0x1f83d9ab, h7 = 0x5be0cd19;\n        const w = new Uint32Array(64);\n\n        function blocks(p) {\n            let off = 0, len = p.length;\n            while (len >= 64) {\n                let a = h0, b = h1, c = h2, d = h3, e = h4, f = h5, g = h6, h = h7, u, i, j, t1, t2;\n\n                for (i = 0; i < 16; i++) {\n                    j = off + i*4;\n                    w[i] = ((p[j] & 0xff)<<24) | ((p[j+1] & 0xff)<<16) |\n                    ((p[j+2] & 0xff)<<8) | (p[j+3] & 0xff);\n                }\n\n                for (i = 16; i < 64; i++) {\n                    u = w[i-2];\n                    t1 = ((u>>>17) | (u<<(32-17))) ^ ((u>>>19) | (u<<(32-19))) ^ (u>>>10);\n\n                    u = w[i-15];\n                    t2 = ((u>>>7) | (u<<(32-7))) ^ ((u>>>18) | (u<<(32-18))) ^ (u>>>3);\n\n                    w[i] = (((t1 + w[i-7]) | 0) + ((t2 + w[i-16]) | 0)) | 0;\n                }\n\n                for (i = 0; i < 64; i++) {\n                    t1 = ((((((e>>>6) | (e<<(32-6))) ^ ((e>>>11) | (e<<(32-11))) ^\n                             ((e>>>25) | (e<<(32-25)))) + ((e & f) ^ (~e & g))) | 0) +\n                          ((h + ((K[i] + w[i]) | 0)) | 0)) | 0;\n\n                    t2 = ((((a>>>2) | (a<<(32-2))) ^ ((a>>>13) | (a<<(32-13))) ^\n                           ((a>>>22) | (a<<(32-22)))) + ((a & b) ^ (a & c) ^ (b & c))) | 0;\n\n                    h = g;\n                    g = f;\n                    f = e;\n                    e = (d + t1) | 0;\n                    d = c;\n                    c = b;\n                    b = a;\n                    a = (t1 + t2) | 0;\n                }\n\n                h0 = (h0 + a) | 0;\n                h1 = (h1 + b) | 0;\n                h2 = (h2 + c) | 0;\n                h3 = (h3 + d) | 0;\n                h4 = (h4 + e) | 0;\n                h5 = (h5 + f) | 0;\n                h6 = (h6 + g) | 0;\n                h7 = (h7 + h) | 0;\n\n                off += 64;\n                len -= 64;\n            }\n        }\n\n        blocks(m);\n\n        let i, bytesLeft = m.length % 64,\n        bitLenHi = (m.length / 0x20000000) | 0,\n        bitLenLo = m.length << 3,\n        numZeros = (bytesLeft < 56) ? 56 : 120,\n        p = m.slice(m.length - bytesLeft, m.length);\n\n        p.push(0x80);\n        for (i = bytesLeft + 1; i < numZeros; i++) { p.push(0); }\n        p.push((bitLenHi >>> 24) & 0xff);\n        p.push((bitLenHi >>> 16) & 0xff);\n        p.push((bitLenHi >>> 8)  & 0xff);\n        p.push((bitLenHi >>> 0)  & 0xff);\n        p.push((bitLenLo >>> 24) & 0xff);\n        p.push((bitLenLo >>> 16) & 0xff);\n        p.push((bitLenLo >>> 8)  & 0xff);\n        p.push((bitLenLo >>> 0)  & 0xff);\n\n        blocks(p);\n\n        return [\n            (h0 >>> 24) & 0xff, (h0 >>> 16) & 0xff, (h0 >>> 8) & 0xff, (h0 >>> 0) & 0xff,\n            (h1 >>> 24) & 0xff, (h1 >>> 16) & 0xff, (h1 >>> 8) & 0xff, (h1 >>> 0) & 0xff,\n            (h2 >>> 24) & 0xff, (h2 >>> 16) & 0xff, (h2 >>> 8) & 0xff, (h2 >>> 0) & 0xff,\n            (h3 >>> 24) & 0xff, (h3 >>> 16) & 0xff, (h3 >>> 8) & 0xff, (h3 >>> 0) & 0xff,\n            (h4 >>> 24) & 0xff, (h4 >>> 16) & 0xff, (h4 >>> 8) & 0xff, (h4 >>> 0) & 0xff,\n            (h5 >>> 24) & 0xff, (h5 >>> 16) & 0xff, (h5 >>> 8) & 0xff, (h5 >>> 0) & 0xff,\n            (h6 >>> 24) & 0xff, (h6 >>> 16) & 0xff, (h6 >>> 8) & 0xff, (h6 >>> 0) & 0xff,\n            (h7 >>> 24) & 0xff, (h7 >>> 16) & 0xff, (h7 >>> 8) & 0xff, (h7 >>> 0) & 0xff\n        ];\n    }\n\n    function PBKDF2_HMAC_SHA256_OneIter(password, salt, dkLen) {\n        // compress password if it's longer than hash block length\n        password = (password.length <= 64) ? password : SHA256(password);\n\n        const innerLen = 64 + salt.length + 4;\n        const inner = new Array(innerLen);\n        const outerKey = new Array(64);\n\n        let i;\n        let dk = [];\n\n        // inner = (password ^ ipad) || salt || counter\n        for (i = 0; i < 64; i++) { inner[i] = 0x36; }\n        for (i = 0; i < password.length; i++) { inner[i] ^= password[i]; }\n        for (i = 0; i < salt.length; i++) { inner[64 + i] = salt[i]; }\n        for (i = innerLen - 4; i < innerLen; i++) { inner[i] = 0; }\n\n        // outerKey = password ^ opad\n        for (i = 0; i < 64; i++) outerKey[i] = 0x5c;\n        for (i = 0; i < password.length; i++) outerKey[i] ^= password[i];\n\n        // increments counter inside inner\n        function incrementCounter() {\n            for (let i = innerLen - 1; i >= innerLen - 4; i--) {\n                inner[i]++;\n                if (inner[i] <= 0xff) return;\n                inner[i] = 0;\n            }\n        }\n\n        // output blocks = SHA256(outerKey || SHA256(inner)) ...\n        while (dkLen >= 32) {\n            incrementCounter();\n            dk = dk.concat(SHA256(outerKey.concat(SHA256(inner))));\n            dkLen -= 32;\n        }\n        if (dkLen > 0) {\n            incrementCounter();\n            dk = dk.concat(SHA256(outerKey.concat(SHA256(inner))).slice(0, dkLen));\n        }\n\n        return dk;\n    }\n\n    // The following is an adaptation of scryptsy\n    // See: https://www.npmjs.com/package/scryptsy\n    function blockmix_salsa8(BY, Yi, r, x, _X) {\n        let i;\n\n        arraycopy(BY, (2 * r - 1) * 16, _X, 0, 16);\n        for (i = 0; i < 2 * r; i++) {\n            blockxor(BY, i * 16, _X, 16);\n            salsa20_8(_X, x);\n            arraycopy(_X, 0, BY, Yi + (i * 16), 16);\n        }\n\n        for (i = 0; i < r; i++) {\n            arraycopy(BY, Yi + (i * 2) * 16, BY, (i * 16), 16);\n        }\n\n        for (i = 0; i < r; i++) {\n            arraycopy(BY, Yi + (i * 2 + 1) * 16, BY, (i + r) * 16, 16);\n        }\n    }\n\n    function R(a, b) {\n        return (a << b) | (a >>> (32 - b));\n    }\n\n    function salsa20_8(B, x) {\n        arraycopy(B, 0, x, 0, 16);\n\n        for (let i = 8; i > 0; i -= 2) {\n            x[ 4] ^= R(x[ 0] + x[12], 7);\n            x[ 8] ^= R(x[ 4] + x[ 0], 9);\n            x[12] ^= R(x[ 8] + x[ 4], 13);\n            x[ 0] ^= R(x[12] + x[ 8], 18);\n            x[ 9] ^= R(x[ 5] + x[ 1], 7);\n            x[13] ^= R(x[ 9] + x[ 5], 9);\n            x[ 1] ^= R(x[13] + x[ 9], 13);\n            x[ 5] ^= R(x[ 1] + x[13], 18);\n            x[14] ^= R(x[10] + x[ 6], 7);\n            x[ 2] ^= R(x[14] + x[10], 9);\n            x[ 6] ^= R(x[ 2] + x[14], 13);\n            x[10] ^= R(x[ 6] + x[ 2], 18);\n            x[ 3] ^= R(x[15] + x[11], 7);\n            x[ 7] ^= R(x[ 3] + x[15], 9);\n            x[11] ^= R(x[ 7] + x[ 3], 13);\n            x[15] ^= R(x[11] + x[ 7], 18);\n            x[ 1] ^= R(x[ 0] + x[ 3], 7);\n            x[ 2] ^= R(x[ 1] + x[ 0], 9);\n            x[ 3] ^= R(x[ 2] + x[ 1], 13);\n            x[ 0] ^= R(x[ 3] + x[ 2], 18);\n            x[ 6] ^= R(x[ 5] + x[ 4], 7);\n            x[ 7] ^= R(x[ 6] + x[ 5], 9);\n            x[ 4] ^= R(x[ 7] + x[ 6], 13);\n            x[ 5] ^= R(x[ 4] + x[ 7], 18);\n            x[11] ^= R(x[10] + x[ 9], 7);\n            x[ 8] ^= R(x[11] + x[10], 9);\n            x[ 9] ^= R(x[ 8] + x[11], 13);\n            x[10] ^= R(x[ 9] + x[ 8], 18);\n            x[12] ^= R(x[15] + x[14], 7);\n            x[13] ^= R(x[12] + x[15], 9);\n            x[14] ^= R(x[13] + x[12], 13);\n            x[15] ^= R(x[14] + x[13], 18);\n        }\n\n        for (let i = 0; i < 16; ++i) {\n            B[i] += x[i];\n        }\n    }\n\n    // naive approach... going back to loop unrolling may yield additional performance\n    function blockxor(S, Si, D, len) {\n        for (let i = 0; i < len; i++) {\n            D[i] ^= S[Si + i]\n        }\n    }\n\n    function arraycopy(src, srcPos, dest, destPos, length) {\n        while (length--) {\n            dest[destPos++] = src[srcPos++];\n        }\n    }\n\n    function checkBufferish(o) {\n        if (!o || typeof(o.length) !== 'number') { return false; }\n\n        for (let i = 0; i < o.length; i++) {\n            const v = o[i];\n            if (typeof(v) !== 'number' || v % 1 || v < 0 || v >= 256) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    function ensureInteger(value, name) {\n        if (typeof(value) !== \"number\" || (value % 1)) { throw new Error('invalid ' + name); }\n        return value;\n    }\n\n    // N = Cpu cost, r = Memory cost, p = parallelization cost\n    // callback(error, progress, key)\n    function _scrypt(password, salt, N, r, p, dkLen, callback) {\n\n        N = ensureInteger(N, 'N');\n        r = ensureInteger(r, 'r');\n        p = ensureInteger(p, 'p');\n\n        dkLen = ensureInteger(dkLen, 'dkLen');\n\n        if (N === 0 || (N & (N - 1)) !== 0) { throw new Error('N must be power of 2'); }\n\n        if (N > MAX_VALUE / 128 / r) { throw new Error('N too large'); }\n        if (r > MAX_VALUE / 128 / p) { throw new Error('r too large'); }\n\n        if (!checkBufferish(password)) {\n            throw new Error('password must be an array or buffer');\n        }\n        password = Array.prototype.slice.call(password);\n\n        if (!checkBufferish(salt)) {\n            throw new Error('salt must be an array or buffer');\n        }\n        salt = Array.prototype.slice.call(salt);\n\n        let b = PBKDF2_HMAC_SHA256_OneIter(password, salt, p * 128 * r);\n        const B = new Uint32Array(p * 32 * r)\n        for (let i = 0; i < B.length; i++) {\n            const j = i * 4;\n            B[i] = ((b[j + 3] & 0xff) << 24) |\n                   ((b[j + 2] & 0xff) << 16) |\n                   ((b[j + 1] & 0xff) << 8) |\n                   ((b[j + 0] & 0xff) << 0);\n        }\n\n        const XY = new Uint32Array(64 * r);\n        const V = new Uint32Array(32 * r * N);\n\n        const Yi = 32 * r;\n\n        // scratch space\n        const x = new Uint32Array(16);       // salsa20_8\n        const _X = new Uint32Array(16);      // blockmix_salsa8\n\n        const totalOps = p * N * 2;\n        let currentOp = 0;\n        let lastPercent10 = null;\n\n        // Set this to true to abandon the scrypt on the next step\n        let stop = false;\n\n        // State information\n        let state = 0;\n        let i0 = 0, i1;\n        let Bi;\n\n        // How many blockmix_salsa8 can we do per step?\n        const limit = callback ? parseInt(1000 / r): 0xffffffff;\n\n        // Trick from scrypt-async; if there is a setImmediate shim in place, use it\n        const nextTick = (typeof(setImmediate) !== 'undefined') ? setImmediate : setTimeout;\n\n        // This is really all I changed; making scryptsy a state machine so we occasionally\n        // stop and give other evnts on the evnt loop a chance to run. ~RicMoo\n        const incrementalSMix = function() {\n            if (stop) {\n                return callback(new Error('cancelled'), currentOp / totalOps);\n            }\n\n            let steps;\n\n            switch (state) {\n                case 0:\n                    // for (var i = 0; i < p; i++)...\n                    Bi = i0 * 32 * r;\n\n                    arraycopy(B, Bi, XY, 0, Yi);                       // ROMix - 1\n\n                    state = 1;                                         // Move to ROMix 2\n                    i1 = 0;\n\n                    // Fall through\n\n                case 1:\n\n                    // Run up to 1000 steps of the first inner smix loop\n                    steps = N - i1;\n                    if (steps > limit) { steps = limit; }\n                    for (let i = 0; i < steps; i++) {                  // ROMix - 2\n                        arraycopy(XY, 0, V, (i1 + i) * Yi, Yi)         // ROMix - 3\n                        blockmix_salsa8(XY, Yi, r, x, _X);             // ROMix - 4\n                    }\n\n                    // for (var i = 0; i < N; i++)\n                    i1 += steps;\n                    currentOp += steps;\n\n                    if (callback) {\n                        // Call the callback with the progress (optionally stopping us)\n                        const percent10 = parseInt(1000 * currentOp / totalOps);\n                        if (percent10 !== lastPercent10) {\n                            stop = callback(null, currentOp / totalOps);\n                            if (stop) { break; }\n                            lastPercent10 = percent10;\n                        }\n                    }\n\n                    if (i1 < N) { break; }\n\n                    i1 = 0;                                          // Move to ROMix 6\n                    state = 2;\n\n                    // Fall through\n\n                case 2:\n\n                    // Run up to 1000 steps of the second inner smix loop\n                    steps = N - i1;\n                    if (steps > limit) { steps = limit; }\n                    for (let i = 0; i < steps; i++) {                // ROMix - 6\n                        const offset = (2 * r - 1) * 16;             // ROMix - 7\n                        const j = XY[offset] & (N - 1);\n                        blockxor(V, j * Yi, XY, Yi);                 // ROMix - 8 (inner)\n                        blockmix_salsa8(XY, Yi, r, x, _X);           // ROMix - 9 (outer)\n                    }\n\n                    // for (var i = 0; i < N; i++)...\n                    i1 += steps;\n                    currentOp += steps;\n\n                    // Call the callback with the progress (optionally stopping us)\n                    if (callback) {\n                        const percent10 = parseInt(1000 * currentOp / totalOps);\n                        if (percent10 !== lastPercent10) {\n                            stop = callback(null, currentOp / totalOps);\n                            if (stop) { break; }\n                            lastPercent10 = percent10;\n                        }\n                    }\n\n                    if (i1 < N) { break; }\n\n                    arraycopy(XY, 0, B, Bi, Yi);                     // ROMix - 10\n\n                    // for (var i = 0; i < p; i++)...\n                    i0++;\n                    if (i0 < p) {\n                        state = 0;\n                        break;\n                    }\n\n                    b = [];\n                    for (let i = 0; i < B.length; i++) {\n                        b.push((B[i] >>  0) & 0xff);\n                        b.push((B[i] >>  8) & 0xff);\n                        b.push((B[i] >> 16) & 0xff);\n                        b.push((B[i] >> 24) & 0xff);\n                    }\n\n                    const derivedKey = PBKDF2_HMAC_SHA256_OneIter(password, b, dkLen);\n\n                    // Send the result to the callback\n                    if (callback) { callback(null, 1.0, derivedKey); }\n\n                    // Done; don't break (which would reschedule)\n                    return derivedKey;\n            }\n\n            // Schedule the next steps\n            if (callback) { nextTick(incrementalSMix); }\n        }\n\n        // Run the smix state machine until completion\n        if (!callback) {\n            while (true) {\n                const derivedKey = incrementalSMix();\n                if (derivedKey != undefined) { return derivedKey; }\n            }\n        }\n\n        // Bootstrap the async incremental smix\n        incrementalSMix();\n    }\n\n    const lib = {\n        scrypt: function(password, salt, N, r, p, dkLen, progressCallback) {\n            return new Promise(function(resolve, reject) {\n                let lastProgress = 0;\n                if (progressCallback) { progressCallback(0); }\n                _scrypt(password, salt, N, r, p, dkLen, function(error, progress, key) {\n                    if (error) {\n                        reject(error);\n                    } else if (key) {\n                        if (progressCallback && lastProgress !== 1) {\n                            progressCallback(1);\n                        }\n                        resolve(new Uint8Array(key));\n                    } else if (progressCallback && progress !== lastProgress) {\n                        lastProgress = progress;\n                        return progressCallback(progress);\n                    }\n                });\n            });\n        },\n        syncScrypt: function(password, salt, N, r, p, dkLen) {\n            return new Uint8Array(_scrypt(password, salt, N, r, p, dkLen));\n        }\n    };\n\n    // node.js\n    if (typeof(exports) !== 'undefined') {\n       module.exports = lib;\n\n    // RequireJS/AMD\n    // http://www.requirejs.org/docs/api.html\n    // https://github.com/amdjs/amdjs-api/wiki/AMD\n    } else if (typeof(define) === 'function' && define.amd) {\n        define(lib);\n\n    // Web Browsers\n    } else if (root) {\n\n        // If there was an existing library \"scrypt\", make sure it is still available\n        if (root.scrypt) {\n            root._scrypt = root.scrypt;\n        }\n\n        root.scrypt = lib;\n    }\n\n})(this);\n","var SortedArray = (function () {\n    var SortedArray = defclass({\n\n        constructor: function (array, compare) {\n            this.array   = [];\n            this.compare = compare || compareDefault;\n            var length   = array.length,\n                index    = 0;\n            while (index < length) this.insert(array[index++]);\n        },\n        insert: function (element) {\n            var array   = this.array,\n                compare = this.compare,\n                high    = array.length-1,\n                low     = 0,\n                pos = -1,\n                index,\n                ordering;\n\n            // The array is sorted. You must find the position of new element in O(log(n)), not O(n).\n            while (high >= low) {\n                index    = (high + low) / 2 >>> 0;\n                ordering = compare(array[index], element);                \n                if (ordering < 0) low  = index + 1;\n                else if (ordering > 0) high = index - 1;\n                else {\n                    pos = index;\n                    break;\n                };\n            }\n\n            if (pos === -1) {\n                // if element was not found, high < low.\n                pos = high;\n            }\n            // This assures that equal elements inserted after will be in a higher position in array.\n            // They can be equal for comparison purposes, but different objects with different data.\n            // Respecting the chronological order can be important for many applications.\n            pos++;\n            high = array.length-1;\n            while ((pos < high) && (compare(element, array[pos]) === 0)){\n                pos++;\n            }\n            index = array.length;\n            // Just to increase array size.\n            array.push(element);            \n            // Much faster. No need to elements swap.\n            while (index > pos) {\n                array[index] = array[--index];\n            }\n            // Set the new element on its correct position.\n            array[pos] = element;\n\n            return this;\n        },\n        search: function (element) {\n            var array   = this.array,\n                compare = this.compare,\n                high    = array.length-1,\n                low     = 0,\n                // In most languages, inner variable declaration makes the code slower.\n                index,\n                ordering;\n\n            while (high >= low) {\n                index    = (high + low) / 2 >>> 0;\n                ordering = compare(array[index], element);\n\n                     if (ordering < 0) low  = index + 1;\n                else if (ordering > 0) high = index - 1;\n                else return index;\n            }\n\n            return -1;\n        },\n        remove: function (element) {\n            var index = this.search(element);\n            if (index >= 0) this.array.splice(index, 1);\n            return this;\n        }\n    });\n\n    SortedArray.comparing = function (property, array) {\n        return new SortedArray(array, function (a, b) {\n            // This should be faster than calling functions.\n            // Besides, this way it is not needed to create useless function to return property value.\n            return compareDefault(a[property], b[property]);\n        });\n    };\n\n    return SortedArray;\n\n    function defclass(prototype) {\n        var constructor = prototype.constructor;\n        constructor.prototype = prototype;\n        return constructor;\n    }\n\n    function compareDefault(a, b) {\n        // Equality has a very low chance to happen. It should be the last option.\n        if (a < b)\n            return -1;\n        else if (a > b)\n            return 1;\n        else\n            return 0;\n    }\n}());\n\nif (typeof module === \"object\") module.exports = SortedArray;\nif (typeof define === \"function\" && define.amd)\n    define(function () { return SortedArray; });\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]]\n  ]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var r;\n\nmodule.exports = function rand(len) {\n  if (!r)\n    r = new Rand(null);\n\n  return r.generate(len);\n};\n\nfunction Rand(rand) {\n  this.rand = rand;\n}\nmodule.exports.Rand = Rand;\n\nRand.prototype.generate = function generate(len) {\n  return this._rand(len);\n};\n\n// Emulate crypto API using randy\nRand.prototype._rand = function _rand(n) {\n  if (this.rand.getBytes)\n    return this.rand.getBytes(n);\n\n  var res = new Uint8Array(n);\n  for (var i = 0; i < res.length; i++)\n    res[i] = this.rand.getByte();\n  return res;\n};\n\nif (typeof self === 'object') {\n  if (self.crypto && self.crypto.getRandomValues) {\n    // Modern browsers\n    Rand.prototype._rand = function _rand(n) {\n      var arr = new Uint8Array(n);\n      self.crypto.getRandomValues(arr);\n      return arr;\n    };\n  } else if (self.msCrypto && self.msCrypto.getRandomValues) {\n    // IE\n    Rand.prototype._rand = function _rand(n) {\n      var arr = new Uint8Array(n);\n      self.msCrypto.getRandomValues(arr);\n      return arr;\n    };\n\n  // Safari's WebWorkers do not have `crypto`\n  } else if (typeof window === 'object') {\n    // Old junk\n    Rand.prototype._rand = function() {\n      throw new Error('Not implemented yet');\n    };\n  }\n} else {\n  // Node.js or Web worker with no crypto support\n  try {\n    var crypto = require('crypto');\n    if (typeof crypto.randomBytes !== 'function')\n      throw new Error('Not supported');\n\n    Rand.prototype._rand = function _rand(n) {\n      return crypto.randomBytes(n);\n    };\n  } catch (e) {\n  }\n}\n","var BN = require('bn.js');\nvar MillerRabin = require('miller-rabin');\nvar millerRabin = new MillerRabin();\nvar TWENTYFOUR = new BN(24);\nvar ELEVEN = new BN(11);\nvar TEN = new BN(10);\nvar THREE = new BN(3);\nvar SEVEN = new BN(7);\nvar primes = require('./generatePrime');\nvar randomBytes = require('randombytes');\nmodule.exports = DH;\n\nfunction setPublicKey(pub, enc) {\n  enc = enc || 'utf8';\n  if (!Buffer.isBuffer(pub)) {\n    pub = new Buffer(pub, enc);\n  }\n  this._pub = new BN(pub);\n  return this;\n}\n\nfunction setPrivateKey(priv, enc) {\n  enc = enc || 'utf8';\n  if (!Buffer.isBuffer(priv)) {\n    priv = new Buffer(priv, enc);\n  }\n  this._priv = new BN(priv);\n  return this;\n}\n\nvar primeCache = {};\nfunction checkPrime(prime, generator) {\n  var gen = generator.toString('hex');\n  var hex = [gen, prime.toString(16)].join('_');\n  if (hex in primeCache) {\n    return primeCache[hex];\n  }\n  var error = 0;\n\n  if (prime.isEven() ||\n    !primes.simpleSieve ||\n    !primes.fermatTest(prime) ||\n    !millerRabin.test(prime)) {\n    //not a prime so +1\n    error += 1;\n\n    if (gen === '02' || gen === '05') {\n      // we'd be able to check the generator\n      // it would fail so +8\n      error += 8;\n    } else {\n      //we wouldn't be able to test the generator\n      // so +4\n      error += 4;\n    }\n    primeCache[hex] = error;\n    return error;\n  }\n  if (!millerRabin.test(prime.shrn(1))) {\n    //not a safe prime\n    error += 2;\n  }\n  var rem;\n  switch (gen) {\n    case '02':\n      if (prime.mod(TWENTYFOUR).cmp(ELEVEN)) {\n        // unsuidable generator\n        error += 8;\n      }\n      break;\n    case '05':\n      rem = prime.mod(TEN);\n      if (rem.cmp(THREE) && rem.cmp(SEVEN)) {\n        // prime mod 10 needs to equal 3 or 7\n        error += 8;\n      }\n      break;\n    default:\n      error += 4;\n  }\n  primeCache[hex] = error;\n  return error;\n}\n\nfunction DH(prime, generator, malleable) {\n  this.setGenerator(generator);\n  this.__prime = new BN(prime);\n  this._prime = BN.mont(this.__prime);\n  this._primeLen = prime.length;\n  this._pub = undefined;\n  this._priv = undefined;\n  this._primeCode = undefined;\n  if (malleable) {\n    this.setPublicKey = setPublicKey;\n    this.setPrivateKey = setPrivateKey;\n  } else {\n    this._primeCode = 8;\n  }\n}\nObject.defineProperty(DH.prototype, 'verifyError', {\n  enumerable: true,\n  get: function () {\n    if (typeof this._primeCode !== 'number') {\n      this._primeCode = checkPrime(this.__prime, this.__gen);\n    }\n    return this._primeCode;\n  }\n});\nDH.prototype.generateKeys = function () {\n  if (!this._priv) {\n    this._priv = new BN(randomBytes(this._primeLen));\n  }\n  this._pub = this._gen.toRed(this._prime).redPow(this._priv).fromRed();\n  return this.getPublicKey();\n};\n\nDH.prototype.computeSecret = function (other) {\n  other = new BN(other);\n  other = other.toRed(this._prime);\n  var secret = other.redPow(this._priv).fromRed();\n  var out = new Buffer(secret.toArray());\n  var prime = this.getPrime();\n  if (out.length < prime.length) {\n    var front = new Buffer(prime.length - out.length);\n    front.fill(0);\n    out = Buffer.concat([front, out]);\n  }\n  return out;\n};\n\nDH.prototype.getPublicKey = function getPublicKey(enc) {\n  return formatReturnValue(this._pub, enc);\n};\n\nDH.prototype.getPrivateKey = function getPrivateKey(enc) {\n  return formatReturnValue(this._priv, enc);\n};\n\nDH.prototype.getPrime = function (enc) {\n  return formatReturnValue(this.__prime, enc);\n};\n\nDH.prototype.getGenerator = function (enc) {\n  return formatReturnValue(this._gen, enc);\n};\n\nDH.prototype.setGenerator = function (gen, enc) {\n  enc = enc || 'utf8';\n  if (!Buffer.isBuffer(gen)) {\n    gen = new Buffer(gen, enc);\n  }\n  this.__gen = gen;\n  this._gen = new BN(gen);\n  return this;\n};\n\nfunction formatReturnValue(bn, enc) {\n  var buf = new Buffer(bn.toArray());\n  if (!enc) {\n    return buf;\n  } else {\n    return buf.toString(enc);\n  }\n}\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","export default {\n  'Success': 200,\n\n  'Bad Request': 400,\n  'Unauthorized': 401,\n  'Payment Required': 402,\n  'Forbidden': 403,\n  'Not Found': 404,\n  'Conflict': 409,\n  'Too Many Requests': 429,\n\n  'Internal Server Error': 500,\n  'Service Unavailable': 503,\n  'Gateway Timeout': 504,\n\n  // WebSocket close event codes\n  'Service Restart': 1012,\n\n  // Custom ws close event codes\n  'No Pong Received': 3000,\n  'Client Already Connected': 3001\n}\n","import statusCodes from '../statusCodes'\n\nclass UsernameAlreadyExists extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'UsernameAlreadyExists'\n    this.message = 'Username already exists.'\n    this.status = statusCodes['Conflict']\n  }\n}\n\nclass UsernameMissing extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'UsernameMissing'\n    this.message = 'Username missing.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass UsernameCannotBeBlank extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'UsernameCannotBeBlank'\n    this.message = 'Username cannot be blank.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass UsernameTooLong extends Error {\n  constructor(maxLen, ...params) {\n    super(maxLen, ...params)\n\n    this.name = 'UsernameTooLong'\n    this.message = `Username too long. Must be a max of ${maxLen} characters.`\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass UsernameMustBeString extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'UsernameMustBeString'\n    this.message = 'Username must be a string.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass PasswordMissing extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'PasswordMissing'\n    this.message = 'Password missing.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass PasswordCannotBeBlank extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'PasswordCannotBeBlank'\n    this.message = 'Password cannot be blank.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass PasswordTooShort extends Error {\n  constructor(minLen, ...params) {\n    super(minLen, ...params)\n\n    this.name = 'PasswordTooShort'\n    this.message = `Password too short. Must be a minimum of ${minLen} characters.`\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass PasswordTooLong extends Error {\n  constructor(maxLen, ...params) {\n    super(maxLen, ...params)\n\n    this.name = 'PasswordTooLong'\n    this.message = `Password too long. Must be a max of ${maxLen} characters.`\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass PasswordMustBeString extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'PasswordMustBeString'\n    this.message = 'Password must be a string.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass PasswordAttemptLimitExceeded extends Error {\n  constructor(delay, ...params) {\n    super(delay, ...params)\n\n    this.name = 'PasswordAttemptLimitExceeded'\n    this.message = `Password attempt limit exceeded. Must wait ${delay} to attempt to use password again.`\n    this.status = statusCodes['Unauthorized']\n  }\n}\n\nclass UsernameOrPasswordMismatch extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'UsernameOrPasswordMismatch'\n    this.message = 'Username or password mismatch.'\n    this.status = statusCodes['Unauthorized']\n  }\n}\n\nclass UserAlreadySignedIn extends Error {\n  constructor(username, ...params) {\n    super(...params)\n\n    this.name = 'UserAlreadySignedIn'\n    this.message = 'Already signed in.'\n    this.status = statusCodes['Bad Request']\n    this.username = username\n  }\n}\n\nclass UserPendingDeletion extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'UserPendingDeletion'\n    this.message = 'User is pending deletion.'\n    this.status = statusCodes['Forbidden']\n  }\n}\n\nclass AppIdNotValid extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'AppIdNotValid'\n    this.message = 'App ID not valid.'\n    this.status = statusCodes['Unauthorized']\n  }\n}\n\nclass UserNotSignedIn extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'UserNotSignedIn'\n    this.message = 'Not signed in.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass UserNotFound extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'UserNotFound'\n    this.message = 'User not found.'\n    this.status = statusCodes['Not Found']\n  }\n}\n\nclass UserEmailNotFound extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'UserEmailNotFound'\n    this.message = 'User does not have an email saved.'\n    this.status = statusCodes['Not Found']\n  }\n}\n\nclass EmailNotValid extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'EmailNotValid'\n    this.message = 'Email not valid.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass ProfileMustBeObject extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'ProfileMustBeObject'\n    this.message = 'Profile must be a flat JSON object.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass ProfileCannotBeEmpty extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'ProfileCannotBeEmpty'\n    this.message = 'Profile cannot be empty.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass ProfileHasTooManyKeys extends Error {\n  constructor(maxKeys, ...params) {\n    super(maxKeys, ...params)\n\n    this.name = 'ProfileHasTooManyKeys'\n    this.message = `Profile has too many keys. Must have a max of ${maxKeys} keys.`\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass ProfileKeyTooLong extends Error {\n  constructor(maxLen, key, ...params) {\n    super(maxLen, key, ...params)\n\n    this.name = 'ProfileKeyTooLong'\n    this.message = `Profile key too long. Must be a max of ${maxLen} characters.`\n    this.status = statusCodes['Bad Request']\n    this.key = key\n  }\n}\n\nclass ProfileValueMustBeString extends Error {\n  constructor(key, value, ...params) {\n    super(key, value, ...params)\n\n    this.name = 'ProfileValueMustBeString'\n    this.message = 'Profile value must be a string.'\n    this.status = statusCodes['Bad Request']\n    this.key = key\n    this.value = value\n  }\n}\n\nclass ProfileValueCannotBeBlank extends Error {\n  constructor(key, ...params) {\n    super(key, ...params)\n\n    this.name = 'ProfileValueCannotBeBlank'\n    this.message = 'Profile value cannot be blank.'\n    this.status = statusCodes['Bad Request']\n    this.key = key\n  }\n}\n\nclass ProfileValueTooLong extends Error {\n  constructor(maxLen, key, value, ...params) {\n    super(maxLen, key, value, ...params)\n\n    this.name = 'ProfileValueTooLong'\n    this.message = `Profile value too long. Must be a max of ${maxLen} characters.`\n    this.status = statusCodes['Bad Request']\n    this.key = key\n    this.value = value\n  }\n}\n\nclass RememberMeValueNotValid extends Error {\n  constructor(options, ...params) {\n    super(options, ...params)\n\n    this.name = 'RememberMeValueNotValid'\n    this.message = `Remember me value must be one of ${JSON.stringify(Object.keys(options))}.`\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass ParamsMissing extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'ParamsMissing'\n    this.message = 'Parameters expected are missing.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass TrialExceededLimit extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'TrialExceededLimit'\n    this.message = 'Trial exceeded limit of users.'\n    this.status = statusCodes['Payment Required']\n  }\n}\n\nclass CurrentPasswordMissing extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'CurrentPasswordMissing'\n    this.message = 'Current password missing.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass CurrentPasswordIncorrect extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'CurrentPasswordIncorrect'\n    this.message = 'Current password is incorrect.'\n    this.status = statusCodes['Unauthorized']\n  }\n}\n\nclass KeyNotFound extends Error {\n  constructor(message, ...params) {\n    super(message, ...params)\n\n    this.name = 'KeyNotFound'\n    this.message = message\n    this.status = statusCodes['Not Found']\n  }\n}\n\nexport default {\n  UsernameAlreadyExists,\n  UsernameMissing,\n  UsernameCannotBeBlank,\n  UsernameTooLong,\n  UsernameMustBeString,\n  PasswordMissing,\n  PasswordCannotBeBlank,\n  PasswordTooShort,\n  PasswordTooLong,\n  PasswordMustBeString,\n  PasswordAttemptLimitExceeded,\n  UsernameOrPasswordMismatch,\n  UserAlreadySignedIn,\n  UserPendingDeletion,\n  AppIdNotValid,\n  UserNotSignedIn,\n  UserNotFound,\n  UserEmailNotFound,\n  EmailNotValid,\n  ProfileMustBeObject,\n  ProfileCannotBeEmpty,\n  ProfileHasTooManyKeys,\n  ProfileKeyTooLong,\n  ProfileValueMustBeString,\n  ProfileValueCannotBeBlank,\n  ProfileValueTooLong,\n  RememberMeValueNotValid,\n  ParamsMissing,\n  TrialExceededLimit,\n  CurrentPasswordMissing,\n  CurrentPasswordIncorrect,\n  KeyNotFound,\n}\n","import statusCodes from '../statusCodes'\n\nclass DatabaseNameMissing extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'DatabaseNameMissing'\n    this.message = 'Database name missing.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass DatabaseNameCannotBeBlank extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'DatabaseNameCannotBeBlank'\n    this.message = 'Database name cannot be blank.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass DatabaseNameMustBeString extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'DatabaseNameMustBeString'\n    this.message = 'Database name must be a string.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass DatabaseNameTooLong extends Error {\n  constructor(maxLength, ...params) {\n    super(maxLength, ...params)\n\n    this.name = 'DatabaseNameTooLong'\n    this.message = `Database name cannot be more than ${maxLength} characters.`\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass DatabaseAlreadyOpening extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'DatabaseAlreadyOpening'\n    this.message = 'Already attempting to open database.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass ChangeHandlerMissing extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'ChangeHandlerMissing'\n    this.message = 'Change handler missing.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass ChangeHandlerMustBeFunction extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'ChangeHandlerMustBeFunction'\n    this.message = 'Change handler must be a function.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass DatabaseNotOpen extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'DatabaseNotOpen'\n    this.message = 'Database is not open.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass ItemMissing extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'ItemMissing'\n    this.message = 'Item missing.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass ItemInvalid extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'ItemInvalid'\n    this.message = 'Item must be serializable to JSON.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass ItemTooLarge extends Error {\n  constructor(maxKb, ...params) {\n    super(maxKb, ...params)\n\n    this.name = 'ItemTooLarge'\n    this.message = `Item must be less than ${maxKb} KB.`\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass ItemIdMustBeString extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'ItemIdMustBeString'\n    this.message = 'Item id must be a string.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass ItemIdTooLong extends Error {\n  constructor(maxLength, ...params) {\n    super(maxLength, ...params)\n\n    this.name = 'ItemIdTooLong'\n    this.message = `Item id cannot be more than ${maxLength} characters.`\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass ItemIdMissing extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'ItemIdMissing'\n    this.message = 'Item id missing.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass ItemIdCannotBeBlank extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'ItemIdCannotBeBlank'\n    this.message = 'Item id cannot be blank.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass ItemAlreadyExists extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'ItemAlreadyExists'\n    this.message = 'Item with the same id already exists.'\n    this.status = statusCodes['Conflict']\n  }\n}\n\nclass ItemDoesNotExist extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'ItemDoesNotExist'\n    this.message = 'Item with the provided id does not exist.'\n    this.status = statusCodes['Not Found']\n  }\n}\n\nclass ItemUpdateConflict extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'ItemUpdateConflict'\n    this.message = 'Item update conflict.'\n    this.status = statusCodes['Conflict']\n  }\n}\n\nclass OperationsMissing extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'OperationsMissing'\n    this.message = 'Operations missing.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass OperationsMustBeArray extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'OperationsMustBeArray'\n    this.message = 'Operations provided must be an array.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass CommandNotRecognized extends Error {\n  constructor(command, ...params) {\n    super(command, ...params)\n\n    this.name = 'CommandNotRecognized'\n    this.message = `Command '${command}' not recognized.`\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass OperationsConflict extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'OperationsConflict'\n    this.message = 'Operations conflict. Only allowed 1 operation per item.'\n    this.status = statusCodes['Conflict']\n  }\n}\n\nclass OperationsExceedLimit extends Error {\n  constructor(limit, ...params) {\n    super(limit, ...params)\n\n    this.name = 'OperationsExceedLimit'\n    this.message = `Operations exceed limit. Only allowed ${limit} operations.`\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nexport default {\n  DatabaseNameMissing,\n  DatabaseNameCannotBeBlank,\n  DatabaseNameMustBeString,\n  DatabaseNameTooLong,\n  DatabaseAlreadyOpening,\n  ChangeHandlerMissing,\n  ChangeHandlerMustBeFunction,\n  DatabaseNotOpen,\n  ItemMissing,\n  ItemInvalid,\n  ItemTooLarge,\n  ItemIdMustBeString,\n  ItemIdTooLong,\n  ItemIdMissing,\n  ItemIdCannotBeBlank,\n  ItemAlreadyExists,\n  ItemDoesNotExist,\n  ItemUpdateConflict,\n  OperationsMissing,\n  OperationsMustBeArray,\n  OperationsConflict,\n  OperationsExceedLimit,\n  CommandNotRecognized\n}\n","import statusCodes from '../statusCodes'\n\nclass AppIdAlreadySet extends Error {\n  constructor(appId, ...params) {\n    super(appId, ...params)\n\n    this.name = 'AppIdAlreadySet'\n    this.message = 'Application ID already set.'\n    this.status = statusCodes['Conflict']\n    this.appId = appId\n  }\n}\n\nclass AppIdMustBeString extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'AppIdMustBeString'\n    this.message = 'Application ID must be a string.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass AppIdMissing extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'AppIdMissing'\n    this.message = 'Application ID missing.'\n    this.status = statusCodes['Bad Request']\n  }\n}\nclass AppIdCannotBeBlank extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'AppIdCannotBeBlank'\n    this.message = 'Application ID cannot be blank.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass WebCryptoUnavailable extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'WebCryptoUnavailable'\n    this.message = 'The WebCrypto API is unavailable. Please make sure your website uses https.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nexport default {\n  AppIdAlreadySet,\n  AppIdMustBeString,\n  AppIdMissing,\n  AppIdCannotBeBlank,\n  WebCryptoUnavailable,\n}\n","import statusCodes from '../statusCodes'\n\nclass SuccessUrlMissing extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'SuccessUrlMissing'\n    this.message = 'Success url missing to let Stripe know where to redirect users on successful payment.'\n    this.status = statusCodes['Bad Request']\n  }\n}\nclass SuccessUrlMustBeString extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'SuccessUrlMustBeString'\n    this.message = 'Success url must be a string.'\n    this.status = statusCodes['Bad Request']\n  }\n}\nclass SuccessUrlInvalid extends Error {\n  constructor(invalidProtocol, ...params) {\n    super(invalidProtocol, ...params)\n\n    this.name = 'SuccessUrlInvalid'\n    this.message = invalidProtocol ? 'Success url must start with http or https.' : 'Success url invalid.'\n    this.status = statusCodes['Bad Request']\n  }\n}\nclass CancelUrlMissing extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'CancelUrlMissing'\n    this.message = 'Cancel url missing to let Stripe know where to redirect users on cancelled payment.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass CancelUrlMustBeString extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'CancelUrlMustBeString'\n    this.message = 'Cancel url must be a string.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass CancelUrlInvalid extends Error {\n  constructor(invalidProtocol, ...params) {\n    super(invalidProtocol, ...params)\n\n    this.name = 'CancelUrlInvalid'\n    this.message = invalidProtocol ? 'Cancel url must start with http or https.' : 'Cancel url invalid.'\n    this.status = statusCodes['Bad Request']\n  }\n}\nclass StripeJsLibraryMissing extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'StripeLibraryMissing'\n    this.message = 'Stripe.js library missing. Be sure to include the script in your html file (https://stripe.com/docs/stripe-js#setup).'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass PaymentsDisabled extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'PaymentsDisabled'\n    this.message = 'Payments on this app are disabled. Enable payments in the admin panel.'\n    this.status = statusCodes['Forbidden']\n  }\n}\n\nclass SubscriptionPlanNotSet extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'SubscriptionPlanNotSet'\n    this.message = 'Subscription plan not set. Set the subscription plan in the admin panel.'\n    this.status = statusCodes['Forbidden']\n  }\n}\n\nclass SubscriptionPlanAlreadyPurchased extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'SubscriptionPlanAlreadyPurchased'\n    this.message = 'Subscription plan already purchased.'\n    this.status = statusCodes['Conflict']\n  }\n}\nclass StripeAccountNotConnected extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'StripeAccountNotConnected'\n    this.message = 'Stripe account not connected. Connect a Stripe account in the admin panel.'\n    this.status = statusCodes['Forbidden']\n  }\n}\n\nclass SubscriptionNotFound extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'SubscriptionNotFound'\n    this.message = 'Subscription not found. User must purchase a subscription.'\n    this.status = statusCodes['Payment Required']\n  }\n}\n\nclass SubscribedToIncorrectPlan extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'SubscribedToIncorrectPlan'\n    this.message = \"Subscribed to the incorrect subscription plan. The user must purchase the app's current subscription plan.\"\n    this.status = statusCodes['Payment Required']\n  }\n}\n\nclass SubscriptionInactive extends Error {\n  constructor(subscriptionStatus, ...params) {\n    super(...params)\n\n    this.name = 'SubscriptionInactive'\n    this.message = \"The user's subscription is inactive.\"\n    this.subscriptionStatus = subscriptionStatus\n    this.status = statusCodes['Payment Required']\n  }\n}\n\nclass SubscriptionNotPurchased extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'SubscriptionNotPurchased'\n    this.message = 'Subscription not purchased. User must purchase a subscription.'\n    this.status = statusCodes['Payment Required']\n  }\n}\n\nclass SubscriptionAlreadyCanceled extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'SubscriptionAlreadyCanceled'\n    this.message = 'Subscription already canceled. User must purchase a new subscription.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass TrialExpired extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'TrialExpired'\n    this.message = 'Trial expired. User must purchase a subscription.'\n    this.status = statusCodes['Payment Required']\n  }\n}\n\nclass StripeError extends Error {\n  constructor(error, ...params) {\n    super(error, ...params)\n\n    const { status, type, message } = error\n\n    this.name = 'StripeError'\n    this.message = message\n    this.type = type\n    this.status = status\n  }\n}\n\nexport default {\n  SuccessUrlMissing,\n  SuccessUrlMustBeString,\n  SuccessUrlInvalid,\n  CancelUrlMissing,\n  CancelUrlMustBeString,\n  CancelUrlInvalid,\n  StripeJsLibraryMissing,\n  PaymentsDisabled,\n  SubscriptionPlanNotSet,\n  SubscriptionPlanAlreadyPurchased,\n  StripeAccountNotConnected,\n  SubscriptionNotFound,\n  SubscribedToIncorrectPlan,\n  SubscriptionInactive,\n  SubscriptionNotPurchased,\n  SubscriptionAlreadyCanceled,\n  TrialExpired,\n  StripeError,\n}\n","import auth from './auth'\nimport db from './db'\nimport config from './config'\nimport payments from './payments'\nimport statusCodes from '../statusCodes'\n\nclass AppIdNotSet extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'AppIdNotSet'\n    this.message = 'App ID not set yet. Make sure to configure app ID.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass ServiceUnavailable extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'ServiceUnavailable'\n    this.message = 'Service unavailable.'\n    this.status = statusCodes['Service Unavailable']\n  }\n}\n\nclass InternalServerError extends ServiceUnavailable {\n  constructor(...params) {\n    super(...params)\n\n    this.status = statusCodes['Internal Server Error']\n  }\n}\n\nclass Timeout extends ServiceUnavailable {\n  constructor(...params) {\n    super(...params)\n\n    this.status = statusCodes['Gateway Timeout']\n  }\n}\n\nclass Reconnecting extends ServiceUnavailable {\n  constructor(...params) {\n    super(...params)\n\n    this.message = 'Reconnecting.'\n  }\n}\n\nclass UnknownServiceUnavailable extends ServiceUnavailable {\n  constructor(e, ...params) {\n    super(e, ...params)\n\n    console.error('Userbase error. Please report this to support@userbase.com.\\n\\n', e)\n  }\n}\n\nclass ParamsMustBeObject extends Error {\n  constructor(...params) {\n    super(...params)\n\n    this.name = 'ParamsMustBeObject'\n    this.message = 'Parameters passed to function must be placed inside an object.'\n    this.status = statusCodes['Bad Request']\n  }\n}\n\nclass TooManyRequests extends Error {\n  constructor(retryDelay, ...params) {\n    super(retryDelay, ...params)\n\n    const retryDelaySeconds = Math.floor(retryDelay / 1000)\n\n    this.name = 'TooManyRequests'\n    this.message = `Too many requests in a row. Please try again in ${retryDelaySeconds} second${retryDelaySeconds !== 1 ? 's' : ''}.`\n    this.status = statusCodes['Too Many Requests']\n  }\n}\n\nexport default {\n  ...auth,\n  ...db,\n  ...config,\n  ...payments,\n  AppIdNotSet,\n  InternalServerError,\n  ServiceUnavailable,\n  Timeout,\n  Reconnecting,\n  UnknownServiceUnavailable,\n  ParamsMustBeObject,\n  TooManyRequests\n}\n","import errors from './errors'\n\nconst VERSION = '/v1'\nconst DEFAULT_ENDPOINT = 'https://v1.userbase.com' + VERSION\n\nconst STRIPE_PRODUCTION_PUBLISHABLE_KEY = 'pk_live_jI6lbsAIQlu2u4uTkDXFrSEW'\nconst STRIPE_TEST_PUBLISHABLE_KEY = 'pk_test_rYANrLdNfdJXJ2d808wW4pqY'\n\nlet userbaseAppId = null\n\nconst REMEMBER_ME_OPTIONS = {\n  local: true,\n  session: true,\n  none: true\n}\n\nconst getAppId = () => {\n  if (!userbaseAppId) throw new errors.AppIdNotSet\n  return userbaseAppId\n}\n\nconst getEndpoint = () => {\n  return window._userbaseEndpoint || DEFAULT_ENDPOINT\n}\n\nconst setAppId = (appId) => {\n  if (userbaseAppId && userbaseAppId !== appId) throw new errors.AppIdAlreadySet(userbaseAppId)\n  if (typeof appId !== 'string') throw new errors.AppIdMustBeString\n  if (appId.length === 0) throw new errors.AppIdCannotBeBlank\n  userbaseAppId = appId\n}\n\nconst configure = ({ appId }) => {\n  setAppId(appId)\n}\n\nconst getStripePublishableKey = (isProduction) => {\n  return isProduction\n    ? (window._USERBASE_STRIPE_PRODUCTION_PUBLISHABLE_KEY || STRIPE_PRODUCTION_PUBLISHABLE_KEY)\n    : (window._USERBASE_STRIPE_TEST_PUBLISHABLE_KEY || STRIPE_TEST_PUBLISHABLE_KEY)\n}\n\nexport default {\n  REMEMBER_ME_OPTIONS,\n  getAppId,\n  getEndpoint,\n  configure,\n  getStripePublishableKey,\n}\n","import config from '../config'\nimport errors from '../errors'\n\nconst TEN_SECONDS_MS = 10 * 1000\n\nclass RequestError extends Error {\n  constructor(data, status, statusText, ...params) {\n    super(data, status, statusText, ...params)\n\n    this.response = {\n      data,\n      status,\n      statusText,\n    }\n\n    this.message = 'Request failed with status code ' + status\n  }\n}\n\nclass TimeoutError extends Error {\n  constructor(timeout, ...params) {\n    super(timeout, ...params)\n\n    this.message = `timeout of ${timeout}ms exceeded`\n  }\n}\n\nconst handleResponse = (xhr, resolve, reject) => {\n  let response\n  try {\n    response = JSON.parse(xhr.response)\n  } catch {\n    response = xhr.response\n  }\n\n  if (xhr.status >= 200 && xhr.status < 300) {\n    resolve(response)\n  } else {\n    reject(new RequestError(response, xhr.status, xhr.statusText))\n  }\n}\n\nconst processXhr = (xhr, resolve, reject) => {\n  xhr.timeout = TEN_SECONDS_MS\n  xhr.onload = () => handleResponse(xhr, resolve, reject)\n  xhr.onerror = () => reject(new errors.ServiceUnavailable)\n  xhr.ontimeout = () => reject(new TimeoutError(TEN_SECONDS_MS))\n}\n\nconst signUp = (username, passwordToken, publicKey, passwordSalts, keySalts, email, profile, passwordBasedBackup) => {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest()\n\n    const method = 'POST'\n    const url = `${config.getEndpoint()}/api/auth/sign-up?appId=${config.getAppId()}`\n    const data = JSON.stringify({\n      username,\n      passwordToken,\n      publicKey,\n      passwordSalts,\n      keySalts,\n      email,\n      profile,\n      passwordBasedBackup\n    })\n\n    xhr.open(method, url)\n    xhr.setRequestHeader('Content-Type', 'application/json')\n    xhr.send(data)\n\n    processXhr(xhr, resolve, reject)\n  })\n}\n\nconst getPasswordSalts = (username) => {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest()\n\n    const method = 'GET'\n    const url = `${config.getEndpoint()}/api/auth/get-password-salts?appId=${config.getAppId()}&username=${encodeURIComponent(username)}`\n\n    xhr.open(method, url)\n    xhr.send()\n\n    processXhr(xhr, resolve, reject)\n  })\n}\n\nconst signIn = async (username, passwordToken) => {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest()\n\n    const method = 'POST'\n    const url = `${config.getEndpoint()}/api/auth/sign-in?appId=${config.getAppId()}`\n    const data = JSON.stringify({\n      username,\n      passwordToken,\n    })\n\n    xhr.open(method, url)\n    xhr.setRequestHeader('Content-Type', 'application/json')\n    xhr.send(data)\n\n    processXhr(xhr, resolve, reject)\n  })\n}\n\nconst signInWithSession = (sessionId) => {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest()\n\n    const method = 'POST'\n    const url = `${config.getEndpoint()}/api/auth/sign-in-with-session?appId=${config.getAppId()}&sessionId=${sessionId}`\n\n    xhr.open(method, url)\n    xhr.send()\n\n    processXhr(xhr, resolve, reject)\n  })\n}\n\nconst getServerPublicKey = async () => {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest()\n\n    const method = 'GET'\n    const url = `${config.getEndpoint()}/api/auth/server-public-key`\n    const responseType = 'arraybuffer'\n\n    xhr.open(method, url)\n    xhr.responseType = responseType\n    xhr.send()\n\n    processXhr(xhr, resolve, reject)\n  })\n}\n\nexport default {\n  signUp,\n  getPasswordSalts,\n  signIn,\n  signInWithSession,\n  getServerPublicKey,\n}\n","import auth from './auth'\n\nexport default {\n  auth\n}\n","const tryCatchWrapper = (func) => (...args) => {\n  try {\n    return func(...args)\n  } catch (e) {\n    // ok to swallow error\n    //\n    // local/sessionStorage are non-critical benefits. If they happen to be available,\n    // they're helpful, but if not, the SDK functions totally fine.\n    //\n    // If a function fails, behavior is functionally the same as if rememberMe is 'none'.\n    console.warn('Error accessing browser storage. Defaulting to memory.\\n\\n', e)\n  }\n}\n\nconst _getSeedName = (appId, username) => `userbaseSeed.${appId}.${username}`\n\nconst setCurrentSession = tryCatchWrapper((rememberMe, username, signedIn, sessionId, creationDate, expirationDate) => {\n  const session = { username, signedIn, sessionId, creationDate, expirationDate }\n  const sessionString = JSON.stringify(session)\n\n  if (rememberMe === 'local') {\n    localStorage.setItem('userbaseCurrentSession', sessionString)\n  } else if (rememberMe === 'session') {\n    sessionStorage.setItem('userbaseCurrentSession', sessionString)\n  }\n})\n\nconst getCurrentSession = tryCatchWrapper(() => {\n  const sessionStorageCurrentSessionString = sessionStorage.getItem('userbaseCurrentSession')\n\n  if (sessionStorageCurrentSessionString) {\n    const currentSession = JSON.parse(sessionStorageCurrentSessionString)\n\n    if (!currentSession.signedIn) {\n      const localCurrentSessionString = localStorage.getItem('userbaseCurrentSession')\n\n      if (localCurrentSessionString) {\n        const localCurrentSession = JSON.parse(localCurrentSessionString)\n\n        // allows session from localStorage to override sessionStorage if signed in\n        // to localStorage session and not signed in to sessionStorage session\n        if (localCurrentSession.signedIn) {\n          return {\n            ...localCurrentSession,\n            rememberMe: 'local'\n          }\n        }\n      }\n    }\n\n    return {\n      ...JSON.parse(sessionStorageCurrentSessionString),\n      rememberMe: 'session'\n    }\n  }\n\n  const localSessionString = localStorage.getItem('userbaseCurrentSession')\n  return localSessionString && {\n    ...JSON.parse(localSessionString),\n    rememberMe: 'local'\n  }\n})\n\nconst saveSeedString = tryCatchWrapper((rememberMe, appId, username, seedString) => {\n  if (rememberMe === 'local') {\n    localStorage.setItem(_getSeedName(appId, username), seedString)\n  } else if (rememberMe === 'session') {\n    sessionStorage.setItem(_getSeedName(appId, username), seedString)\n  }\n})\n\nconst removeSeedString = tryCatchWrapper((appId, username) => {\n  const seedName = _getSeedName(appId, username)\n  sessionStorage.removeItem(seedName)\n  localStorage.removeItem(seedName)\n})\n\nconst getSeedString = tryCatchWrapper((appId, username) => {\n  const seedName = _getSeedName(appId, username)\n  return sessionStorage.getItem(seedName) || localStorage.getItem(seedName)\n})\n\nconst signInSession = (rememberMe, username, sessionId, creationDate, expirationDate) => {\n  const signedIn = true\n  setCurrentSession(rememberMe, username, signedIn, sessionId, creationDate, expirationDate)\n}\n\nconst signOutSession = (rememberMe, username) => {\n  const signedIn = false\n  setCurrentSession(rememberMe, username, signedIn)\n}\n\nconst removeCurrentSession = tryCatchWrapper(() => {\n  sessionStorage.removeItem('userbaseCurrentSession')\n  localStorage.removeItem('userbaseCurrentSession')\n})\n\nexport default {\n  signInSession,\n  signOutSession,\n  getCurrentSession,\n  saveSeedString,\n  removeSeedString,\n  getSeedString,\n  removeCurrentSession,\n}\n","const ONE_KB = 1024\nconst TEN_KB = 10 * ONE_KB\n\n// https://stackoverflow.com/a/20604561/11601853\nexport const arrayBufferToString = (buf) => {\n  const bufView = new Uint16Array(buf)\n  const length = bufView.length\n  let result = ''\n  let chunkSize = TEN_KB // using chunks prevents stack from blowing up\n\n  for (var i = 0; i < length; i += chunkSize) {\n    if (i + chunkSize > length) {\n      chunkSize = length - i\n    }\n    const chunk = bufView.subarray(i, i + chunkSize)\n    result += String.fromCharCode.apply(null, chunk)\n  }\n\n  return result\n}\n\n// https://developers.google.com/web/updates/2012/06/How-to-convert-ArrayBuffer-to-and-from-String\nexport const stringToArrayBuffer = (str) => {\n  let buf = new ArrayBuffer(str.length * 2) // 2 bytes for each char\n  let bufView = new Uint16Array(buf)\n  for (let i = 0, strLen = str.length; i < strLen; i++) {\n    bufView[i] = str.charCodeAt(i)\n  }\n  return buf\n}\n\n/**\n* Creates a new Uint8Array based on two different ArrayBuffers\n*\n* Source: https://gist.github.com/72lions/4528834\n*\n* @param {ArrayBuffers} buffer1 The first buffer.\n* @param {ArrayBuffers} buffer2 The second buffer.\n* @return {ArrayBuffers} The new ArrayBuffer created out of the two.\n*\n*/\nexport const appendBuffer = (buffer1, buffer2) => {\n  const tmp = new Uint8Array(buffer1.byteLength + buffer2.byteLength)\n  tmp.set(new Uint8Array(buffer1), 0)\n  tmp.set(new Uint8Array(buffer2), buffer1.byteLength)\n  return tmp.buffer\n}\n\nexport const appendBuffers = (buffers) => {\n  const bufferByteLengths = buffers.map(buffer => buffer.byteLength)\n  const totalByteLength = bufferByteLengths.reduce((byteLengthSum, bufferByteLength) => byteLengthSum + bufferByteLength)\n\n  const tmp = new Uint8Array(totalByteLength)\n  let currentByteLength = 0\n  for (let i = 0; i < buffers.length; i++) {\n    tmp.set(new Uint8Array(buffers[i]), currentByteLength)\n    currentByteLength += bufferByteLengths[i]\n  }\n\n  return {\n    buffer: tmp.buffer,\n    byteLengths: bufferByteLengths\n  }\n}\n\nexport const hexStringToArrayBuffer = (hexString) => {\n  if (hexString.length % 2 !== 0) throw new Error('Hex string must be even length')\n  const halfHexStringLen = hexString.length / 2\n  const array = []\n  for (let i = 0; i < halfHexStringLen; i++) {\n    const byteStartIndex = i * 2\n    const byte = hexString.substring(byteStartIndex, byteStartIndex + 2)\n    const byteAsInt = parseInt(byte, 16)\n    array.push(byteAsInt)\n  }\n  return new Uint8Array(array)\n}\n","import base64 from 'base64-arraybuffer'\nimport { stringToArrayBuffer } from './utils'\n\nconst BYTE_SIZE = 32 // 256 / 8\nconst HASH_ALGORITHM_NAME = 'SHA-256'\n\n/**\n *\n * @param {ArrayBuffer} data\n */\nconst hash = async (data) => {\n  const result = await window.crypto.subtle.digest(\n    {\n      name: HASH_ALGORITHM_NAME,\n    },\n    data\n  )\n  return result\n}\n\nconst hashBase64String = async (dataString) => {\n  const data = base64.decode(dataString)\n  const result = await hash(data)\n  return base64.encode(result)\n}\n\nconst hashString = async (dataString) => {\n  const data = stringToArrayBuffer(dataString)\n  const result = await hash(data)\n  return base64.encode(result)\n}\n\nexport default {\n  BYTE_SIZE,\n  HASH_ALGORITHM_NAME,\n  hash,\n  hashBase64String,\n  hashString\n}\n","import base64 from 'base64-arraybuffer'\nimport sha256 from './sha-256'\nimport { stringToArrayBuffer } from './utils'\n\nconst HKDF_ALGORITHM_NAME = 'HKDF'\nconst RAW_KEY_TYPE = 'raw'\nconst KEY_IS_NOT_EXTRACTABLE = false\nconst KEY_WILL_BE_USED_TO = ['deriveKey', 'deriveBits']\n\nconst importHkdfKeyFromString = async (seedString) => {\n  const seed = stringToArrayBuffer(seedString)\n  const hkdfKey = await importHkdfKey(seed)\n  return hkdfKey\n}\n\nconst importHkdfKey = async (seed) => {\n  const hkdfKey = await window.crypto.subtle.importKey(\n    RAW_KEY_TYPE,\n    seed,\n    {\n      name: HKDF_ALGORITHM_NAME\n    },\n    KEY_IS_NOT_EXTRACTABLE,\n    KEY_WILL_BE_USED_TO\n  )\n  return hkdfKey\n}\n\n/**\n *  RFC 5869:\n *\n *  \"the use of salt adds significantly to the strength of HKDF...\n *  Ideally, the salt value is a random (or pseudorandom) string of the\n *  length HashLen\"\n *\n *  https://tools.ietf.org/html/rfc5869#section-3.1\n *\n **/\nconst SALT_BYTE_SIZE = sha256.BYTE_SIZE\nconst generateSalt = () => window.crypto.getRandomValues(new Uint8Array(SALT_BYTE_SIZE))\n\nconst getParams = (keyName, salt) => ({\n  name: HKDF_ALGORITHM_NAME,\n  info: stringToArrayBuffer(keyName),\n  hash: sha256.HASH_ALGORITHM_NAME,\n  salt\n})\n\nconst PASSWORD_TOKEN_NAME = 'password-token'\nconst PASSWORD_TOKEN_NUM_BITS = 256\n\nconst getPasswordToken = async (hkdfKey, salt) => {\n  const passwordTokenBits = await window.crypto.subtle.deriveBits(\n    getParams(PASSWORD_TOKEN_NAME, salt),\n    hkdfKey,\n    PASSWORD_TOKEN_NUM_BITS\n  )\n\n  return base64.encode(passwordTokenBits)\n}\n\nexport default {\n  importHkdfKeyFromString,\n  importHkdfKey,\n  generateSalt,\n  getParams,\n  getPasswordToken\n}\n","import base64 from 'base64-arraybuffer'\nimport hkdf from './hkdf'\nimport { arrayBufferToString, stringToArrayBuffer, appendBuffer } from './utils'\n\nconst ENCRYPTION_ALGORITHM_NAME = 'AES-GCM'\nconst BIT_SIZE = 256\nconst KEY_IS_EXTRACTABLE = true\nconst KEY_WILL_BE_USED_TO = ['encrypt', 'decrypt']\nconst RAW_KEY_TYPE = 'raw'\n\nconst ENCRYPTION_KEY_NAME = 'encryption'\n\nconst PASSWORD_BASED_ENCRYPTION_KEY = 'password-based-encryption'\n\n/**\n * NIST recommendation:\n *\n * \"For  IVs,  it  is  recommended  that  implementations  restrict  support  to\n * the  length  of  96  bits,  to  promote interoperability, efficiency, and\n * simplicity of design.\"\n *\n * Pg. 8\n * https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-38d.pdf\n *\n **/\nconst RECOMMENDED_IV_BYTE_SIZE = 12 // 96 / 8\n\n/**\n * Source on tag length:\n * https://crypto.stackexchange.com/questions/26783/ciphertext-and-tag-size-and-iv-transmission-with-aes-in-gcm-mode/26787\n */\nconst RECOMMENDED_AUTHENTICATION_TAG_LENGTH = 128\n\nconst windowOrSelfObject = () => {\n  return typeof window !== 'undefined'\n    ? window\n    : self\n}\n\nconst getEncryptionKeyParams = () => ({\n  name: ENCRYPTION_ALGORITHM_NAME,\n  length: BIT_SIZE\n})\n\nconst importKeyFromMaster = async (masterKey, salt) => {\n  const encryptionKey = await window.crypto.subtle.deriveKey(\n    hkdf.getParams(ENCRYPTION_KEY_NAME, salt),\n    masterKey,\n    getEncryptionKeyParams(),\n    KEY_IS_EXTRACTABLE,\n    KEY_WILL_BE_USED_TO\n  )\n  return encryptionKey\n}\n\nconst generateKey = async () => {\n  const key = await window.crypto.subtle.generateKey(\n    getEncryptionKeyParams(),\n    KEY_IS_EXTRACTABLE,\n    KEY_WILL_BE_USED_TO\n  )\n  return key\n}\n\nconst getKeyStringFromKey = async (key) => {\n  const rawKey = await window.crypto.subtle.exportKey(RAW_KEY_TYPE, key)\n  const keyString = base64.encode(rawKey)\n  return keyString\n}\n\nconst getKeyFromKeyString = async (keyString) => {\n  const rawKey = base64.decode(keyString)\n  const key = await getKeyFromRawKey(rawKey)\n  return key\n}\n\nconst getKeyFromRawKey = async (rawKey) => {\n  const key = await windowOrSelfObject().crypto.subtle.importKey(\n    RAW_KEY_TYPE,\n    rawKey,\n    {\n      name: ENCRYPTION_ALGORITHM_NAME\n    },\n    KEY_IS_EXTRACTABLE,\n    KEY_WILL_BE_USED_TO\n  )\n  return key\n}\n\nconst getRawKeyFromKey = async (key) => {\n  const rawKey = await windowOrSelfObject().crypto.subtle.exportKey(RAW_KEY_TYPE, key)\n  return rawKey\n}\n\n/**\n *\n * @param {CryptoKey} key\n * @param {ArrayBuffer} plaintext\n * @returns {ArrayBuffer} encrypted Array Buffer\n *\n *     encrypted is a concatentation of Array Buffers [ciphertext, auth tag, IV]\n *\n *     The Authentication Tag is a hash of the plaintext to ensure the same data that\n *     is ecncrypted is the resulting data when decrypted. Note that the browser crypto\n *     library's result is the concatenation of Array Buffers [ciphertext, auth tag]\n *\n *     The IV is a random intialization vector that prevents an attacker\n *     from determining a user's key. It can be exposed alongside the ciphertext safely.\n *\n */\nconst encrypt = async (key, plaintext) => {\n  const iv = windowOrSelfObject().crypto.getRandomValues(new Uint8Array(RECOMMENDED_IV_BYTE_SIZE))\n\n  // this result is the concatenation of Array Buffers [ciphertext, auth tag]\n  const ciphertextArrayBuffer = await windowOrSelfObject().crypto.subtle.encrypt(\n    {\n      name: ENCRYPTION_ALGORITHM_NAME,\n      iv,\n      tagLength: RECOMMENDED_AUTHENTICATION_TAG_LENGTH\n    },\n    key,\n    plaintext\n  )\n\n  return appendBuffer(ciphertextArrayBuffer, iv)\n}\n\nconst encryptJson = async (key, plaintextJson) => {\n  const plaintextString = JSON.stringify(plaintextJson)\n  const encrypted = await encryptString(key, plaintextString)\n  return encrypted\n}\n\nconst encryptString = async (key, plaintextString) => {\n  const plaintextArrayBuffer = stringToArrayBuffer(plaintextString)\n  const encrypted = await encrypt(key, plaintextArrayBuffer)\n  return base64.encode(encrypted)\n}\n\n/**\n *\n * @param {CryptoKey} key\n * @param {ArrayBuffer} encrypted - the encrypted Array Buffer\n * @returns {object} plaintext\n */\nconst decrypt = async (key, encrypted) => {\n  const ivStartIndex = encrypted.byteLength - RECOMMENDED_IV_BYTE_SIZE\n  const ciphertextArrayBuffer = encrypted.slice(0, ivStartIndex)\n  const iv = encrypted.slice(ivStartIndex)\n\n  const plaintextArrayBuffer = await windowOrSelfObject().crypto.subtle.decrypt(\n    {\n      name: ENCRYPTION_ALGORITHM_NAME,\n      iv,\n      tagLength: RECOMMENDED_AUTHENTICATION_TAG_LENGTH\n    },\n    key,\n    ciphertextArrayBuffer\n  )\n  return plaintextArrayBuffer\n}\n\nconst decryptJson = async (key, encryptedJsonString) => {\n  const plaintextString = await decryptString(key, encryptedJsonString)\n  return JSON.parse(plaintextString)\n}\n\nconst decryptString = async (key, encryptedString) => {\n  const encryptedArrayBuffer = base64.decode(encryptedString)\n  const plaintextArrayBuffer = await decrypt(key, encryptedArrayBuffer)\n  const plaintextString = arrayBufferToString(plaintextArrayBuffer)\n  return plaintextString\n}\n\nconst getPasswordBasedEncryptionKey = async (hkdfKey, salt) => {\n  const encryptionKey = await window.crypto.subtle.deriveKey(\n    hkdf.getParams(PASSWORD_BASED_ENCRYPTION_KEY, salt),\n    hkdfKey,\n    getEncryptionKeyParams(),\n    !KEY_IS_EXTRACTABLE,\n    KEY_WILL_BE_USED_TO\n  )\n  return encryptionKey\n}\n\nexport default {\n  getEncryptionKeyParams,\n  importKeyFromMaster,\n  generateKey,\n  getKeyStringFromKey,\n  getKeyFromKeyString,\n  getRawKeyFromKey,\n  getKeyFromRawKey,\n  encrypt,\n  encryptJson,\n  encryptString,\n  decrypt,\n  decryptJson,\n  decryptString,\n  getPasswordBasedEncryptionKey\n}\n","import DH from 'diffie-hellman'\nimport aesGcm from './aes-gcm'\nimport hkdf from './hkdf'\nimport sha256 from './sha-256'\nimport { hexStringToArrayBuffer } from './utils'\nimport api from '../api'\n\nconst KEY_IS_EXTRACTABLE = true\nconst KEY_WILL_BE_USED_TO = ['encrypt'] // unused\nconst DIFFIE_HELLMAN_KEY_NAME = 'diffie-hellman'\n\n// RFC 3526 detailing publicly known 2048 bit safe prime: https://www.ietf.org/rfc/rfc3526.txt\nconst PRIME = hexStringToArrayBuffer('ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff')\nconst GENERATOR = [2]\n\n// get public key from the server to allow developers to easily swap out default server with their own\n// server running userbase-server\nlet serverPublicKey = null\nconst getServerPublicKey = async () => {\n  if (serverPublicKey) {\n    return serverPublicKey\n  } else {\n    serverPublicKey = await api.auth.getServerPublicKey() // eslint-disable-line require-atomic-updates\n    return serverPublicKey\n  }\n}\n\nconst setPrivateKeyAndGenerateKeys = (diffieHellman, privateKey) => {\n  diffieHellman.setPrivateKey(privateKey)\n  diffieHellman.generateKeys()\n  return diffieHellman\n}\n\nconst createDiffieHellman = (privateKey) => {\n  const diffieHellman = DH.createDiffieHellman(PRIME, GENERATOR)\n  return setPrivateKeyAndGenerateKeys(diffieHellman, privateKey)\n}\n\nconst getSharedKey = async (privateKey, otherPublicKey) => {\n  const diffieHellman = createDiffieHellman(privateKey)\n  const sharedSecret = diffieHellman.computeSecret(otherPublicKey)\n\n  const sharedRawKey = await sha256.hash(sharedSecret)\n  const sharedKey = await aesGcm.getKeyFromRawKey(sharedRawKey)\n  return sharedKey\n}\n\nconst getPublicKey = (privateKey) => {\n  const diffieHellman = createDiffieHellman(privateKey)\n  return diffieHellman.getPublicKey()\n}\n\nconst getSharedKeyWithServer = async (privateKey) => {\n  const sharedKey = await getSharedKey(privateKey, new Uint8Array(await getServerPublicKey()))\n  return sharedKey\n}\n\nconst importKeyFromMaster = async (masterKey, salt) => {\n  const privateKey = await window.crypto.subtle.deriveKey(\n    hkdf.getParams(DIFFIE_HELLMAN_KEY_NAME, salt),\n    masterKey,\n    aesGcm.getEncryptionKeyParams(), // DH not supported, using raw AES key as secret instead\n    KEY_IS_EXTRACTABLE,\n    KEY_WILL_BE_USED_TO\n  )\n\n  const rawPrivateKey = await aesGcm.getRawKeyFromKey(privateKey)\n  return rawPrivateKey\n}\n\nexport default {\n  getPublicKey,\n  getSharedKey,\n  getSharedKeyWithServer,\n  importKeyFromMaster,\n}\n","import base64 from 'base64-arraybuffer'\nimport hkdf from './hkdf'\nimport sha256 from './sha-256'\nimport { stringToArrayBuffer } from './utils'\n\nconst HMAC_KEY_NAME = 'authentication'\n\nconst ALGORITHM_NAME = 'HMAC'\nconst KEY_IS_EXTRACTABLE = false\nconst KEY_WILL_BE_USED_TO = ['sign']\n\nconst importKeyFromMaster = async (masterKey, salt) => {\n  const hmacKey = await window.crypto.subtle.deriveKey(\n    hkdf.getParams(HMAC_KEY_NAME, salt),\n    masterKey,\n    {\n      name: ALGORITHM_NAME,\n      hash: {\n        name: sha256.HASH_ALGORITHM_NAME\n      }\n    },\n    KEY_IS_EXTRACTABLE,\n    KEY_WILL_BE_USED_TO\n  )\n  return hmacKey\n}\n\n/**\n *\n * @param {CryptoKey} key\n * @param {String} data\n */\nconst sign = async (key, data) => {\n  const result = await window.crypto.subtle.sign(\n    {\n      name: ALGORITHM_NAME,\n    },\n    key,\n    data\n  )\n  return result\n}\n\n/**\n *\n * @param {CryptoKey} key\n * @param {String} data\n */\nconst signString = async (key, data) => {\n  const result = await sign(key, stringToArrayBuffer(data))\n  return base64.encode(result)\n}\n\nexport default {\n  importKeyFromMaster,\n  sign,\n  signString\n}\n","import aesGcm from './aes-gcm'\nimport diffieHellman from './diffie-hellman'\nimport sha256 from './sha-256'\nimport hmac from './hmac'\nimport hkdf from './hkdf'\nimport scrypt from './scrypt'\n\nconst SEED_BYTE_SIZE = 32 // 256 / 8\nconst generateSeed = () => window.crypto.getRandomValues(new Uint8Array(SEED_BYTE_SIZE))\n\nexport default {\n  generateSeed,\n  aesGcm,\n  diffieHellman,\n  sha256,\n  hmac,\n  hkdf,\n  scrypt\n}\n","import scrypt from 'scrypt-js'\nimport base64 from 'base64-arraybuffer'\nimport { stringToArrayBuffer } from './utils'\n\n/**\n *\n * From the Scrypt paper:\n *\n * \"100ms is a reasonable upper bound on the delay which should be\n * cryptographically imposed on interactive logins\"\n *\n * Pg. 13\n * https://www.tarsnap.com/scrypt/scrypt.pdf\n *\n * With an optimized Scrypt algorithm running on a 3.1 GHz Intel Core i5,\n * N = 32768 is the highest work factor that takes <100ms for the\n * algorithm to run. Thus, it's the latest recommended work factor.\n *\n * Source: https://blog.filippo.io/the-scrypt-parameters/\n *\n * However, we are not running an optimized version of the algorithm on a\n * single machine. Users are running a pure js version written for the browser.\n * Safari, for example, takes >6 seconds to run when N = 32768 on a 2.5 GHz\n * Intel Core i5. A higher end CPU can only shave around 1 second off that time.\n * Further, it takes over 1s to run in Firefox, and over 500ms to run in Chrome.\n * This is an unacceptably slow interactive login delay to impose on users.\n *\n * Thus, we are going with N = 16384 to ensure interactive logins\n * are closer to the reasonable delay the function will impose on users,\n * while still maintaining a high level of security.\n *\n **/\nconst N = 16384 // 16mb\nconst r = 8\nconst p = 1\n\nconst HASH_LENGTH = 32\n\n/**\n * NIST recommendation:\n *\n * \"The length of the randomly-generated portion of the salt shall be at least 128 bits.\"\n *\n * Section 5.1\n * https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-132.pdf\n *\n **/\nconst SALT_LENGTH = 16\nconst generateSalt = () => window.crypto.getRandomValues(new Uint8Array(SALT_LENGTH))\n\nconst hash = async (passwordString, salt) => {\n  const passwordArrayBuffer = new Uint8Array(stringToArrayBuffer(passwordString))\n  const passwordHash = await scrypt.scrypt(passwordArrayBuffer, salt, N, r, p, HASH_LENGTH)\n  return base64.encode(passwordHash)\n}\n\nexport default {\n  generateSalt,\n  hash,\n}\n","export const readArrayBufferAsString = (arrayBuffer) => {\n  return new Promise(resolve => {\n    let reader = new FileReader()\n    reader.onload = () => resolve(reader.result)\n    reader.readAsText(new Blob([arrayBuffer]))\n  })\n}\n\nconst removeProtocolFromEndpoint = (endpoint) => {\n  const http = 'http://'\n  const https = 'https://'\n\n  if (endpoint.substring(0, http.length) === http) {\n    return endpoint.substring(http.length)\n  } else if (endpoint.substring(0, https.length) === https) {\n    return endpoint.substring(https.length)\n  } else {\n    return endpoint\n  }\n}\n\nexport const getProtocolFromEndpoint = (endpoint) => {\n  return endpoint.split(':')[0]\n}\n\nexport const getWsUrl = (endpoint) => {\n  const host = removeProtocolFromEndpoint(endpoint)\n  const protocol = getProtocolFromEndpoint(endpoint)\n\n  return ((protocol === 'https') ?\n    'wss://' : 'ws://') + host\n}\n\nexport const byteSizeOfString = (string) => {\n  return string.length * 2\n}\n\nexport const objectHasOwnProperty = (object, property) => {\n  return Object.prototype.hasOwnProperty.call(object, property)\n}\n\n// source: http://code.iamkate.com/javascript/queues\nexport function Queue() {\n  let queue = []\n  let offset = 0\n\n  this.getLength = () => queue.length - offset\n\n  this.isEmpty = () => queue.length === 0\n\n  this.enqueue = (item) => {\n    queue.push(item)\n    return this.getLength()\n  }\n\n  this.dequeue = () => {\n    // get item from front of the queue\n    const item = queue[offset]\n\n    offset += 1\n\n    // garbage collect unused space in queue when it grows large\n    if (offset * 2 > queue.length) {\n      queue = queue.slice(offset)\n      offset = 0\n    }\n\n    return item\n  }\n\n  this.peek = () => queue[offset]\n}\n","import base64 from 'base64-arraybuffer'\nimport uuidv4 from 'uuid/v4'\nimport LZString from 'lz-string'\nimport localData from './localData'\nimport crypto from './Crypto'\nimport { getWsUrl } from './utils'\nimport statusCodes from './statusCodes'\nimport config from './config'\nimport errors from './errors'\n\nconst wsAlreadyConnected = 'Web Socket already connected'\n\nconst BACKOFF_RETRY_DELAY = 1000\nconst MAX_RETRY_DELAY = 1000 * 30\n\nconst clientId = uuidv4() // only 1 client ID per browser tab (assumes code does not reload)\n\nclass RequestFailed extends Error {\n  constructor(action, e, ...params) {\n    super(...params)\n\n    this.name = `RequestFailed: ${action}`\n    this.message = e.message\n    this.status = e.status || (e.message === 'timeout' && statusCodes['Gateway Timeout'])\n    this.response = e.status && e\n  }\n}\n\nclass WebSocketError extends Error {\n  constructor(message, username, ...params) {\n    super(...params)\n\n    this.name = 'WebSocket error'\n    this.message = message\n    this.username = username\n  }\n}\n\nclass Connection {\n  constructor() {\n    this.init()\n  }\n\n  init(resolveConnection, rejectConnection, session, seedString, rememberMe, state) {\n    if (this.pingTimeout) clearTimeout(this.pingTimeout)\n\n    for (const property of Object.keys(this)) {\n      delete this[property]\n    }\n\n    this.ws = null\n    this.connected = false\n\n    this.resolveConnection = resolveConnection\n    this.rejectConnection = rejectConnection\n    this.connectionResolved = false\n\n    this.session = {\n      username: session && session.username,\n      sessionId: session && session.sessionId,\n      creationDate: session && session.creationDate,\n      authToken: session && session.authToken,\n    }\n\n    this.seedString = seedString\n    this.keys = {\n      init: false,\n      salts: {}\n    }\n\n    this.userData = {\n      stripeData: {}\n    }\n\n    this.rememberMe = rememberMe\n\n    this.requests = {}\n\n    this.state = state || {\n      databases: {},\n      dbIdToHash: {},\n      dbNameToHash: {}\n    }\n  }\n\n  connect(session, seedString = null, rememberMe, reconnectDelay, state) {\n    if (this.connected) throw new WebSocketError(wsAlreadyConnected, this.session.username)\n\n    return new Promise((resolve, reject) => {\n      let timeout = false\n\n      const timeoutToOpenWebSocket = setTimeout(\n        () => {\n          if (!this.connected && !this.reconnecting) {\n            timeout = true\n            reject(new WebSocketError('timeout'))\n          }\n        },\n        10000\n      )\n\n      const url = `${getWsUrl(config.getEndpoint())}/api?appId=${config.getAppId()}&sessionId=${session.sessionId}&clientId=${clientId}`\n\n      const ws = new WebSocket(url)\n\n      ws.onopen = async () => {\n        if (timeout) return\n        clearTimeout(timeoutToOpenWebSocket)\n      }\n\n      ws.onmessage = async (e) => {\n        if (timeout) return\n\n        try {\n          const message = JSON.parse(e.data)\n          const route = message.route\n\n          switch (route) {\n            case 'Ping': {\n              this.heartbeat()\n\n              const action = 'Pong'\n              this.ws.send(JSON.stringify({ action }))\n              break\n            }\n\n            case 'Connection': {\n              this.init(resolve, reject, session, seedString, rememberMe, state)\n              this.ws = ws\n              this.heartbeat()\n              this.connected = true\n\n              const {\n                keySalts,\n                encryptedValidationMessage,\n              } = message\n\n              this.keys.salts = keySalts\n              this.encryptedValidationMessage = new Uint8Array(encryptedValidationMessage.data)\n\n              await this.setKeys(this.seedString)\n\n              break\n            }\n\n            case 'ApplyTransactions': {\n              const dbId = message.dbId\n              const dbNameHash = message.dbNameHash || this.state.dbIdToHash[dbId]\n              const database = this.state.databases[dbNameHash]\n\n              if (!database) throw new Error('Missing database')\n\n              // queue guarantees transactions will be applied in the order they are received from the server\n              if (database.applyTransactionsQueue.isEmpty()) {\n\n                // take a spot in the queue and proceed applying so the next caller knows queue is not empty\n                database.applyTransactionsQueue.enqueue(null)\n              } else {\n\n                // wait until prior batch in queue finishes applying successfully\n                await new Promise(resolve => {\n                  const startApplyingThisBatchOfTransactions = resolve\n                  database.applyTransactionsQueue.enqueue(startApplyingThisBatchOfTransactions)\n                })\n              }\n\n              const openingDatabase = message.dbNameHash && message.dbKey\n              if (openingDatabase) {\n                const dbKeyString = await crypto.aesGcm.decryptString(this.keys.encryptionKey, message.dbKey)\n                database.dbKeyString = dbKeyString\n                database.dbKey = await crypto.aesGcm.getKeyFromKeyString(dbKeyString)\n              }\n\n              if (!database.dbKey) throw new Error('Missing db key')\n\n              if (message.bundle) {\n                const bundleSeqNo = message.bundleSeqNo\n                const base64Bundle = message.bundle\n                const compressedString = await crypto.aesGcm.decryptString(database.dbKey, base64Bundle)\n                const plaintextString = LZString.decompress(compressedString)\n                const bundle = JSON.parse(plaintextString)\n\n                database.applyBundle(bundle, bundleSeqNo)\n              }\n\n              const newTransactions = message.transactionLog\n              await database.applyTransactions(newTransactions)\n\n              if (!database.init) {\n                this.state.dbIdToHash[dbId] = dbNameHash\n                database.dbId = dbId\n                database.init = true\n                database.receivedMessage()\n              }\n\n              if (message.buildBundle) {\n                this.buildBundle(database)\n              }\n\n              // start applying next batch in queue when this one is finished applying successfully\n              database.applyTransactionsQueue.dequeue()\n              if (!database.applyTransactionsQueue.isEmpty()) {\n                const startApplyingNextBatchInQueue = database.applyTransactionsQueue.peek()\n                startApplyingNextBatchInQueue()\n              }\n\n              break\n            }\n\n            case 'SignOut':\n            case 'UpdateUser':\n            case 'DeleteUser':\n            case 'CreateDatabase':\n            case 'GetDatabase':\n            case 'OpenDatabase':\n            case 'GetDatabases':\n            case 'Insert':\n            case 'Update':\n            case 'Delete':\n            case 'BatchTransaction':\n            case 'Bundle':\n            case 'ValidateKey':\n            case 'GetPasswordSalts':\n            case 'PurchaseSubscription':\n            case 'CancelSubscription':\n            case 'ResumeSubscription':\n            case 'UpdatePaymentMethod': {\n              const requestId = message.requestId\n\n              if (!requestId) return console.warn('Missing request id')\n\n              const request = this.requests[requestId]\n              if (!request) return console.warn(`Request ${requestId} no longer exists!`)\n              else if (!request.promiseResolve || !request.promiseReject) return\n\n              const response = message.response\n\n              const successfulResponse = response && response.status === statusCodes['Success']\n\n              if (!successfulResponse) return request.promiseReject(response)\n              else return request.promiseResolve(response)\n            }\n\n            default: {\n              console.log('Received unknown message from backend:' + JSON.stringify(message))\n              break\n            }\n          }\n        } catch (e) {\n          if (!this.connectionResolved) {\n            this.close()\n            reject(new WebSocketError(e.message, session.username))\n          } else {\n            console.warn('Error handling message: ', e)\n          }\n        }\n      }\n\n      ws.onclose = async (e) => {\n        if (timeout) return\n\n        const serviceRestart = e.code === statusCodes['Service Restart']\n        const clientDisconnected = e.code === statusCodes['No Pong Received']\n        const attemptToReconnect = serviceRestart || clientDisconnected || !e.wasClean // closed without explicit call to ws.close()\n\n        if (attemptToReconnect) {\n          const delay = (serviceRestart && !reconnectDelay)\n            ? 0\n            : (reconnectDelay ? reconnectDelay + BACKOFF_RETRY_DELAY : 1000)\n\n          this.reconnecting = true\n          await this.reconnect(resolve, reject, session, seedString, rememberMe, delay, !this.reconnected && state)\n        } else if (e.code === statusCodes['Client Already Connected']) {\n          reject(new WebSocketError(wsAlreadyConnected, session.username))\n        } else {\n          this.init()\n        }\n      }\n    })\n  }\n\n  async reconnect(resolveConnection, rejectConnection, session, seedString, rememberMe, reconnectDelay, currentState) {\n    try {\n      const retryDelay = Math.min(reconnectDelay, MAX_RETRY_DELAY)\n      console.log(`Connection to server lost. Attempting to reconnect in ${retryDelay / 1000} second${retryDelay !== 1000 ? 's' : ''}...`)\n\n      const dbsToReopen = []\n\n      // as soon as one reconnect succeeds, resolves all the way up the stack and all reconnects succeed\n      resolveConnection(await new Promise((resolve, reject) => setTimeout(\n        async () => {\n          try {\n            const state = currentState || {\n              databases: { ...this.state.databases },\n              dbIdToHash: { ...this.state.dbIdToHash },\n              dbNameToHash: { ...this.state.dbNameToHash }\n            }\n\n            for (const dbNameHash in state.databases) {\n              state.databases[dbNameHash].init = false\n              dbsToReopen.push(dbNameHash)\n            }\n\n            this.init()\n            this.reconnecting = true\n\n            const result = await this.connect(session, seedString, rememberMe, reconnectDelay, state)\n\n            this.reconnected = true\n\n            // only reopen databases on the first call to reconnect()\n            if (!currentState) await this.reopenDatabases(dbsToReopen, 1000)\n\n            resolve(result)\n          } catch (e) {\n            reject(e)\n          }\n        },\n        retryDelay\n      )))\n    } catch (e) {\n      rejectConnection(e)\n    }\n  }\n\n  async reopenDatabases(dbsToReopen, retryDelay) {\n    try {\n      const openDatabasePromises = []\n\n      for (const dbNameHash of dbsToReopen) {\n        const database = this.state.databases[dbNameHash]\n\n        if (!database.init) {\n          const action = 'OpenDatabase'\n          const params = { dbNameHash, reopenAtSeqNo: database.lastSeqNo }\n          openDatabasePromises.push(this.request(action, params))\n        }\n      }\n\n      await Promise.all(openDatabasePromises)\n    } catch (e) {\n\n      // keep attempting to reopen on failure\n      await new Promise(resolve => setTimeout(\n        async () => {\n          await this.reopenDatabases(dbsToReopen, retryDelay + BACKOFF_RETRY_DELAY)\n          resolve()\n        },\n        Math.min(retryDelay, MAX_RETRY_DELAY)\n      ))\n    }\n  }\n\n  heartbeat() {\n    clearTimeout(this.pingTimeout)\n\n    const LATENCY_BUFFER = 3000\n\n    this.pingTimeout = setTimeout(() => {\n      if (this.ws) this.ws.close(statusCodes['No Pong Received'])\n    }, 30000 + LATENCY_BUFFER)\n  }\n\n  close(code) {\n    this.ws\n      ? this.ws.close(code)\n      : this.init()\n  }\n\n  async signOut() {\n    const username = this.session.username\n    const connectionResolved = this.connectionResolved\n    const rejectConnection = this.rejectConnection\n\n    try {\n      localData.signOutSession(this.rememberMe, username)\n\n      const sessionId = this.session.sessionId\n\n      if (this.reconnecting) throw new errors.Reconnecting\n\n      const action = 'SignOut'\n      const params = { sessionId }\n      await this.request(action, params)\n\n      this.close()\n\n      if (!connectionResolved && rejectConnection) {\n        rejectConnection(new WebSocketError('Canceled', username))\n      }\n\n    } catch (e) {\n      if (!connectionResolved && rejectConnection) {\n        rejectConnection(new WebSocketError('Canceled', username))\n      }\n\n      throw e\n    }\n  }\n\n  async setKeys(seedString) {\n    if (this.keys.init) return\n    if (!seedString) throw new WebSocketError('Missing seed', this.session.username)\n    if (!this.keys.salts) throw new WebSocketError('Missing salts', this.session.username)\n    if (!this.seedString) this.seedString = seedString\n\n    const seed = base64.decode(seedString)\n    const masterKey = await crypto.hkdf.importHkdfKey(seed)\n\n    const salts = this.keys.salts\n    this.keys.encryptionKey = await crypto.aesGcm.importKeyFromMaster(masterKey, base64.decode(salts.encryptionKeySalt))\n    this.keys.dhPrivateKey = await crypto.diffieHellman.importKeyFromMaster(masterKey, base64.decode(salts.dhKeySalt))\n    this.keys.hmacKey = await crypto.hmac.importKeyFromMaster(masterKey, base64.decode(salts.hmacKeySalt))\n\n    const userData = await this.validateKey()\n    this.userData = userData\n\n    this.keys.init = true\n\n    this.resolveConnection()\n    this.connectionResolved = true\n  }\n\n  async validateKey() {\n    const sharedKey = await crypto.diffieHellman.getSharedKeyWithServer(this.keys.dhPrivateKey)\n\n    const validationMessage = base64.encode(await crypto.aesGcm.decrypt(sharedKey, this.encryptedValidationMessage))\n\n    const action = 'ValidateKey'\n    const params = { validationMessage }\n\n    const response = await this.request(action, params)\n    const userData = response.data\n    return userData\n  }\n\n  async request(action, params) {\n    // generate a new requestId\n    const requestId = uuidv4()\n    this.requests[requestId] = {}\n\n    // get a promise that is resolved when the WebSocket\n    // receives a response for this requestId  the promise\n    // would time out of x seconds\n    const responseWatcher = this.watch(requestId)\n\n    // send the request on the WebSocket\n    this.ws.send(JSON.stringify({\n      requestId,\n      action,\n      params\n    }))\n\n    // wait for the response to arrive\n    try {\n      const response = await responseWatcher\n      return response\n    } catch (e) {\n      // process any errors and re-throw them\n      if (e.status === statusCodes['Too Many Requests']) throw new errors.TooManyRequests(e.data.retryDelay)\n      else throw new RequestFailed(action, e)\n    }\n  }\n\n  async watch(requestId) {\n    const response = await new Promise((resolve, reject) => {\n      this.requests[requestId].promiseResolve = resolve\n      this.requests[requestId].promiseReject = reject\n\n      setTimeout(() => { reject(new Error('timeout')) }, 10000)\n    })\n\n    delete this.requests[requestId]\n    return response\n  }\n\n  async buildBundle(database) {\n    const bundle = {\n      items: database.items,\n      itemsIndex: database.itemsIndex.array\n    }\n    const plaintextString = JSON.stringify(bundle)\n\n    const dbId = database.dbId\n    const lastSeqNo = database.lastSeqNo\n    const dbKey = database.dbKey\n\n    const itemKeyPromises = []\n    for (let i = 0; i < bundle.itemsIndex.length; i++) {\n      const itemId = bundle.itemsIndex[i].itemId\n      itemKeyPromises.push(crypto.hmac.signString(this.keys.hmacKey, itemId))\n    }\n    const itemKeys = await Promise.all(itemKeyPromises)\n\n    const compressedString = LZString.compress(plaintextString)\n    const base64Bundle = await crypto.aesGcm.encryptString(dbKey, compressedString)\n\n    const action = 'Bundle'\n    const params = { dbId, seqNo: lastSeqNo, bundle: base64Bundle, keys: itemKeys }\n    this.request(action, params)\n  }\n}\n\nexport default new Connection()\n","import base64 from 'base64-arraybuffer'\nimport api from './api'\nimport ws from './ws'\nimport crypto from './Crypto'\nimport localData from './localData'\nimport config from './config'\nimport errors from './errors'\nimport statusCodes from './statusCodes'\nimport { objectHasOwnProperty, getWsUrl } from './utils'\n\nconst MAX_PASSWORD_CHAR_LENGTH = 1000\nconst MIN_PASSWORD_CHAR_LENGTH = 6\n\nconst _parseGenericErrors = (e) => {\n  if (e.response) {\n    if (e.response.data === 'App ID not valid') {\n      throw new errors.AppIdNotValid\n    } else if (e.response.data === 'UserNotFound') {\n      throw new errors.UserNotFound\n    } else if (e.response.status === statusCodes['Internal Server Error']) {\n      throw new errors.InternalServerError\n    } else if (e.response.status === statusCodes['Gateway Timeout']) {\n      throw new errors.Timeout\n    }\n  } else if (e.message && e.message.indexOf('timeout') !== -1) {\n    throw new errors.Timeout\n  }\n}\n\nconst _connectWebSocket = async (session, seed, rememberMe) => {\n  try {\n    await ws.connect(session, seed, rememberMe)\n  } catch (e) {\n    _parseGenericErrors(e)\n\n    if (e.message === 'Web Socket already connected') {\n      throw new errors.UserAlreadySignedIn(e.username)\n    }\n\n    throw e\n  }\n}\n\nconst _parseGenericUsernamePasswordError = (e) => {\n  if (e.response && e.response.data.error === 'UsernameTooLong') {\n    throw new errors.UsernameTooLong(e.response.data.maxLen)\n  } else if (e.response && e.response.data.error === 'PasswordAttemptLimitExceeded') {\n    throw new errors.PasswordAttemptLimitExceeded(e.response.data.delay)\n  }\n}\n\nconst _parseUserResponseError = (e, username) => {\n  _parseGenericErrors(e)\n  _parseGenericUsernamePasswordError(e)\n\n  if (e.response) {\n    const data = e.response.data\n\n    switch (data) {\n      case 'UsernameAlreadyExists':\n        throw new errors.UsernameAlreadyExists(username)\n\n      case 'TrialExceededLimit':\n        throw new errors.TrialExceededLimit\n\n      case 'CurrentPasswordIncorrect':\n        throw new errors.CurrentPasswordIncorrect\n\n      default:\n      // continue\n    }\n\n    switch (data.error) {\n      case 'EmailNotValid':\n        throw new errors.EmailNotValid\n\n      case 'ProfileMustBeObject':\n        throw new errors.ProfileMustBeObject\n\n      case 'ProfileKeyTooLong':\n        throw new errors.ProfileKeyTooLong(data.maxLen, data.key)\n\n      case 'ProfileValueMustBeString':\n        throw new errors.ProfileValueMustBeString(data.key, data.value)\n\n      case 'ProfileValueCannotBeBlank':\n        throw new errors.ProfileValueCannotBeBlank(data.key)\n\n      case 'ProfileValueTooLong':\n        throw new errors.ProfileValueTooLong(data.maxLen, data.key, data.value)\n\n      case 'ProfileHasTooManyKeys':\n        throw new errors.ProfileHasTooManyKeys(data.maxKeys)\n\n      case 'ProfileCannotBeEmpty':\n        throw new errors.ProfileCannotBeEmpty\n    }\n  }\n\n  throw e\n}\n\nconst _validateUsername = (username) => {\n  if (typeof username !== 'string') throw new errors.UsernameMustBeString\n  if (username.length === 0) throw new errors.UsernameCannotBeBlank\n}\n\nconst _validatePassword = (password) => {\n  if (typeof password !== 'string') throw new errors.PasswordMustBeString\n  if (password.length === 0) throw new errors.PasswordCannotBeBlank\n  if (password.length < MIN_PASSWORD_CHAR_LENGTH) throw new errors.PasswordTooShort(MIN_PASSWORD_CHAR_LENGTH)\n  if (password.length > MAX_PASSWORD_CHAR_LENGTH) throw new errors.PasswordTooLong(MAX_PASSWORD_CHAR_LENGTH)\n}\n\nconst _validateSignUpOrSignInInput = (params) => {\n  if (typeof params !== 'object') throw new errors.ParamsMustBeObject\n\n  if (!objectHasOwnProperty(params, 'username')) throw new errors.UsernameMissing\n  if (!objectHasOwnProperty(params, 'password')) throw new errors.PasswordMissing\n\n  _validateUsername(params.username)\n  _validatePassword(params.password)\n\n  if (objectHasOwnProperty(params, 'rememberMe') && !config.REMEMBER_ME_OPTIONS[params.rememberMe]) {\n    throw new errors.RememberMeValueNotValid(config.REMEMBER_ME_OPTIONS)\n  }\n}\n\nconst _generatePasswordToken = async (password, seed) => {\n  const passwordSalt = crypto.scrypt.generateSalt()\n  const passwordHash = await crypto.scrypt.hash(password, passwordSalt)\n\n  const passwordHkdfKey = await crypto.hkdf.importHkdfKeyFromString(passwordHash)\n\n  const passwordTokenSalt = crypto.hkdf.generateSalt()\n  const passwordToken = await crypto.hkdf.getPasswordToken(passwordHkdfKey, passwordTokenSalt)\n\n  const passwordBasedEncryptionKeySalt = crypto.hkdf.generateSalt()\n  const passwordBasedEncryptionKey = await crypto.aesGcm.getPasswordBasedEncryptionKey(\n    passwordHkdfKey, passwordBasedEncryptionKeySalt)\n\n  const passwordEncryptedSeed = await crypto.aesGcm.encrypt(passwordBasedEncryptionKey, seed)\n\n  const passwordSalts = {\n    passwordSalt: base64.encode(passwordSalt),\n    passwordTokenSalt: base64.encode(passwordTokenSalt)\n  }\n\n  const passwordBasedBackup = {\n    passwordBasedEncryptionKeySalt: base64.encode(passwordBasedEncryptionKeySalt),\n    passwordEncryptedSeed: base64.encode(passwordEncryptedSeed)\n  }\n\n  return {\n    passwordToken,\n    passwordSalts,\n    passwordBasedBackup\n  }\n}\n\nconst _generateKeysAndSignUp = async (username, password, seed, email, profile) => {\n  const {\n    passwordToken,\n    passwordSalts,\n    passwordBasedBackup\n  } = await _generatePasswordToken(password, seed)\n\n  const masterKey = await crypto.hkdf.importHkdfKey(seed)\n\n  const encryptionKeySalt = crypto.hkdf.generateSalt()\n  const dhKeySalt = crypto.hkdf.generateSalt()\n  const hmacKeySalt = crypto.hkdf.generateSalt()\n\n  const dhPrivateKey = await crypto.diffieHellman.importKeyFromMaster(masterKey, dhKeySalt)\n  const publicKey = crypto.diffieHellman.getPublicKey(dhPrivateKey)\n\n  const keySalts = {\n    encryptionKeySalt: base64.encode(encryptionKeySalt),\n    dhKeySalt: base64.encode(dhKeySalt),\n    hmacKeySalt: base64.encode(hmacKeySalt),\n  }\n\n  try {\n    const session = await api.auth.signUp(\n      username,\n      passwordToken,\n      publicKey,\n      passwordSalts,\n      keySalts,\n      email,\n      profile,\n      passwordBasedBackup\n    )\n    return session\n  } catch (e) {\n    _parseUserResponseError(e, username)\n  }\n}\n\nconst _buildUserResult = ({ username, userId, authToken, email, profile, protectedProfile, usedTempPassword, userData }) => {\n  const result = { username, userId, authToken }\n\n  if (email) result.email = email\n  if (profile) result.profile = profile\n  if (protectedProfile) result.protectedProfile = protectedProfile\n  if (usedTempPassword) result.usedTempPassword = usedTempPassword\n\n  if (userData) {\n    const { creationDate, stripeData } = userData\n    if (creationDate) result.creationDate = creationDate\n\n    if (stripeData) {\n      const { paymentsMode, subscriptionStatus, cancelSubscriptionAt, trialExpirationDate } = stripeData\n\n      if (paymentsMode) result.paymentsMode = paymentsMode\n      if (subscriptionStatus) result.subscriptionStatus = subscriptionStatus\n      if (cancelSubscriptionAt) result.cancelSubscriptionAt = cancelSubscriptionAt\n      if (trialExpirationDate) result.trialExpirationDate = trialExpirationDate\n    }\n  }\n\n  return result\n}\n\nconst _validateProfile = (profile) => {\n  if (typeof profile !== 'object') throw new errors.ProfileMustBeObject\n\n  let keyExists = false\n  for (const key in profile) {\n    keyExists = true\n\n    const value = profile[key]\n    if (typeof value !== 'string') throw new errors.ProfileValueMustBeString(key, value)\n    if (!value) throw new errors.ProfileValueCannotBeBlank(key)\n  }\n\n  if (!keyExists) throw new errors.ProfileCannotBeEmpty\n}\n\nconst _validateSignUpInput = (params) => {\n  _validateSignUpOrSignInInput(params)\n\n  if (params.profile) _validateProfile(params.profile)\n  if (params.email && typeof params.email !== 'string') throw new errors.EmailNotValid\n}\n\nconst signUp = async (params) => {\n  try {\n    _validateSignUpInput(params)\n\n    const { password, profile, rememberMe = 'session' } = params\n\n    const username = params.username.toLowerCase()\n    const email = params.email && params.email.toLowerCase()\n\n    const appId = config.getAppId()\n    const seed = await crypto.generateSeed()\n\n    const { sessionId, creationDate, expirationDate, userId, authToken } = await _generateKeysAndSignUp(username, password, seed, email, profile)\n    const session = { username, sessionId, creationDate, expirationDate, authToken }\n\n    const seedString = base64.encode(seed)\n\n    localData.saveSeedString(rememberMe, appId, username, seedString)\n    localData.signInSession(rememberMe, username, sessionId, creationDate, expirationDate)\n\n    await _connectWebSocket(session, seedString, rememberMe)\n\n    return _buildUserResult({ username, userId, authToken, email, profile, userData: ws.userData })\n  } catch (e) {\n\n    switch (e.name) {\n      case 'ParamsMustBeObject':\n      case 'UsernameMissing':\n      case 'UsernameAlreadyExists':\n      case 'UsernameCannotBeBlank':\n      case 'UsernameMustBeString':\n      case 'UsernameTooLong':\n      case 'PasswordMissing':\n      case 'PasswordCannotBeBlank':\n      case 'PasswordTooShort':\n      case 'PasswordTooLong':\n      case 'PasswordMustBeString':\n      case 'EmailNotValid':\n      case 'ProfileMustBeObject':\n      case 'ProfileCannotBeEmpty':\n      case 'ProfileHasTooManyKeys':\n      case 'ProfileKeyTooLong':\n      case 'ProfileValueMustBeString':\n      case 'ProfileValueCannotBeBlank':\n      case 'ProfileValueTooLong':\n      case 'RememberMeValueNotValid':\n      case 'TrialExceededLimit':\n      case 'AppIdNotSet':\n      case 'AppIdNotValid':\n      case 'UserAlreadySignedIn':\n      case 'ServiceUnavailable':\n        throw e\n\n      default:\n        throw new errors.UnknownServiceUnavailable(e)\n    }\n\n  }\n}\n\nconst signOut = async () => {\n  try {\n    if (!ws.session.username) throw new errors.UserNotSignedIn\n\n    try {\n      await ws.signOut()\n    } catch (e) {\n      _parseGenericErrors(e)\n      throw e\n    }\n\n  } catch (e) {\n\n    switch (e.name) {\n      case 'UserNotSignedIn':\n      case 'ServiceUnavailable':\n        throw e\n\n      default:\n        throw new errors.UnknownServiceUnavailable(e)\n    }\n  }\n}\n\nconst _getSeedStringFromPasswordBasedBackup = async (passwordHkdfKey, passwordBasedBackup) => {\n  const { passwordBasedEncryptionKeySalt, passwordEncryptedSeed } = passwordBasedBackup\n\n  const passwordBasedEncryptionKey = await crypto.aesGcm.getPasswordBasedEncryptionKey(\n    passwordHkdfKey, base64.decode(passwordBasedEncryptionKeySalt))\n\n  const seedFromBackup = await crypto.aesGcm.decrypt(passwordBasedEncryptionKey, base64.decode(passwordEncryptedSeed))\n  const seedStringFromBackup = base64.encode(seedFromBackup)\n\n  return seedStringFromBackup\n}\n\nconst _signInWrapper = async (username, passwordToken) => {\n  try {\n    const apiSignInResult = await api.auth.signIn(username, passwordToken)\n    return apiSignInResult\n  } catch (e) {\n    _parseGenericErrors(e)\n    _parseGenericUsernamePasswordError(e)\n\n    if (e.response && e.response.data === 'Invalid password') {\n      throw new errors.UsernameOrPasswordMismatch\n    } else if (e.response && e.response.data === 'User pending deletion') {\n      throw new errors.UserPendingDeletion\n    }\n\n    throw e\n  }\n}\n\nconst _getPasswordSaltsOverRestEndpoint = async (username) => {\n  try {\n    const passwordSalts = await api.auth.getPasswordSalts(username)\n    return passwordSalts\n  } catch (e) {\n    _parseGenericErrors(e)\n    _parseGenericUsernamePasswordError(e)\n\n    if (e.response && e.response.data === 'User not found') {\n      throw new errors.UsernameOrPasswordMismatch\n    }\n\n    throw e\n  }\n}\n\nconst _getPasswordSaltsOverWebSocket = async () => {\n  try {\n    const action = 'GetPasswordSalts'\n    const passwordSaltsResponse = await ws.request(action)\n    return passwordSaltsResponse.data\n  } catch (e) {\n    _parseGenericErrors(e)\n    throw e\n  }\n}\n\nconst _rebuildPasswordToken = async (password, passwordSalts) => {\n  const { passwordSalt, passwordTokenSalt } = passwordSalts\n\n  const passwordHash = await crypto.scrypt.hash(password, new Uint8Array(base64.decode(passwordSalt)))\n  const passwordHkdfKey = await crypto.hkdf.importHkdfKeyFromString(passwordHash)\n  const passwordToken = await crypto.hkdf.getPasswordToken(passwordHkdfKey, base64.decode(passwordTokenSalt))\n\n  return { passwordHkdfKey, passwordToken }\n}\n\nconst signIn = async (params) => {\n  try {\n    _validateSignUpOrSignInInput(params)\n\n    const username = params.username.toLowerCase()\n    const { password, rememberMe = 'session' } = params\n\n    const appId = config.getAppId()\n\n    const passwordSalts = await _getPasswordSaltsOverRestEndpoint(username)\n    const { passwordHkdfKey, passwordToken } = await _rebuildPasswordToken(password, passwordSalts)\n\n    const apiSignInResult = await _signInWrapper(username, passwordToken)\n    const { userId, email, profile, passwordBasedBackup, protectedProfile, usedTempPassword } = apiSignInResult\n    const session = {\n      ...apiSignInResult.session,\n      username\n    }\n\n    const savedSeedString = localData.getSeedString(appId, username)\n\n    let seedStringFromBackup\n    if (!savedSeedString && usedTempPassword) {\n      throw new errors.KeyNotFound(\"Your key was not found. You can only sign in with a temporary password from a device you've signed in from before.\")\n    } else if (!savedSeedString) {\n      seedStringFromBackup = await _getSeedStringFromPasswordBasedBackup(passwordHkdfKey, passwordBasedBackup)\n      localData.saveSeedString(rememberMe, appId, username, seedStringFromBackup)\n    }\n\n    const seedString = savedSeedString || seedStringFromBackup\n\n    localData.signInSession(rememberMe, username, session.sessionId, session.creationDate, session.expirationDate)\n\n    await _connectWebSocket(session, seedString, rememberMe)\n\n    return _buildUserResult({\n      username, userId, authToken: session.authToken, email,\n      profile, protectedProfile, usedTempPassword, userData: ws.userData\n    })\n  } catch (e) {\n\n    switch (e.name) {\n      case 'ParamsMustBeObject':\n      case 'UsernameMissing':\n      case 'UsernameOrPasswordMismatch':\n      case 'UserPendingDeletion':\n      case 'UsernameCannotBeBlank':\n      case 'UsernameTooLong':\n      case 'UsernameMustBeString':\n      case 'PasswordMissing':\n      case 'PasswordCannotBeBlank':\n      case 'PasswordTooShort':\n      case 'PasswordTooLong':\n      case 'PasswordMustBeString':\n      case 'PasswordAttemptLimitExceeded':\n      case 'RememberMeValueNotValid':\n      case 'KeyNotFound':\n      case 'AppIdNotSet':\n      case 'AppIdNotValid':\n      case 'UserAlreadySignedIn':\n      case 'ServiceUnavailable':\n        throw e\n\n      default:\n        throw new errors.UnknownServiceUnavailable(e)\n    }\n\n  }\n}\n\nconst init = async (params) => {\n  try {\n    if (!window.crypto.subtle) throw new errors.WebCryptoUnavailable\n\n    if (typeof params !== 'object') throw new errors.ParamsMustBeObject\n\n    if (!objectHasOwnProperty(params, 'appId')) throw new errors.AppIdMissing\n\n    const { appId } = params\n    config.configure({ appId })\n\n    const session = await signInWithSession(appId)\n    return session\n  } catch (e) {\n\n    switch (e.name) {\n      case 'WebCryptoUnavailable':\n      case 'ParamsMustBeObject':\n      case 'AppIdMissing':\n      case 'AppIdAlreadySet':\n      case 'AppIdMustBeString':\n      case 'AppIdCannotBeBlank':\n      case 'AppIdNotValid':\n      case 'UserAlreadySignedIn':\n      case 'ServiceUnavailable':\n        throw e\n\n      default:\n        throw new errors.UnknownServiceUnavailable(e)\n    }\n\n  }\n}\n\nconst signInWithSession = async (appId) => {\n  try {\n    const currentSession = localData.getCurrentSession()\n    if (!currentSession) return {}\n\n    const { signedIn, sessionId, creationDate, expirationDate, rememberMe } = currentSession\n    const savedSeedString = localData.getSeedString(appId, currentSession.username)\n\n    if (!signedIn || !savedSeedString || new Date() > new Date(expirationDate)) {\n      return { lastUsedUsername: currentSession.username }\n    }\n\n    let apiSignInWithSessionResult\n    try {\n      apiSignInWithSessionResult = await api.auth.signInWithSession(sessionId)\n    } catch (e) {\n      _parseGenericErrors(e)\n\n      if (e.response && e.response.data === 'Session invalid') {\n        return { lastUsedUsername: currentSession.username }\n      }\n\n      throw e\n    }\n    const { userId, authToken, username, email, profile, protectedProfile } = apiSignInWithSessionResult\n\n    // overwrite local data if username has been changed on server\n    if (username !== currentSession.username) {\n      localData.saveSeedString(rememberMe, appId, username, savedSeedString)\n      localData.removeSeedString(appId, currentSession.username)\n    }\n\n    // expirationDate should have been extended\n    localData.signInSession(rememberMe, username, sessionId, creationDate, apiSignInWithSessionResult.expirationDate)\n\n    // enable idempotent calls to init()\n    if (ws.connectionResolved) {\n      if (ws.session.sessionId === sessionId) {\n        return { user: _buildUserResult({ username, userId, authToken: ws.session.authToken, email, profile, protectedProfile, userData: ws.userData }) }\n      } else {\n        throw new errors.UserAlreadySignedIn(ws.session.username)\n      }\n    }\n\n    const session = { ...currentSession, authToken }\n    await _connectWebSocket(session, savedSeedString, rememberMe)\n\n    return { user: _buildUserResult({ username, userId, authToken, email, profile, protectedProfile, userData: ws.userData }) }\n  } catch (e) {\n    _parseGenericErrors(e)\n    throw e\n  }\n}\n\nconst _validateUpdatedUserInput = (params) => {\n  if (!objectHasOwnProperty(params, 'username')\n    && !objectHasOwnProperty(params, 'newPassword')\n    && !objectHasOwnProperty(params, 'email')\n    && !objectHasOwnProperty(params, 'profile')\n  ) {\n    throw new errors.ParamsMissing\n  }\n\n  const { username, currentPassword, newPassword, email, profile } = params\n\n  if (objectHasOwnProperty(params, 'username')) _validateUsername(username)\n  if (objectHasOwnProperty(params, 'newPassword')) {\n    if (!currentPassword) throw new errors.CurrentPasswordMissing\n\n    _validatePassword(currentPassword)\n    _validatePassword(newPassword)\n  }\n\n  // if email or profile are falsey, will be set to false\n  if (email && typeof email !== 'string') throw new errors.EmailNotValid\n  if (profile) _validateProfile(profile)\n}\n\nconst _buildUpdateUserParams = async (params) => {\n  if (params.username) params.username = params.username.toLowerCase()\n\n  if (params.newPassword) {\n    const [currentPasswordSalts, newPasswordPromise] = await Promise.all([\n      _getPasswordSaltsOverWebSocket(),\n      _generatePasswordToken(params.newPassword, base64.decode(ws.seedString))\n    ])\n\n    // current password\n    const { passwordToken } = await _rebuildPasswordToken(params.currentPassword, currentPasswordSalts)\n    params.currentPasswordToken = passwordToken\n    delete params.currentPassword\n\n    // new password\n    params.passwordToken = newPasswordPromise.passwordToken\n    params.passwordSalts = newPasswordPromise.passwordSalts\n    params.passwordBasedBackup = newPasswordPromise.passwordBasedBackup\n    delete params.newPassword\n  }\n\n  if (params.email) params.email = params.email.toLowerCase()\n  else if (objectHasOwnProperty(params, 'email')) params.email = false // marks email for deletion\n\n  if (!params.profile && objectHasOwnProperty(params, 'profile')) params.profile = false // marks profile for deletion\n\n  return params\n}\n\nconst updateUser = async (params) => {\n  try {\n    if (typeof params !== 'object') throw new errors.ParamsMustBeObject\n\n    _validateUpdatedUserInput(params)\n\n    if (!ws.keys.init) throw new errors.UserNotSignedIn\n    const startingSeedString = ws.seedString\n\n    const action = 'UpdateUser'\n    const finalParams = await _buildUpdateUserParams({ ...params })\n\n    if (ws.reconnecting) throw new errors.Reconnecting\n    if (!ws.keys.init) throw new errors.UserNotSignedIn\n\n    // ensures same user still attempting to update (seed should remain constant)\n    if (startingSeedString !== ws.seedString) throw new errors.ServiceUnavailable\n\n    try {\n      if (finalParams.username) {\n        localData.saveSeedString(ws.rememberMe, config.getAppId(), finalParams.username, ws.seedString)\n      }\n\n      await ws.request(action, finalParams)\n    } catch (e) {\n      _parseUserResponseError(e, finalParams.username)\n    }\n  } catch (e) {\n\n    switch (e.name) {\n      case 'ParamsMustBeObject':\n      case 'ParamsMissing':\n      case 'UsernameAlreadyExists':\n      case 'UsernameMustBeString':\n      case 'UsernameCannotBeBlank':\n      case 'UsernameTooLong':\n      case 'CurrentPasswordMissing':\n      case 'CurrentPasswordIncorrect':\n      case 'PasswordAttemptLimitExceeded':\n      case 'PasswordMustBeString':\n      case 'PasswordCannotBeBlank':\n      case 'PasswordTooShort':\n      case 'PasswordTooLong':\n      case 'EmailNotValid':\n      case 'ProfileMustBeObject':\n      case 'ProfileCannotBeEmpty':\n      case 'ProfileHasTooManyKeys':\n      case 'ProfileKeyTooLong':\n      case 'ProfileValueMustBeString':\n      case 'ProfileValueCannotBeBlank':\n      case 'ProfileValueTooLong':\n      case 'AppIdNotSet':\n      case 'AppIdNotValid':\n      case 'UserNotFound':\n      case 'UserNotSignedIn':\n      case 'TooManyRequests':\n      case 'ServiceUnavailable':\n        throw e\n\n      default:\n        throw new errors.UnknownServiceUnavailable(e)\n    }\n\n  }\n}\n\nconst deleteUser = async () => {\n  try {\n    if (ws.reconnecting) throw new errors.Reconnecting\n    if (!ws.keys.init) throw new errors.UserNotSignedIn\n\n    const username = ws.session.username\n    localData.removeSeedString(username)\n    localData.removeCurrentSession()\n\n    try {\n      const action = 'DeleteUser'\n      await ws.request(action)\n    } catch (e) {\n      _parseGenericErrors(e)\n      throw e\n    }\n\n    ws.close()\n\n  } catch (e) {\n\n    switch (e.name) {\n      case 'UserNotSignedIn':\n      case 'UserNotFound':\n      case 'TooManyRequests':\n      case 'ServiceUnavailable':\n        throw e\n\n      default:\n        throw new errors.UnknownServiceUnavailable(e)\n    }\n\n  }\n}\n\nconst forgotPassword = async (params) => {\n  try {\n    if (typeof params !== 'object') throw new errors.ParamsMustBeObject\n    if (!objectHasOwnProperty(params, 'username')) throw new errors.UsernameMissing\n\n    _validateUsername(params.username)\n    const username = params.username.toLowerCase()\n\n    const appId = config.getAppId()\n\n    const seedString = localData.getSeedString(appId, username)\n    const keyNotFoundMessage = \"Your key was not found. Forgot password only works from a device you've signed in from before.\"\n    if (!seedString) throw new errors.KeyNotFound(keyNotFoundMessage)\n    const seed = base64.decode(seedString)\n    const masterKey = await crypto.hkdf.importHkdfKey(seed)\n\n    // client makes 2 trips to server to first prove it has the correct key and then trigger the temp password email\n    const forgotPasswordWs = new WebSocket(`${getWsUrl(config.getEndpoint())}/api/auth/forgot-password?appId=${appId}&username=${username}`)\n\n    await new Promise((resolve, reject) => {\n      setTimeout(() => reject(new errors.Timeout), 15000)\n\n      forgotPasswordWs.onerror = () => reject(new errors.ServiceUnavailable)\n\n      forgotPasswordWs.onmessage = async (e) => {\n        try {\n          const message = JSON.parse(e.data)\n\n          switch (message.route) {\n            case 'ReceiveEncryptedToken': {\n              // if client decrypts encrypted token successfully, proves to server it has the user's key\n              const encryptedForgotPasswordToken = new Uint8Array(message.encryptedForgotPasswordToken.data)\n\n              const dhPrivateKey = await crypto.diffieHellman.importKeyFromMaster(masterKey, base64.decode(message.dhKeySalt))\n              const sharedKey = await crypto.diffieHellman.getSharedKeyWithServer(dhPrivateKey)\n\n              let forgotPasswordToken\n              try {\n                // if it fails to decrypt, it's almost certainly because key is incorrect\n                forgotPasswordToken = base64.encode(await crypto.aesGcm.decrypt(sharedKey, encryptedForgotPasswordToken))\n              } catch {\n                throw new errors.KeyNotFound(keyNotFoundMessage)\n              }\n\n              forgotPasswordWs.send(JSON.stringify({\n                action: 'ForgotPassword',\n                params: { forgotPasswordToken }\n              }))\n\n              break\n            }\n\n            case 'SuccessfullyForgotPassword': {\n              // server has sent the email\n              resolve()\n              break\n            }\n\n            case 'Error': {\n              const data = message.data\n\n              switch (data.name) {\n                case 'UsernameTooLong': throw new errors.UsernameTooLong(data.maxLen)\n                case 'AppIdNotValid': throw new errors.AppIdNotValid\n                case 'UserNotFound': throw new errors.UserNotFound\n                case 'UserEmailNotFound': throw new errors.UserEmailNotFound\n\n                default: {\n                  if (message.status === statusCodes['Internal Server Error']) throw new errors.ServiceUnavailable\n                  else throw new errors.UnknownServiceUnavailable(data)\n                }\n              }\n            }\n\n            case 'Ping': {\n              // ignore -- websocket connection should only exist for the life of the forgot password request\n              break\n            }\n\n            default:\n              reject(new Error(`Received unknown message from userbase-server: ${e.data}`))\n          }\n        } catch (e) {\n          reject(e)\n        }\n      }\n    })\n\n    forgotPasswordWs.close()\n\n  } catch (e) {\n\n    switch (e.name) {\n      case 'ParamsMustBeObject':\n      case 'UsernameMissing':\n      case 'UsernameMustBeString':\n      case 'UsernameCannotBeBlank':\n      case 'UsernameTooLong':\n      case 'AppIdNotSet':\n      case 'AppIdNotValid':\n      case 'KeyNotFound':\n      case 'UserNotFound':\n      case 'UserEmailNotFound':\n      case 'ServiceUnavailable':\n        throw e\n\n      default:\n        throw new errors.UnknownServiceUnavailable(e)\n\n    }\n  }\n}\n\nexport default {\n  signUp,\n  signOut,\n  signIn,\n  init,\n  updateUser,\n  deleteUser,\n  forgotPassword,\n}\n","import uuidv4 from 'uuid/v4'\nimport SortedArray from 'sorted-array'\nimport crypto from './Crypto'\nimport ws from './ws'\nimport errors from './errors'\nimport statusCodes from './statusCodes'\nimport { byteSizeOfString, Queue, objectHasOwnProperty } from './utils'\n\nconst success = 'Success'\n\nconst MAX_DB_NAME_CHAR_LENGTH = 50\nconst MAX_ITEM_ID_CHAR_LENGTH = 100\n\nconst MAX_ITEM_KB = 10\nconst TEN_KB = MAX_ITEM_KB * 1024\nconst MAX_ITEM_BYTES = TEN_KB\n\nconst _parseGenericErrors = (e) => {\n  if (e.response) {\n    if (e.response.data === 'UserNotFound') {\n      throw new errors.UserNotFound\n    } else if (e.response.status === statusCodes['Internal Server Error']) {\n      throw new errors.InternalServerError\n    } else if (e.response.status === statusCodes['Gateway Timeout']) {\n      throw new errors.Timeout\n    }\n  } else if (e.message && e.message.indexOf('timeout') !== -1) {\n    throw new errors.Timeout\n  }\n}\n\nclass UnverifiedTransaction {\n  constructor(startSeqNo) {\n    this.startSeqNo = startSeqNo\n    this.txSeqNo = null\n    this.transactions = {}\n    this.promiseResolve = null\n    this.promiseReject = null\n    this.index = null\n  }\n\n  getStartSeqNo() {\n    return this.startSeqNo\n  }\n\n  getIndex() {\n    return this.index\n  }\n\n  setIndex(index) {\n    this.index = index\n  }\n\n  async getResult(seqNo) {\n    this.txSeqNo = seqNo\n\n    const promise = new Promise((resolve, reject) => {\n      this.promiseResolve = resolve\n      this.promiseReject = reject\n\n      setTimeout(() => { reject(new Error('timeout')) }, 10000)\n    })\n\n    this.verifyPromise()\n\n    return promise\n  }\n\n  verifyPromise() {\n    if (!this.txSeqNo && this.txSeqNo != 0) {\n      return\n    }\n\n    if (!this.promiseResolve || !this.promiseReject) {\n      return\n    }\n\n    if (this.transactions[this.txSeqNo]) {\n      if (this.transactions[this.txSeqNo] == 'Success') {\n        this.promiseResolve()\n      } else {\n        this.promiseReject(this.transactions[this.txSeqNo])\n      }\n    }\n  }\n\n  addTransaction(transaction, code) {\n    if (this.transactions[transaction.seqNo]) return\n    this.transactions[transaction.seqNo] = code\n    this.verifyPromise()\n  }\n}\n\nclass Database {\n  constructor(changeHandler, receivedMessage) {\n    this.onChange = changeHandler\n\n    this.items = {}\n\n    const compareItems = (a, b) => {\n      if (a.seqNo < b.seqNo || (a.seqNo === b.seqNo && a.operationIndex < b.operationIndex)) {\n        return -1\n      }\n      if (a.seqNo > b.seqNo || (a.seqNo === b.seqNo && a.operationIndex > b.operationIndex)) {\n        return 1\n      }\n      return 0\n    }\n\n    this.itemsIndex = new SortedArray([], compareItems)\n    this.unverifiedTransactions = []\n    this.lastSeqNo = 0\n    this.init = false\n    this.dbKey = null\n    this.receivedMessage = receivedMessage\n\n    // Queue that ensures 'ApplyTransactions' executes one at a time\n    this.applyTransactionsQueue = new Queue()\n  }\n\n  async applyTransactions(transactions) {\n    for (let i = 0; i < transactions.length; i++) {\n      const transaction = transactions[i]\n      const seqNo = transaction.seqNo\n\n      // client must only apply transcations in sequence\n      if (seqNo !== this.lastSeqNo + 1) {\n        console.warn(`Client attempted to apply transaction with seq no ${seqNo} when last seq no is ${this.lastSeqNo}`)\n        continue\n      }\n\n      const transactionCode = await this.applyTransaction(this.dbKey, transaction)\n      this.lastSeqNo = seqNo\n\n      for (let j = 0; j < this.unverifiedTransactions.length; j++) {\n        if (!this.unverifiedTransactions[j] || seqNo < this.unverifiedTransactions[j].getStartSeqNo()) {\n          continue\n        }\n        this.unverifiedTransactions[j].addTransaction(transactions[i], transactionCode)\n      }\n\n      if (this.init && transactionCode === 'Success') {\n        this.onChange(this.getItems())\n      }\n    }\n\n    if (!this.init) {\n      this.onChange(this.getItems())\n    }\n  }\n\n  applyBundle(bundle, bundleSeqNo) {\n    // client must only apply bundle when opening state\n    if (this.lastSeqNo !== 0) {\n      console.warn(`Client attempted to apply bundle when last seq no is ${this.lastSeqNo}`)\n      return\n    }\n\n    for (let i = 0; i < bundle.itemsIndex.length; i++) {\n      const itemIndex = bundle.itemsIndex[i]\n      const itemId = bundle.itemsIndex[i].itemId\n      const item = bundle.items[itemId]\n\n      this.items[itemId] = item\n      this.itemsIndex.insert(itemIndex)\n    }\n\n    this.lastSeqNo = bundleSeqNo\n  }\n\n  async applyTransaction(key, transaction) {\n    const seqNo = transaction.seqNo\n    const command = transaction.command\n\n    switch (command) {\n      case 'Insert': {\n        const record = await crypto.aesGcm.decryptJson(key, transaction.record)\n        const itemId = record.id\n        const item = record.item\n\n        try {\n          this.validateInsert(itemId)\n        } catch (transactionCode) {\n          return transactionCode\n        }\n\n        return this.applyInsert(itemId, seqNo, item)\n      }\n\n      case 'Update': {\n        const record = await crypto.aesGcm.decryptJson(key, transaction.record)\n        const itemId = record.id\n        const item = record.item\n        const __v = record.__v\n\n        try {\n          this.validateUpdateOrDelete(itemId, __v)\n        } catch (transactionCode) {\n          return transactionCode\n        }\n\n        return this.applyUpdate(itemId, item, __v)\n      }\n\n      case 'Delete': {\n        const record = await crypto.aesGcm.decryptJson(key, transaction.record)\n        const itemId = record.id\n        const __v = record.__v\n\n        try {\n          this.validateUpdateOrDelete(itemId, __v)\n        } catch (transactionCode) {\n          return transactionCode\n        }\n\n        return this.applyDelete(itemId)\n      }\n\n      case 'BatchTransaction': {\n        const batch = transaction.operations\n        const recordPromises = []\n\n        for (const operation of batch) {\n          recordPromises.push(operation.record && crypto.aesGcm.decryptJson(key, operation.record))\n        }\n        const records = await Promise.all(recordPromises)\n\n        try {\n          this.validateBatchTransaction(batch, records)\n        } catch (transactionCode) {\n          return transactionCode\n        }\n\n        return this.applyBatchTransaction(seqNo, batch, records)\n      }\n\n      case 'Rollback': {\n        // no-op\n        return\n      }\n\n      default: {\n        console.warn(`Unknown command: ${command}`)\n        return\n      }\n    }\n  }\n\n  validateInsert(itemId) {\n    if (this.items[itemId]) {\n      throw new errors.ItemAlreadyExists\n    }\n  }\n\n  validateUpdateOrDelete(itemId, __v) {\n    if (!this.items[itemId]) {\n      throw new errors.ItemDoesNotExist\n    }\n\n    const currentVersion = this.getItemVersionNumber(itemId)\n    if (__v <= currentVersion) {\n      throw new errors.ItemUpdateConflict\n    }\n  }\n\n  itemExists(itemId) {\n    return objectHasOwnProperty(this.items, itemId)\n  }\n\n  applyInsert(itemId, seqNo, record, operationIndex) {\n    const item = { seqNo }\n    if (typeof operationIndex === 'number') item.operationIndex = operationIndex\n\n    this.items[itemId] = {\n      ...item,\n      record,\n      __v: 0\n    }\n    this.itemsIndex.insert({ ...item, itemId })\n    return success\n  }\n\n  applyUpdate(itemId, record, __v) {\n    this.items[itemId].record = record\n    this.items[itemId].__v = __v\n    return success\n  }\n\n  applyDelete(itemId) {\n    this.itemsIndex.remove(this.items[itemId])\n    delete this.items[itemId]\n    return success\n  }\n\n  validateBatchTransaction(batch, records) {\n    const uniqueItemIds = {}\n\n    for (let i = 0; i < batch.length; i++) {\n      const operation = batch[i]\n\n      const itemId = records[i].id\n      const __v = records[i].__v\n\n      if (uniqueItemIds[itemId]) throw new errors.OperationsConflict\n      uniqueItemIds[itemId] = true\n\n      switch (operation.command) {\n        case 'Insert':\n          this.validateInsert(itemId)\n          break\n\n        case 'Update':\n        case 'Delete':\n          this.validateUpdateOrDelete(itemId, __v)\n          break\n      }\n    }\n  }\n\n  applyBatchTransaction(seqNo, batch, records) {\n    for (let i = 0; i < batch.length; i++) {\n      const operation = batch[i]\n\n      const itemId = records[i].id\n      const item = records[i].item\n      const __v = records[i].__v\n\n      switch (operation.command) {\n        case 'Insert':\n          this.applyInsert(itemId, seqNo, item, i)\n          break\n\n        case 'Update':\n          this.applyUpdate(itemId, item, __v)\n          break\n\n        case 'Delete':\n          this.applyDelete(itemId, __v)\n          break\n      }\n    }\n\n    return success\n  }\n\n  registerUnverifiedTransaction() {\n    const unverifiedTransaction = new UnverifiedTransaction(this.lastSeqNo)\n    const i = this.unverifiedTransactions.push(unverifiedTransaction)\n    unverifiedTransaction.setIndex(i - 1)\n    return unverifiedTransaction\n  }\n\n  unregisterUnverifiedTransaction(pendingTransaction) {\n    delete this.unverifiedTransactions[pendingTransaction.getIndex()]\n  }\n\n  getItems() {\n    const result = []\n    for (let i = 0; i < this.itemsIndex.array.length; i++) {\n      const itemId = this.itemsIndex.array[i].itemId\n      const record = this.items[itemId].record\n      result.push({ itemId, item: record })\n    }\n    return result\n  }\n\n  getItemVersionNumber(itemId) {\n    return this.items[itemId].__v\n  }\n}\n\nconst _openDatabase = async (dbNameHash, changeHandler, newDatabaseParams) => {\n  try {\n    const database = ws.state.databases[dbNameHash]\n\n    let receivedMessage\n    let timeout\n    const firstMessageFromWebSocket = new Promise((resolve, reject) => {\n      receivedMessage = resolve\n      timeout = setTimeout(() => reject(new Error('timeout')), 20000)\n    })\n\n    if (!database) {\n      ws.state.databases[dbNameHash] = new Database(changeHandler, receivedMessage)\n    } else {\n\n      // safe to replace -- enables idempotent calls to openDatabase\n      database.onChange = changeHandler\n\n      // if 1 call succeeds, all idempotent calls succeed\n      const currentReceivedMessage = database.receivedMessage\n      database.receivedMessage = () => {\n        currentReceivedMessage()\n        receivedMessage()\n      }\n\n      // database is already open, can return successfully\n      if (database.init) {\n        changeHandler(database.getItems())\n        database.receivedMessage()\n        return\n      }\n    }\n\n    const action = 'OpenDatabase'\n    const params = { dbNameHash, newDatabaseParams }\n\n    try {\n      await ws.request(action, params)\n      await firstMessageFromWebSocket\n    } catch (e) {\n      clearTimeout(timeout)\n\n      if (e.response && e.response.data) {\n        const data = e.response.data\n\n        if (data === 'Database already creating') {\n          throw new errors.DatabaseAlreadyOpening\n        }\n\n        switch (data.name) {\n          case 'SubscriptionPlanNotSet':\n            throw new errors.SubscriptionPlanNotSet\n          case 'SubscriptionNotFound':\n            throw new errors.SubscriptionNotFound\n          case 'SubscribedToIncorrectPlan':\n            throw new errors.SubscribedToIncorrectPlan\n          case 'SubscriptionInactive':\n            throw new errors.SubscriptionInactive(data.subscriptionStatus)\n          case 'TrialExpired':\n            throw new errors.TrialExpired\n        }\n\n      }\n\n      throw e\n    }\n\n  } catch (e) {\n    _parseGenericErrors(e)\n    throw e\n  }\n}\n\nconst _createDatabase = async (dbName) => {\n  const dbId = uuidv4()\n\n  const dbKey = await crypto.aesGcm.generateKey()\n  const dbKeyString = await crypto.aesGcm.getKeyStringFromKey(dbKey)\n\n  const [encryptedDbKey, encryptedDbName] = await Promise.all([\n    crypto.aesGcm.encryptString(ws.keys.encryptionKey, dbKeyString),\n    crypto.aesGcm.encryptString(dbKey, dbName)\n  ])\n\n  const newDatabaseParams = {\n    dbId,\n    encryptedDbKey,\n    encryptedDbName\n  }\n  return newDatabaseParams\n}\n\nconst _validateDbInput = (params) => {\n  if (typeof params !== 'object') throw new errors.ParamsMustBeObject\n\n  if (!objectHasOwnProperty(params, 'databaseName')) throw new errors.DatabaseNameMissing\n\n  const dbName = params.databaseName\n\n  if (typeof dbName !== 'string') throw new errors.DatabaseNameMustBeString\n  if (dbName.length === 0) throw new errors.DatabaseNameCannotBeBlank\n  if (dbName.length > MAX_DB_NAME_CHAR_LENGTH) throw new errors.DatabaseNameTooLong(MAX_DB_NAME_CHAR_LENGTH)\n\n  if (ws.reconnecting) throw new errors.Reconnecting\n  if (!ws.keys.init) throw new errors.UserNotSignedIn\n}\n\nconst openDatabase = async (params) => {\n  try {\n    _validateDbInput(params)\n    if (!objectHasOwnProperty(params, 'changeHandler')) throw new errors.ChangeHandlerMissing\n\n    const { databaseName, changeHandler } = params\n\n    if (typeof changeHandler !== 'function') throw new errors.ChangeHandlerMustBeFunction\n\n    const dbNameHash = ws.state.dbNameToHash[databaseName] || await crypto.hmac.signString(ws.keys.hmacKey, databaseName)\n    ws.state.dbNameToHash[databaseName] = dbNameHash // eslint-disable-line require-atomic-updates\n\n    const newDatabaseParams = await _createDatabase(databaseName)\n    await _openDatabase(dbNameHash, changeHandler, newDatabaseParams)\n  } catch (e) {\n\n    switch (e.name) {\n      case 'ParamsMustBeObject':\n      case 'DatabaseAlreadyOpening':\n      case 'DatabaseNameMustBeString':\n      case 'DatabaseNameMissing':\n      case 'DatabaseNameCannotBeBlank':\n      case 'DatabaseNameTooLong':\n      case 'ChangeHandlerMissing':\n      case 'ChangeHandlerMustBeFunction':\n      case 'UserNotSignedIn':\n      case 'UserNotFound':\n      case 'SubscriptionPlanNotSet':\n      case 'SubscriptionNotFound':\n      case 'SubscribedToIncorrectPlan':\n      case 'SubscriptionInactive':\n      case 'TrialExpired':\n      case 'TooManyRequests':\n      case 'ServiceUnavailable':\n        throw e\n\n      default:\n        throw new errors.UnknownServiceUnavailable(e)\n    }\n  }\n}\n\nconst getOpenDb = (dbName) => {\n  const dbNameHash = ws.state.dbNameToHash[dbName]\n  const database = ws.state.databases[dbNameHash]\n  if (!dbNameHash || !database || !database.init) throw new errors.DatabaseNotOpen\n  return database\n}\n\nconst insertItem = async (params) => {\n  try {\n    _validateDbInput(params)\n\n    const database = getOpenDb(params.databaseName)\n\n    const action = 'Insert'\n    const insertParams = await _buildInsertParams(database, params)\n\n    await postTransaction(database, action, insertParams)\n\n  } catch (e) {\n\n    switch (e.name) {\n      case 'ParamsMustBeObject':\n      case 'DatabaseNotOpen':\n      case 'DatabaseNameMissing':\n      case 'DatabaseNameMustBeString':\n      case 'DatabaseNameCannotBeBlank':\n      case 'DatabaseNameTooLong':\n      case 'ItemIdMustBeString':\n      case 'ItemIdCannotBeBlank':\n      case 'ItemIdTooLong':\n      case 'ItemMissing':\n      case 'ItemInvalid':\n      case 'ItemTooLarge':\n      case 'ItemAlreadyExists':\n      case 'UserNotSignedIn':\n      case 'UserNotFound':\n      case 'TooManyRequests':\n      case 'ServiceUnavailable':\n        throw e\n\n      default:\n        throw new errors.UnknownServiceUnavailable(e)\n    }\n\n  }\n}\n\nconst _buildInsertParams = async (database, params) => {\n  if (!objectHasOwnProperty(params, 'item')) throw new errors.ItemMissing\n\n  const { item, itemId } = params\n\n  if (objectHasOwnProperty(params, 'itemId')) {\n    if (typeof itemId !== 'string') throw new errors.ItemIdMustBeString\n    if (itemId.length === 0) throw new errors.ItemIdCannotBeBlank\n    if (itemId.length > MAX_ITEM_ID_CHAR_LENGTH) throw new errors.ItemIdTooLong(MAX_ITEM_ID_CHAR_LENGTH)\n  }\n\n  const itemString = JSON.stringify(item)\n  if (!itemString) throw new errors.ItemInvalid\n  if (byteSizeOfString(itemString) > MAX_ITEM_BYTES) throw new errors.ItemTooLarge(MAX_ITEM_KB)\n\n  const id = itemId || uuidv4()\n\n  const itemKey = await crypto.hmac.signString(ws.keys.hmacKey, id)\n  const itemRecord = { id, item }\n  const encryptedItem = await crypto.aesGcm.encryptJson(database.dbKey, itemRecord)\n\n  return { itemKey, encryptedItem }\n}\n\nconst updateItem = async (params) => {\n  try {\n    _validateDbInput(params)\n\n    const database = getOpenDb(params.databaseName)\n\n    const action = 'Update'\n    const updateParams = await _buildUpdateParams(database, params)\n\n    await postTransaction(database, action, updateParams)\n  } catch (e) {\n\n    switch (e.name) {\n      case 'ParamsMustBeObject':\n      case 'DatabaseNotOpen':\n      case 'DatabaseNameMissing':\n      case 'DatabaseNameMustBeString':\n      case 'DatabaseNameCannotBeBlank':\n      case 'DatabaseNameTooLong':\n      case 'ItemIdMissing':\n      case 'ItemIdMustBeString':\n      case 'ItemIdCannotBeBlank':\n      case 'ItemIdTooLong':\n      case 'ItemMissing':\n      case 'ItemInvalid':\n      case 'ItemTooLarge':\n      case 'ItemDoesNotExist':\n      case 'ItemUpdateConflict':\n      case 'UserNotSignedIn':\n      case 'UserNotFound':\n      case 'TooManyRequests':\n      case 'ServiceUnavailable':\n        throw e\n\n      default:\n        throw new errors.UnknownServiceUnavailable\n    }\n\n  }\n}\n\nconst _buildUpdateParams = async (database, params) => {\n  if (!objectHasOwnProperty(params, 'item')) throw new errors.ItemMissing\n  if (!objectHasOwnProperty(params, 'itemId')) throw new errors.ItemIdMissing\n\n  const { item, itemId } = params\n\n  if (typeof itemId !== 'string') throw new errors.ItemIdMustBeString\n  if (itemId.length === 0) throw new errors.ItemIdCannotBeBlank\n  if (itemId.length > MAX_ITEM_ID_CHAR_LENGTH) throw new errors.ItemIdTooLong(MAX_ITEM_ID_CHAR_LENGTH)\n\n  if (!database.itemExists(itemId)) throw new errors.ItemDoesNotExist\n\n  const itemString = JSON.stringify(item)\n  if (!itemString) throw new errors.ItemInvalid\n  if (byteSizeOfString(itemString) > MAX_ITEM_BYTES) throw new errors.ItemTooLarge(MAX_ITEM_KB)\n\n  const itemKey = await crypto.hmac.signString(ws.keys.hmacKey, itemId)\n  const currentVersion = database.getItemVersionNumber(itemId)\n  const itemRecord = { id: itemId, item, __v: currentVersion + 1 }\n  const encryptedItem = await crypto.aesGcm.encryptJson(database.dbKey, itemRecord)\n\n  return { itemKey, encryptedItem }\n}\n\nconst deleteItem = async (params) => {\n  try {\n    _validateDbInput(params)\n\n    const database = getOpenDb(params.databaseName)\n\n    const action = 'Delete'\n    const deleteParams = await _buildDeleteParams(database, params)\n\n    await postTransaction(database, action, deleteParams)\n  } catch (e) {\n\n    switch (e.name) {\n      case 'ParamsMustBeObject':\n      case 'DatabaseNotOpen':\n      case 'DatabaseNameMissing':\n      case 'DatabaseNameMustBeString':\n      case 'DatabaseNameCannotBeBlank':\n      case 'DatabaseNameTooLong':\n      case 'ItemIdMissing':\n      case 'ItemIdMustBeString':\n      case 'ItemIdCannotBeBlank':\n      case 'ItemIdTooLong':\n      case 'ItemDoesNotExist':\n      case 'ItemUpdateConflict':\n      case 'UserNotSignedIn':\n      case 'UserNotFound':\n      case 'TooManyRequests':\n      case 'ServiceUnavailable':\n        throw e\n\n      default:\n        throw new errors.UnknownServiceUnavailable(e)\n    }\n\n  }\n}\n\nconst _buildDeleteParams = async (database, params) => {\n  if (!objectHasOwnProperty(params, 'itemId')) throw new errors.ItemIdMissing\n\n  const { itemId } = params\n\n  if (typeof itemId !== 'string') throw new errors.ItemIdMustBeString\n  if (itemId.length === 0) throw new errors.ItemIdCannotBeBlank\n  if (itemId.length > MAX_ITEM_ID_CHAR_LENGTH) throw new errors.ItemIdTooLong(MAX_ITEM_ID_CHAR_LENGTH)\n\n  if (!database.itemExists(itemId)) throw new errors.ItemDoesNotExist\n\n  const itemKey = await crypto.hmac.signString(ws.keys.hmacKey, itemId)\n  const currentVersion = database.getItemVersionNumber(itemId)\n  const itemRecord = { id: itemId, __v: currentVersion + 1 }\n  const encryptedItem = await crypto.aesGcm.encryptJson(database.dbKey, itemRecord)\n\n  return { itemKey, encryptedItem }\n}\n\nconst putTransaction = async (params) => {\n  try {\n    _validateDbInput(params)\n    if (!objectHasOwnProperty(params, 'operations')) throw new errors.OperationsMissing\n\n    const { databaseName, operations } = params\n\n    if (!Array.isArray(operations)) throw new errors.OperationsMustBeArray\n\n    const database = getOpenDb(databaseName)\n\n    const action = 'BatchTransaction'\n\n    const operationParamsPromises = await Promise.all(operations.map(operation => {\n      const command = operation.command\n\n      switch (command) {\n        case 'Insert': {\n          return _buildInsertParams(database, operation)\n        }\n\n        case 'Update': {\n          return _buildUpdateParams(database, operation)\n        }\n\n        case 'Delete': {\n          return _buildDeleteParams(database, operation)\n        }\n\n        default: throw new errors.CommandNotRecognized(command)\n      }\n    }))\n    const operationParamsPromiseResults = await Promise.all(operationParamsPromises)\n\n    const operationParams = {\n      operations: operations.map((operation, i) => ({\n        command: operation.command,\n        ...operationParamsPromiseResults[i]\n      }))\n    }\n\n    try {\n      await postTransaction(database, action, operationParams)\n    } catch (e) {\n      if (e.response && e.response.data.error === 'OperationsExceedLimit') {\n        throw new errors.OperationsExceedLimit(e.response.data.limit)\n      }\n      throw e\n    }\n\n  } catch (e) {\n\n    switch (e.name) {\n      case 'ParamsMustBeObject':\n      case 'DatabaseNotOpen':\n      case 'DatabaseNameMissing':\n      case 'DatabaseNameMustBeString':\n      case 'DatabaseNameCannotBeBlank':\n      case 'DatabaseNameTooLong':\n      case 'OperationsMissing':\n      case 'OperationsMustBeArray':\n      case 'OperationsConflict':\n      case 'OperationsExceedLimit':\n      case 'CommandNotRecognized':\n      case 'ItemIdMissing':\n      case 'ItemIdMustBeString':\n      case 'ItemIdCannotBeBlank':\n      case 'ItemIdTooLong':\n      case 'ItemMissing':\n      case 'ItemInvalid':\n      case 'ItemTooLarge':\n      case 'ItemAlreadyExists':\n      case 'ItemDoesNotExist':\n      case 'ItemUpdateConflict':\n      case 'UserNotSignedIn':\n      case 'UserNotFound':\n      case 'TooManyRequests':\n      case 'ServiceUnavailable':\n        throw e\n\n      default:\n        throw new errors.UnknownServiceUnavailable(e)\n    }\n  }\n}\n\nconst postTransaction = async (database, action, params) => {\n  try {\n    const pendingTx = database.registerUnverifiedTransaction()\n\n    const paramsWithDbData = {\n      ...params,\n      dbId: database.dbId,\n      dbNameHash: ws.state.dbIdToHash[database.dbId]\n    }\n\n    const response = await ws.request(action, paramsWithDbData)\n    const seqNo = response.data.sequenceNo\n\n    await pendingTx.getResult(seqNo)\n\n    database.unregisterUnverifiedTransaction(pendingTx)\n\n    return seqNo\n  } catch (e) {\n    _parseGenericErrors(e)\n    throw e\n  }\n}\n\nconst _buildDatabaseResult = async (db) => {\n  const dbKeyString = await crypto.aesGcm.decryptString(ws.keys.encryptionKey, db.encryptedDbKey)\n  const dbKey = await crypto.aesGcm.getKeyFromKeyString(dbKeyString)\n  const databaseName = await crypto.aesGcm.decryptString(dbKey, db.databaseName)\n  return { databaseName }\n}\n\nconst getDatabases = async () => {\n  try {\n    if (!ws.keys.init) throw new errors.UserNotSignedIn\n\n    try {\n      const databases = []\n      let action = 'GetDatabases'\n      let databasesResponse = await ws.request(action)\n      let databaseResults = await Promise.all(databasesResponse.data.databases.map(db => _buildDatabaseResult(db)))\n      databases.push(...databaseResults)\n\n      while (databasesResponse.data.nextPageToken) {\n        const params = { nextPageToken: databasesResponse.data.nextPageToken }\n        databasesResponse = await ws.request(action, params)\n        databaseResults = await Promise.all(databasesResponse.data.databases.map(db => _buildDatabaseResult(db)))\n        databases.push(...databaseResults)\n      }\n\n      return { databases }\n    } catch (e) {\n      _parseGenericErrors(e)\n      throw e\n    }\n\n  } catch (e) {\n\n    switch (e.name) {\n      case 'UserNotSignedIn':\n      case 'ServiceUnavailable':\n        throw e\n\n      default:\n        throw new errors.ServiceUnavailable\n    }\n  }\n}\n\nexport default {\n  openDatabase,\n  getDatabases,\n\n  insertItem,\n  updateItem,\n  deleteItem,\n  putTransaction,\n}\n","import ws from './ws'\nimport errors from './errors'\nimport statusCodes from './statusCodes'\nimport { objectHasOwnProperty, getProtocolFromEndpoint } from './utils'\nimport config from './config'\n\nconst _parseGenericErrors = (e) => {\n  if (e.response) {\n    if (e.response.status === statusCodes['Internal Server Error']) {\n      throw new errors.InternalServerError\n    } else if (e.response.status === statusCodes['Gateway Timeout']) {\n      throw new errors.Timeout\n    }\n  } else if (e.message && e.message.includes('timeout')) {\n    throw new errors.Timeout\n  }\n}\n\nconst _validatePurchaseOrUpdate = (params) => {\n  if (ws.reconnecting) throw new errors.Reconnecting\n  if (!ws.keys.init) throw new errors.UserNotSignedIn\n\n  const stripeData = ws.userData.stripeData\n  if (!stripeData.stripeAccountId) throw new errors.StripeAccountNotConnected\n  if (stripeData.paymentsMode === 'disabled') throw new errors.PaymentsDisabled\n\n  if (!objectHasOwnProperty(window, 'Stripe')) throw new errors.StripeJsLibraryMissing\n\n  if (typeof params !== 'object') throw new errors.ParamsMustBeObject\n\n  if (!objectHasOwnProperty(params, 'successUrl')) throw new errors.SuccessUrlMissing\n  if (typeof params.successUrl !== 'string') throw new errors.SuccessUrlMustBeString\n  const successUrlProtocol = getProtocolFromEndpoint(params.successUrl)\n  if (successUrlProtocol !== 'http' && successUrlProtocol !== 'https') {\n    const invalidProtocol = true\n    throw new errors.SuccessUrlInvalid(invalidProtocol)\n  }\n\n  if (!objectHasOwnProperty(params, 'cancelUrl')) throw new errors.CancelUrlMissing\n  if (typeof params.cancelUrl !== 'string') throw new errors.CancelUrlMustBeString\n  const cancelUrlProtocol = getProtocolFromEndpoint(params.cancelUrl)\n  if (cancelUrlProtocol !== 'http' && cancelUrlProtocol !== 'https') {\n    const invalidProtocol = true\n    throw new errors.CancelUrlInvalid(invalidProtocol)\n  }\n}\n\nconst purchaseSubscription = async (params) => {\n  try {\n    const stripeData = ws.userData.stripeData\n    if (stripeData.subscriptionStatus && stripeData.subscriptionStatus !== 'canceled') {\n      throw new errors.SubscriptionPlanAlreadyPurchased\n    }\n    _validatePurchaseOrUpdate(params)\n\n    try {\n      const action = 'PurchaseSubscription'\n      const sessionIdResponse = await ws.request(action, params)\n      const stripeSessionId = sessionIdResponse.data\n\n      const stripePk = config.getStripePublishableKey(stripeData.paymentsMode === 'prod')\n\n      const result = await window\n        .Stripe(stripePk, { stripeAccount: stripeData.stripeAccountId })\n        .redirectToCheckout({ sessionId: stripeSessionId })\n\n      if (result.error) throw result.error\n\n    } catch (e) {\n      _parseGenericErrors(e)\n\n      if (e.response) {\n        if (e.response.data === 'SubscriptionPlanNotSet') {\n          throw new errors.SubscriptionPlanNotSet\n        } else if (e.response.data === 'SubscriptionPlanAlreadyPurchased') {\n          throw new errors.SubscriptionPlanAlreadyPurchased\n        } else if (e.response.data === 'SuccessUrlInvalid') {\n          throw new errors.SuccessUrlInvalid\n        } else if (e.response.data === 'CancelUrlInvalid') {\n          throw new errors.CancelUrlInvalid\n        } else if (e.response.data && e.response.data.name === 'StripeError') {\n          throw new errors.StripeError(e.response.data)\n        }\n      }\n\n      throw e\n    }\n\n  } catch (e) {\n\n    switch (e.name) {\n      case 'ParamsMustBeObject':\n      case 'SuccessUrlMissing':\n      case 'SuccessUrlMustBeString':\n      case 'SuccessUrlInvalid':\n      case 'CancelUrlMissing':\n      case 'CancelUrlMustBeString':\n      case 'CancelUrlInvalid':\n      case 'StripeError':\n      case 'StripeJsLibraryMissing':\n      case 'SubscriptionPlanNotSet':\n      case 'SubscriptionPlanAlreadyPurchased':\n      case 'StripeAccountNotConnected':\n      case 'PaymentsDisabled':\n      case 'UserNotSignedIn':\n      case 'TooManyRequests':\n      case 'ServiceUnavailable':\n        throw e\n\n      default:\n        throw new errors.UnknownServiceUnavailable(e)\n    }\n  }\n}\n\nconst _validateModifySubscriptionConditions = () => {\n  if (ws.reconnecting) throw new errors.Reconnecting\n  if (!ws.keys.init) throw new errors.UserNotSignedIn\n\n  const stripeData = ws.userData.stripeData\n  if (!stripeData.stripeAccountId) throw new errors.StripeAccountNotConnected\n  if (stripeData.paymentsMode === 'disabled') throw new errors.PaymentsDisabled\n\n  if (stripeData.subscriptionStatus === 'canceled') throw new errors.SubscriptionAlreadyCanceled\n}\n\nconst cancelSubscription = async () => {\n  try {\n    _validateModifySubscriptionConditions()\n\n    try {\n      const action = 'CancelSubscription'\n      const cancelResponse = await ws.request(action)\n      const cancelSubscriptionAt = cancelResponse.data\n\n      ws.userData.stripeData.cancelAt = cancelSubscriptionAt\n      return { cancelSubscriptionAt }\n    } catch (e) {\n      _parseGenericErrors(e)\n\n      if (e.response && e.response.data === 'SubscriptionPlanNotSet') {\n        throw new errors.SubscriptionPlanNotSet\n      }\n\n      throw e\n    }\n\n  } catch (e) {\n\n    switch (e.name) {\n      case 'SubscriptionPlanNotSet':\n      case 'StripeAccountNotConnected':\n      case 'PaymentsDisabled':\n      case 'SubscriptionAlreadyCanceled':\n      case 'UserNotSignedIn':\n      case 'TooManyRequests':\n      case 'ServiceUnavailable':\n        throw e\n\n      default:\n        throw new errors.UnknownServiceUnavailable(e)\n    }\n  }\n}\n\nconst resumeSubscription = async () => {\n  try {\n    _validateModifySubscriptionConditions()\n\n    try {\n      const action = 'ResumeSubscription'\n      await ws.request(action)\n\n      delete ws.userData.stripeData.cancelAt\n    } catch (e) {\n      _parseGenericErrors(e)\n\n      if (e.response && e.response.data === 'SubscriptionPlanNotSet') {\n        throw new errors.SubscriptionPlanNotSet\n      }\n\n      throw e\n    }\n\n  } catch (e) {\n\n    switch (e.name) {\n      case 'SubscriptionPlanNotSet':\n      case 'StripeAccountNotConnected':\n      case 'PaymentsDisabled':\n      case 'SubscriptionAlreadyCanceled':\n      case 'UserNotSignedIn':\n      case 'TooManyRequests':\n      case 'ServiceUnavailable':\n        throw e\n\n      default:\n        throw new errors.UnknownServiceUnavailable(e)\n    }\n  }\n}\n\nconst updatePaymentMethod = async (params) => {\n  try {\n    _validatePurchaseOrUpdate(params)\n\n    const stripeData = ws.userData.stripeData\n    if (!stripeData.subscriptionStatus) throw new errors.SubscriptionNotPurchased\n\n    try {\n      const action = 'UpdatePaymentMethod'\n      const sessionIdResponse = await ws.request(action, params)\n      const stripeSessionId = sessionIdResponse.data\n\n      const stripePk = config.getStripePublishableKey(stripeData.paymentsMode === 'prod')\n\n      const result = await window\n        .Stripe(stripePk, { stripeAccount: stripeData.stripeAccountId })\n        .redirectToCheckout({ sessionId: stripeSessionId })\n\n      if (result.error) throw result.error\n\n    } catch (e) {\n      _parseGenericErrors(e)\n\n      if (e.response) {\n        if (e.response.data === 'SuccessUrlInvalid') {\n          throw new errors.SuccessUrlInvalid\n        } else if (e.response.data === 'CancelUrlInvalid') {\n          throw new errors.CancelUrlInvalid\n        }\n      }\n\n      throw e\n    }\n\n  } catch (e) {\n\n    switch (e.name) {\n      case 'ParamsMustBeObject':\n      case 'SuccessUrlMissing':\n      case 'SuccessUrlMustBeString':\n      case 'SuccessUrlInvalid':\n      case 'CancelUrlMissing':\n      case 'CancelUrlMustBeString':\n      case 'CancelUrlInvalid':\n      case 'StripeJsLibraryMissing':\n      case 'SubscriptionNotPurchased':\n      case 'StripeAccountNotConnected':\n      case 'PaymentsDisabled':\n      case 'UserNotSignedIn':\n      case 'TooManyRequests':\n      case 'ServiceUnavailable':\n        throw e\n\n      default:\n        throw new errors.UnknownServiceUnavailable(e)\n    }\n  }\n}\n\nexport default {\n  purchaseSubscription,\n  cancelSubscription,\n  resumeSubscription,\n  updatePaymentMethod,\n}\n","import auth from './auth'\nimport db from './db'\nimport payments from './payments'\n\nexport default {\n  init: auth.init,\n\n  signUp: auth.signUp,\n  signIn: auth.signIn,\n  signOut: auth.signOut,\n  updateUser: auth.updateUser,\n  deleteUser: auth.deleteUser,\n  forgotPassword: auth.forgotPassword,\n\n  openDatabase: db.openDatabase,\n  getDatabases: db.getDatabases,\n\n  insertItem: db.insertItem,\n  updateItem: db.updateItem,\n  deleteItem: db.deleteItem,\n  putTransaction: db.putTransaction,\n\n  purchaseSubscription: payments.purchaseSubscription,\n  cancelSubscription: payments.cancelSubscription,\n  resumeSubscription: payments.resumeSubscription,\n  updatePaymentMethod: payments.updatePaymentMethod,\n}\n"],"sourceRoot":""}